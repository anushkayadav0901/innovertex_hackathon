var e,t,s=Object.defineProperty,i=(e,t,i)=>((e,t,i)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i);import{j as a,m as n,A as r,u as o,a as l,b as c,c as d,d as h,e as u}from"../js/chunk-CPn5PXGN.js";import{r as p,c as m,g,b as x,d as f}from"../js/chunk-e25mdYPe.js";import{_ as b,B as v,M as y,C as w,E as j,V as N,u as k,c as S,d as C,P as M,L as I,H as T,e as E,f as _,S as D,g as P,h as A,O,i as L,j as R,F as z,k as B,l as F,m as H,n as W,D as $,o as G,p as V,q as U,A as q,r as Y,s as X}from"../js/chunk-BRjGIU92.js";import{u as J,L as K,N as Q,O as Z,a as ee,b as te,c as se,R as ie}from"../js/chunk-B9dGnliu.js";import{c as ae}from"../js/chunk-CwKpGvdp.js";import{B as ne,X as re,C as oe,A as le,U as ce,M as de,H as he,R as ue,S as pe,a as me,b as ge,L as xe,c as fe,G as be,F as ve,d as ye,T as we,e as je,f as Ne,g as ke,h as Se,i as Ce,I as Me,j as Ie,k as Te,l as Ee,m as _e,n as De,o as Pe,E as Ae,p as Oe,q as Le,r as Re,s as ze,t as Be,P as Fe,_ as He,u as We,v as $e,w as Ge,x as Ve,Z as Ue,y as qe,V as Ye,z as Xe,D as Je,J as Ke,K as Qe,N as Ze,O as et,Q as tt,W as st,Y as it,$ as at}from"../js/chunk-CrNyskac.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function nt(e,t){let s;try{s=e()}catch(i){return}return{getItem:e=>{var t;const i=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=s.getItem(e))?t:null;return a instanceof Promise?a.then(i):i(a)},setItem:(e,t)=>s.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>s.removeItem(e)}}const rt=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then:e=>rt(e)(s),catch(e){return this}}}catch(s){return{then(e){return this},catch:e=>rt(e)(s)}}},ot=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(s,i,a)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},r=!1;const o=new Set,l=new Set;let c;try{c=n.getStorage()}catch(x){}if(!c)return e((...e)=>{s(...e)},i,a);const d=rt(n.serialize),h=()=>{const e=n.partialize({...i()});let t;const s=d({state:e,version:n.version}).then(e=>c.setItem(n.name,e)).catch(e=>{t=e});if(t)throw t;return s},u=a.setState;a.setState=(e,t)=>{u(e,t),h()};const p=e((...e)=>{s(...e),h()},i,a);let m;const g=()=>{var e;if(!c)return;r=!1,o.forEach(e=>e(i()));const t=(null==(e=n.onRehydrateStorage)?void 0:e.call(n,i()))||void 0;return rt(c.getItem.bind(c))(n.name).then(e=>{if(e)return n.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return e.state;if(n.migrate)return n.migrate(e.state,e.version)}}).then(e=>{var t;return m=n.merge(e,null!=(t=i())?t:p),s(m,!0),h()}).then(()=>{null==t||t(m,void 0),r=!0,l.forEach(e=>e(m))}).catch(e=>{null==t||t(void 0,e)})};return a.persist={setOptions:e=>{n={...n,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>g(),hasHydrated:()=>r,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},g(),m||p})(e,t):((e,t)=>(s,i,a)=>{let n={storage:nt(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},r=!1;const o=new Set,l=new Set;let c=n.storage;if(!c)return e((...e)=>{s(...e)},i,a);const d=()=>{const e=n.partialize({...i()});return c.setItem(n.name,{state:e,version:n.version})},h=a.setState;a.setState=(e,t)=>{h(e,t),d()};const u=e((...e)=>{s(...e),d()},i,a);let p;a.getInitialState=()=>u;const m=()=>{var e,t;if(!c)return;r=!1,o.forEach(e=>{var t;return e(null!=(t=i())?t:u)});const a=(null==(t=n.onRehydrateStorage)?void 0:t.call(n,null!=(e=i())?e:u))||void 0;return rt(c.getItem.bind(c))(n.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];if(n.migrate)return[!0,n.migrate(e.state,e.version)]}return[!1,void 0]}).then(e=>{var t;const[a,r]=e;if(p=n.merge(r,null!=(t=i())?t:u),s(p,!0),a)return d()}).then(()=>{null==a||a(p,void 0),p=i(),r=!0,l.forEach(e=>e(p))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{n={...n,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>m(),hasHydrated:()=>r,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},n.skipHydration||m(),p||u})(e,t);function lt(e="id"){return`${e}_${Math.random().toString(36).slice(2,8)}_${Date.now().toString(36)}`}const ct=()=>{const e=Date.now(),t=864e5,s={id:"hx-1",title:"Innovortex 4.0",org:"Innovortex",dateRange:"Oct 15 - Oct 17",tags:["AI","Web"],prize:"₹1,00,000",description:"Flagship innovation sprint focusing on real-world problem statements with AI and web technologies.",criteria:[{id:"c1",label:"Innovation",max:10},{id:"c2",label:"Technical Depth",max:10},{id:"c3",label:"Impact",max:10},{id:"c4",label:"Presentation",max:10}],startAt:e-t,endAt:e+2*t},i={id:"hx-2",title:"AI for Good",org:"Open Impact",dateRange:"Nov 10 - Nov 12",tags:["AI","Health"],prize:"₹2,00,000",description:"Build AI solutions for social impact challenges.",criteria:[{id:"c1",label:"Innovation",max:10},{id:"c2",label:"Feasibility",max:10},{id:"c3",label:"Impact",max:10}],startAt:e+20*t,endAt:e+23*t},a={id:"hx-3",title:"Web3 Builders",org:"ChainWorks",dateRange:"Aug 12 - Aug 14",tags:["Web3","Blockchain"],prize:"₹1,50,000",description:"Push the limits of decentralized apps and protocols.",criteria:[{id:"c1",label:"Innovation",max:10},{id:"c2",label:"Technical Depth",max:10},{id:"c3",label:"UX",max:10}],startAt:e-60*t,endAt:e-58*t},n={id:"judge-1",name:"Dr. Priya Sharma",email:"priya.sharma@tech.com",role:"judge",linkedinUrl:"https://linkedin.com/in/priyasharma",bio:"Senior AI Research Scientist with 10+ years in machine learning and deep learning.",expertise:["AI/ML","Deep Learning","Computer Vision","NLP"],badges:[]},r={id:"judge-2",name:"Rajesh Kumar",email:"rajesh.kumar@startup.io",role:"judge",linkedinUrl:"https://linkedin.com/in/rajeshkumar",bio:"Tech entrepreneur and full-stack developer. Founded 3 successful startups.",expertise:["Full Stack","Entrepreneurship","Product Management","React","Node.js"],badges:[]},o={id:"judge-3",name:"Anita Desai",email:"anita.desai@corp.com",role:"judge",linkedinUrl:"https://linkedin.com/in/anitadesai",bio:"VP of Engineering at Fortune 500 company. Expert in scalable systems.",expertise:["System Design","Cloud Architecture","DevOps","Leadership"],badges:[]},l={[n.id]:n,[r.id]:r,[o.id]:o};return{hackathons:{[s.id]:s,[i.id]:i,[a.id]:a},users:l}},dt=ae()(ot((e,t)=>({users:ct().users,session:{},hackathons:ct().hackathons,teams:{},submissions:{},evaluations:{},announcements:{},faqs:{},questions:{},judgeChats:{},teamFeedbacks:{},judgeApplications:{},login:s=>{const{users:i}=t(),a=Object.values(i).find(e=>e.email.toLowerCase()===s.toLowerCase());if(!a)throw new Error("No account found with this email");e({session:{currentUserId:a.id}})},logout:()=>e({session:{}}),signup:(t,s,i)=>{const a=lt("usr"),n={id:a,name:t,email:s,role:i,badges:[]};e(e=>({users:{...e.users,[a]:n},session:{currentUserId:a}}))},createHackathon:s=>{const i=t().session.currentUserId;if(!i)throw new Error("Not authenticated");const a=lt("hx"),n={id:a,organizerId:i,...s};return e(e=>({hackathons:{...e.hackathons,[a]:n}})),a},registerTeam:(s,i)=>{const a=t().session.currentUserId;if(!a)throw new Error("Not authenticated");const n=lt("team"),r={id:n,name:i,hackathonId:s,members:[a]};return e(e=>({teams:{...e.teams,[n]:r}})),n},joinTeam:s=>{const i=t().session.currentUserId;if(!i)throw new Error("Not authenticated");e(e=>{const t=e.teams[s];return t?(t.members.includes(i)||(t.members=[...t.members,i]),{teams:{...e.teams,[s]:t}}):e})},submitProject:(t,s,i)=>{const a=lt("sub"),n={id:a,hackathonId:t,teamId:s,title:i.title||"Project Submission",repoUrl:i.repoUrl,figmaUrl:i.figmaUrl,driveUrl:i.driveUrl,deckUrl:i.deckUrl,description:i.description,createdAt:Date.now()};return e(e=>({submissions:{...e.submissions,[a]:n}})),a},addEvaluation:(s,i,a)=>{const n=t().session.currentUserId;if(!n)throw new Error("Not authenticated");const r=t().submissions[s];if(!r)throw new Error("Submission not found");const o=lt("eval"),l={id:o,hackathonId:r.hackathonId,submissionId:s,judgeId:n,scores:i,feedback:a,createdAt:Date.now()};return e(e=>({evaluations:{...e.evaluations,[o]:l}})),o},addAnnouncement:(s,i)=>{const a=t().session.currentUserId;if(!a)throw new Error("Not authenticated");const n=lt("ann"),r={id:n,hackathonId:s,authorId:a,message:i,createdAt:Date.now()};return e(e=>({announcements:{...e.announcements,[n]:r}})),n},addFAQ:(t,s,i)=>{const a=lt("faq"),n={id:a,hackathonId:t,question:s,answer:i};return e(e=>({faqs:{...e.faqs,[a]:n}})),a},askQuestion:(s,i)=>{const a=t().session.currentUserId;if(!a)throw new Error("Not authenticated");const n=lt("q"),r={id:n,hackathonId:s,authorId:a,text:i,createdAt:Date.now()};return e(e=>({questions:{...e.questions,[n]:r}})),n},answerQuestion:(s,i)=>{const a=t().session.currentUserId;if(!a)throw new Error("Not authenticated");e(e=>{const t=e.questions[s];return t?(t.answer={authorId:a,text:i,createdAt:Date.now()},{questions:{...e.questions,[s]:t}}):e})},sendJudgeMessage:(s,i,a)=>{const n=t().session.currentUserId;if(!n)throw new Error("Not authenticated");const r=lt("jchat"),o={id:r,hackathonId:s,senderId:n,receiverId:a,message:i,createdAt:Date.now()};return e(e=>({judgeChats:{...e.judgeChats,[r]:o}})),r},addTeamFeedback:(s,i,a,n)=>{const r=t().session.currentUserId;if(!r)throw new Error("Not authenticated");const o=lt("tfb"),l={id:o,hackathonId:s,teamId:i,judgeId:r,feedback:a,isPublic:n,createdAt:Date.now()};return e(e=>({teamFeedbacks:{...e.teamFeedbacks,[o]:l}})),o},applyAsJudge:s=>{const i=t().session.currentUserId;if(!i)throw new Error("Not authenticated");const a=Object.values(t().judgeApplications).find(e=>e.hackathonId===s&&e.userId===i&&"rejected"!==e.status);if(a)return a.id;const n=lt("japp"),r={id:n,hackathonId:s,userId:i,status:"pending",createdAt:Date.now()};return e(e=>({judgeApplications:{...e.judgeApplications,[n]:r}})),n}}),{name:"innovortex-store"})),ht=p.createContext(void 0);function ut({children:e}){const[t,s]=p.useState(()=>{const e=localStorage.getItem("theme");return"light"===e||"dark"===e?e:"dark"});p.useEffect(()=>{localStorage.setItem("theme",t);document.documentElement.dataset.theme=t},[t]);const i=e=>s(e),n=()=>s(e=>"dark"===e?"light":"dark"),r=p.useMemo(()=>({theme:t,toggle:n,setTheme:i}),[t]);return a.jsx(ht.Provider,{value:r,children:e})}const pt=[{id:"1",type:"like",title:"New Like",message:'Sarah liked your project submission "EcoTracker"',timestamp:new Date(Date.now()-3e5),read:!1,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=40"},{id:"2",type:"team_invite",title:"Team Invitation",message:'Alex Chen invited you to join "AI Innovators" team',timestamp:new Date(Date.now()-9e5),read:!1,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40"},{id:"3",type:"badge",title:"Badge Earned!",message:'You earned the "Code Warrior" badge for completing 5 hackathons',timestamp:new Date(Date.now()-18e5),read:!1},{id:"4",type:"comment",title:"New Comment",message:'Marcus commented on your project: "Great work on the UI design!"',timestamp:new Date(Date.now()-36e5),read:!0,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40"},{id:"5",type:"submission",title:"Submission Reminder",message:'Don\'t forget to submit your project for "Climate Tech Challenge"',timestamp:new Date(Date.now()-72e5),read:!0}];function mt(){const[e,t]=p.useState(pt),[s,i]=p.useState(!1),o=p.useRef(null),l=p.useRef(null),c=e.filter(e=>!e.read).length;p.useEffect(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&l.current&&!l.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),p.useEffect(()=>{const e=setInterval(()=>{if(Math.random()>.8){const e={id:Date.now().toString(),type:["like","comment","team_invite"][Math.floor(3*Math.random())],title:"New Activity",message:"You have a new notification!",timestamp:new Date,read:!1,avatar:`https://images.unsplash.com/photo-${15e11+Math.floor(1e8*Math.random())}?w=40`};t(t=>[e,...t.slice(0,9)])}},15e3);return()=>clearInterval(e)},[]);const d=e=>{switch(e){case"like":return a.jsx(he,{className:"w-4 h-4 text-red-400"});case"comment":return a.jsx(de,{className:"w-4 h-4 text-blue-400"});case"team_invite":return a.jsx(ce,{className:"w-4 h-4 text-green-400"});case"badge":return a.jsx(le,{className:"w-4 h-4 text-yellow-400"});case"submission":return a.jsx(oe,{className:"w-4 h-4 text-purple-400"});default:return a.jsx(ne,{className:"w-4 h-4 text-slate-400"})}},h=e=>{const t=(new Date).getTime()-e.getTime(),s=Math.floor(t/6e4),i=Math.floor(t/36e5),a=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s}m ago`:i<24?`${i}h ago`:`${a}d ago`};return a.jsxs("div",{className:"relative",children:[a.jsxs(n.button,{ref:l,onClick:()=>i(!s),className:"relative p-2 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(ne,{className:"w-5 h-5 text-slate-300"}),a.jsx(r,{children:c>0&&a.jsx(n.div,{className:"notification-badge",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:30},children:c>99?"99+":c})})]}),a.jsx(r,{children:s&&a.jsxs(n.div,{ref:o,className:"notification-dropdown open",initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},children:[a.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-white",children:"Notifications"}),a.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&a.jsx(n.button,{onClick:()=>{t(e=>e.map(e=>({...e,read:!0})))},className:"text-xs text-brand-400 hover:text-brand-300 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Mark all read"}),a.jsx(n.button,{onClick:()=>i(!1),className:"p-1 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(re,{className:"w-4 h-4 text-slate-400"})})]})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:0===e.length?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ne,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-400",children:"No notifications yet"})]}):a.jsx("div",{className:"py-2",children:a.jsx(r,{children:e.map((e,s)=>a.jsxs(n.div,{className:"relative p-4 hover:bg-white/5 transition-colors cursor-pointer border-l-2 "+(e.read?"border-transparent opacity-70":"border-brand-400"),onClick:()=>{return!e.read&&(s=e.id,void t(e=>e.map(e=>e.id===s?{...e,read:!0}:e)));var s},initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:.05*s},whileHover:{x:4},children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:e.avatar?a.jsx("img",{src:e.avatar,alt:"",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:d(e.type)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-white truncate",children:e.title}),a.jsx("span",{className:"text-xs text-slate-400",children:h(e.timestamp)})]}),a.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:e.message})]}),a.jsx(n.button,{onClick:s=>{var i;s.stopPropagation(),i=e.id,t(e=>e.filter(e=>e.id!==i))},className:"flex-shrink-0 p-1 hover:bg-white/10 rounded-full transition-colors opacity-0 group-hover:opacity-100",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(re,{className:"w-3 h-3 text-slate-400"})})]}),!e.read&&a.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-brand-400 rounded-full"})]},e.id))})})}),e.length>0&&a.jsx("div",{className:"p-3 border-t border-white/10 text-center",children:a.jsx(n.button,{className:"text-sm text-brand-400 hover:text-brand-300 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"View all notifications"})})]})})]})}function gt(){const e=dt(e=>e.session.currentUserId),t=dt(t=>e?t.users[e]:void 0),s=dt(e=>e.logout),{theme:i,toggle:n}=function(){const e=p.useContext(ht);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}(),r=J(),[o,l]=p.useState(!1),[c,d]=p.useState(""),h=p.useRef(null),u=p.useRef(null),m=[{id:"1",text:"InnovertEx 2024",type:"hackathon",icon:"🏆"},{id:"2",text:"AI Hackathon",type:"hackathon",icon:"🏆"},{id:"3",text:"Web3 Summit",type:"hackathon",icon:"🏆"},{id:"4",text:"Code Crusaders",type:"team",icon:"👥"},{id:"5",text:"AI",type:"category",icon:"🤖"},{id:"6",text:"Blockchain",type:"category",icon:"⛓️"}],g=c.trim()?m.filter(e=>e.text.toLowerCase().includes(c.toLowerCase())).slice(0,5):m.slice(0,5);p.useEffect(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),p.useEffect(()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),l(!0),setTimeout(()=>{var e;return null==(e=u.current)?void 0:e.focus()},100))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const x=e=>{e.trim()&&(r(`/search?q=${encodeURIComponent(e.trim())}`),l(!1),d(""))};return a.jsx("header",{className:"sticky top-0 z-40 border-b border-white/10 backdrop-blur",children:a.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-4 py-3 sm:px-6 lg:px-8",children:[a.jsxs(K,{to:"/",className:"flex items-center gap-2 text-lg font-bold",children:[a.jsx(ue,{className:"h-6 w-6 text-brand-400"}),a.jsx("span",{children:"Innovortex"})]}),a.jsxs("nav",{className:"hidden gap-4 md:flex items-center",children:[a.jsx(Q,{to:"/discover",className:({isActive:e})=>"text-sm "+(e?"text-brand-300":"text-slate-300 hover:text-white"),children:"Discover"}),a.jsxs("div",{className:"relative",ref:h,children:[a.jsxs("button",{onClick:()=>{l(!o),o||setTimeout(()=>{var e;return null==(e=u.current)?void 0:e.focus()},100)},className:"flex items-center justify-between gap-2 px-3 py-1.5 bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 hover:border-white/20 transition-all text-sm text-slate-400 hover:text-slate-200 min-w-[120px] lg:min-w-[180px]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pe,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"hidden sm:inline text-xs lg:text-sm",children:"Search hackathons..."}),a.jsx("span",{className:"sm:hidden text-xs",children:"Search"})]}),a.jsx("kbd",{className:"hidden lg:inline-flex items-center px-1.5 py-0.5 text-xs font-mono bg-white/10 rounded border border-white/20",children:"⌘K"})]}),o&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl z-50 overflow-hidden",children:[a.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"relative",children:[a.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{ref:u,type:"text",value:c,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key?x(c):"Escape"===e.key&&(l(!1),d(""))},placeholder:"Search hackathons, teams, projects...",className:"w-full pl-10 pr-10 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),c&&a.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.jsx(re,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:g.map(e=>a.jsxs("button",{onClick:()=>(e=>{d(e.text),x(e.text)})(e),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[a.jsx("span",{className:"text-lg",children:e.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.text}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:e.type})]})]},e.id))}),a.jsx("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:"Press Enter to search"}),a.jsx("button",{onClick:()=>r("/search"),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Advanced Search →"})]})})]})]}),a.jsx(Q,{to:"/teams",className:({isActive:e})=>"text-sm "+(e?"text-brand-300":"text-slate-300 hover:text-white"),children:"Teams"}),a.jsx(Q,{to:"/community",className:({isActive:e})=>"text-sm "+(e?"text-brand-300":"text-slate-300 hover:text-white"),children:"Community"}),a.jsx(Q,{to:"/gallery",className:({isActive:e})=>"text-sm "+(e?"text-brand-300":"text-slate-300 hover:text-white"),children:"Gallery"}),a.jsx(Q,{to:"/gamify",className:({isActive:e})=>"text-sm "+(e?"text-brand-300":"text-slate-300 hover:text-white"),children:"Gamify"}),a.jsx(Q,{to:"/quest-map",className:({isActive:e})=>"text-sm "+(e?"text-brand-300":"text-slate-300 hover:text-white"),children:"Quest Map"}),t?a.jsxs(a.Fragment,{children:[a.jsx(Q,{to:"/dashboard",className:({isActive:e})=>"text-sm "+(e?"text-brand-300":"text-slate-300 hover:text-white"),children:"Dashboard"}),a.jsx(mt,{}),a.jsx("span",{className:"badge capitalize",children:t.role}),a.jsx("button",{onClick:s,className:"btn-primary bg-white/10 hover:bg-white/20",children:"Logout"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Q,{to:"/login",className:({isActive:e})=>"text-sm "+(e?"text-brand-300":"text-slate-300 hover:text-white"),children:"Login"}),a.jsx(Q,{to:"/signup",className:({isActive:e})=>"text-sm "+(e?"text-brand-300":"text-slate-300 hover:text-white"),children:"Sign up"})]}),a.jsx("button",{"aria-label":"Toggle theme",onClick:n,className:"ml-2 inline-flex h-9 w-9 items-center justify-center rounded-lg border border-white/10 bg-white/5 text-slate-200 hover:bg-white/10",children:"dark"===i?a.jsx(me,{className:"h-4 w-4"}):a.jsx(ge,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[a.jsxs("button",{onClick:()=>r("/search"),className:"flex items-center gap-1 px-2 py-1.5 bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 hover:border-white/20 transition-all text-slate-400 hover:text-slate-200",children:[a.jsx(pe,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:"Search"})]}),t?a.jsxs(a.Fragment,{children:[a.jsx(K,{to:"/dashboard",className:"btn-primary",children:"Dashboard"}),a.jsx("button",{onClick:s,className:"btn-primary bg-white/10 hover:bg-white/20",children:"Logout"})]}):a.jsxs(a.Fragment,{children:[a.jsxs(K,{to:"/login",className:"btn-primary",children:[a.jsx(xe,{className:"h-4 w-4"})," Login"]}),a.jsxs(K,{to:"/signup",className:"btn-primary",children:[a.jsx(fe,{className:"h-4 w-4"})," Sign up"]})]}),a.jsx("button",{"aria-label":"Toggle theme",onClick:n,className:"ml-1 inline-flex h-9 w-9 items-center justify-center rounded-lg border border-white/10 bg-white/5 text-slate-200 hover:bg-white/10",children:"dark"===i?a.jsx(me,{className:"h-4 w-4"}):a.jsx(ge,{className:"h-4 w-4"})})]})]})})}function xt({children:e}){return a.jsxs("div",{className:"app-bg",children:[a.jsx(gt,{}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e||a.jsx(Z,{})}),a.jsxs("footer",{className:"border-t border-white/10 py-6 text-center text-sm text-slate-400",children:["© ",(new Date).getFullYear()," Innovortex Hackathons — Built for creators and problem solvers."]}),a.jsx("div",{className:"grain"})]})}function ft(){return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[a.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-brand-500/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-20 right-20 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:6}).map((e,t)=>a.jsx(n.div,{className:"absolute w-4 h-4 border border-white/20 rotate-45",style:{left:100*Math.random()+"%",top:100*Math.random()+"%"},animate:{rotate:[45,405],scale:[1,1.2,1],opacity:[.3,.8,.3]},transition:{duration:4+t,repeat:1/0,ease:"easeInOut"}},t))}),a.jsxs("div",{className:"relative z-10 text-center px-4 max-w-6xl mx-auto",children:[a.jsxs(n.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 bg-gradient-to-r from-brand-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"BUILD THE FUTURE"}),a.jsx("p",{className:"text-xl md:text-2xl text-slate-300 mb-8 max-w-3xl mx-auto",children:"Join the most innovative hackathon platform where creativity meets technology. Build, compete, and shape the future together."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[a.jsx(n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(K,{to:"/discover",className:"btn-primary text-lg px-8 py-4 inline-flex items-center gap-2",children:[a.jsx(ue,{className:"w-5 h-5"}),"Start Building"]})}),a.jsx(n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(K,{to:"/signup",className:"btn-primary bg-white/10 hover:bg-white/20 text-lg px-8 py-4 inline-flex items-center gap-2",children:[a.jsx(ce,{className:"w-5 h-5"}),"Join Community"]})})]})]}),a.jsxs(n.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mt-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.5},children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-brand-400",children:"50K+"}),a.jsx("div",{className:"text-slate-400",children:"Developers"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-purple-400",children:"200+"}),a.jsx("div",{className:"text-slate-400",children:"Hackathons"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-pink-400",children:"$2M+"}),a.jsx("div",{className:"text-slate-400",children:"Prize Pool"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:"95%"}),a.jsx("div",{className:"text-slate-400",children:"Success Rate"})]})]})]}),a.jsx(n.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:a.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:a.jsx(n.div,{className:"w-1 h-3 bg-white/60 rounded-full mt-2",animate:{y:[0,12,0]},transition:{duration:2,repeat:1/0}})})})]}),a.jsx("section",{className:"py-20 px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Everything You Need to Succeed"}),a.jsx("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:"A comprehensive platform designed for organizers, participants, and judges"})]}),a.jsxs("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(n.div,{className:"card p-8 group hover:scale-105 transition-transform duration-300",whileHover:{y:-5},children:[a.jsx("div",{className:"w-12 h-12 bg-brand-500/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-brand-500/30 transition-colors",children:a.jsx("span",{className:"text-2xl",children:"🔍"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Hackathon Discovery"}),a.jsx("p",{className:"text-slate-300",children:"Explore curated challenges with advanced filters, tags, and interactive timelines."})]}),a.jsxs(n.div,{className:"card p-8 group hover:scale-105 transition-transform duration-300",whileHover:{y:-5},children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-emerald-500/30 transition-colors",children:a.jsx("span",{className:"text-2xl",children:"👥"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Team Formation"}),a.jsx("p",{className:"text-slate-300",children:"Create or join teams seamlessly with role management and eligibility tracking."})]}),a.jsxs(n.div,{className:"card p-8 group hover:scale-105 transition-transform duration-300",whileHover:{y:-5},children:[a.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-purple-500/30 transition-colors",children:a.jsx("span",{className:"text-2xl",children:"🚀"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Secure Submissions"}),a.jsx("p",{className:"text-slate-300",children:"Upload code, presentations, and demos in a centralized, secure portal."})]}),a.jsxs(n.div,{className:"card p-8 group hover:scale-105 transition-transform duration-300",whileHover:{y:-5},children:[a.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-amber-500/30 transition-colors",children:a.jsx("span",{className:"text-2xl",children:"⚖️"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Judge Dashboards"}),a.jsx("p",{className:"text-slate-300",children:"Comprehensive scoring system with criteria-based evaluation and feedback."})]}),a.jsxs(n.div,{className:"card p-8 group hover:scale-105 transition-transform duration-300",whileHover:{y:-5},children:[a.jsx("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-cyan-500/30 transition-colors",children:a.jsx("span",{className:"text-2xl",children:"💬"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Communication Hub"}),a.jsx("p",{className:"text-slate-300",children:"Announcements, FAQs, and Q&A spaces to keep everyone connected."})]}),a.jsxs(n.div,{className:"card p-8 group hover:scale-105 transition-transform duration-300",whileHover:{y:-5},children:[a.jsx("div",{className:"w-12 h-12 bg-rose-500/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-rose-500/30 transition-colors",children:a.jsx("span",{className:"text-2xl",children:"📊"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Analytics & Insights"}),a.jsx("p",{className:"text-slate-300",children:"Real-time leaderboards and comprehensive analytics for organizers."})]})]})]})}),a.jsx("section",{className:"py-20 px-4 bg-white/5",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h3",{className:"text-3xl font-bold text-white mb-8",children:"Seamless Integrations"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[a.jsxs(n.div,{className:"badge text-lg py-3 px-6 inline-flex items-center gap-3",whileHover:{scale:1.1,y:-2},children:[a.jsx(be,{className:"h-6 w-6"})," GitHub"]}),a.jsxs(n.div,{className:"badge text-lg py-3 px-6 inline-flex items-center gap-3",whileHover:{scale:1.1,y:-2},children:[a.jsx(ve,{className:"h-6 w-6"})," Figma"]}),a.jsxs(n.div,{className:"badge text-lg py-3 px-6 inline-flex items-center gap-3",whileHover:{scale:1.1,y:-2},children:[a.jsx(ye,{className:"h-6 w-6"})," Google Drive"]})]})]})}),a.jsx("section",{className:"py-20 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Start Building?"}),a.jsx("p",{className:"text-xl text-slate-300 mb-8 max-w-2xl mx-auto",children:"Join thousands of developers, designers, and innovators in the ultimate hackathon experience."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(K,{to:"/discover",className:"btn-primary text-lg px-8 py-4 inline-flex items-center gap-2",children:[a.jsx(we,{className:"w-5 h-5"}),"Explore Hackathons"]})}),a.jsx(n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(K,{to:"/signup",className:"btn-primary bg-white/10 hover:bg-white/20 text-white text-lg px-8 py-4 inline-flex items-center gap-2",children:[a.jsx(je,{className:"w-5 h-5"}),"Get Started Free"]})})]})]})})]})}function bt(){const e=Object.values(dt(e=>e.hackathons));return a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Discover Hackathons"}),a.jsx("div",{className:"mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(e=>a.jsxs(K,{to:`/hackathons/${e.id}`,className:"card p-6 hover:shadow-glow transition",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:e.title}),a.jsx("span",{className:"badge",children:e.prize})]}),a.jsxs("p",{className:"mt-1 text-sm text-slate-300",children:["by ",e.org]}),a.jsx("p",{className:"mt-1 text-xs text-slate-400",children:e.dateRange}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.tags.map(e=>a.jsx("span",{className:"badge",children:e},e))})]},e.id))})]})}function vt(){const[e,t]=p.useState(""),[s,i]=p.useState(null),n=dt(e=>e.login),r=J();return a.jsxs("div",{className:"mx-auto max-w-md card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Login"}),a.jsxs("form",{className:"mt-4 space-y-4",onSubmit:t=>{if(t.preventDefault(),i(null),e)try{n(e),r("/dashboard")}catch(s){i((null==s?void 0:s.message)||"Unable to login")}else i("Please enter your email")},children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300",children:"Email"}),a.jsx("input",{className:"input mt-1",type:"email",placeholder:"you@example.com",value:e,onChange:e=>t(e.target.value)})]}),a.jsx("button",{className:"btn-primary w-full",type:"submit",children:"Sign in"}),s&&a.jsx("p",{className:"text-sm text-red-400",children:s})]})]})}function yt(){const[e,t]=p.useState(""),[s,i]=p.useState(""),[n,r]=p.useState("participant"),[o,l]=p.useState(null),c=dt(e=>e.signup),d=J();return a.jsxs("div",{className:"mx-auto max-w-md card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Create your account"}),a.jsxs("form",{className:"mt-4 space-y-4",onSubmit:t=>{if(t.preventDefault(),l(null),e&&s)try{c(e,s,n),d("/dashboard")}catch(i){l((null==i?void 0:i.message)||"Unable to sign up")}else l("Please fill in name and email")},children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300",children:"Name"}),a.jsx("input",{className:"input mt-1",placeholder:"Jane Doe",value:e,onChange:e=>t(e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300",children:"Email"}),a.jsx("input",{className:"input mt-1",type:"email",placeholder:"you@example.com",value:s,onChange:e=>i(e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300",children:"Role"}),a.jsxs("select",{className:"input mt-1",value:n,onChange:e=>r(e.target.value),children:[a.jsx("option",{value:"participant",children:"Participant"}),a.jsx("option",{value:"organizer",children:"Organizer"}),a.jsx("option",{value:"judge",children:"Judge"})]})]}),a.jsx("button",{className:"btn-primary w-full",type:"submit",children:"Sign up"}),o&&a.jsx("p",{className:"text-sm text-red-400",children:o})]})]})}function wt(){const{id:e}=ee(),t=dt(t=>e?t.hackathons[e]:void 0),s=dt(e=>e.registerTeam),i=dt(e=>e.session.currentUserId),[n,r]=p.useState("");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:null==t?void 0:t.title}),a.jsxs("p",{className:"mt-1 text-sm text-slate-300",children:["by ",null==t?void 0:t.org," • ",null==t?void 0:t.dateRange]}),a.jsx("p",{className:"mt-2 text-slate-300",children:null==t?void 0:t.description}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:null==t?void 0:t.tags.map(e=>a.jsx("span",{className:"badge",children:e},e))}),a.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"card p-4",children:[a.jsx("h4",{className:"font-semibold",children:"Register your team"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("input",{className:"input",placeholder:"Team Name",value:n,onChange:e=>r(e.target.value)}),a.jsx("button",{className:"btn-primary",onClick:()=>{e&&(i?n.trim()?(s(e,n.trim()),alert("Team registered! Now go to Submission Portal from Dashboard."),r("")):alert("Enter a team name"):alert("Please login to register"))},children:"Register"})]})]}),a.jsxs("div",{className:"card p-4",children:[a.jsx("h4",{className:"font-semibold",children:"Judging Criteria"}),a.jsx("ul",{className:"mt-2 list-disc pl-5 text-sm text-slate-300",children:null==t?void 0:t.criteria.map(e=>a.jsxs("li",{children:[e.label," (max ",e.max,")"]},e.id))})]})]}),a.jsx("div",{className:"mt-4 flex gap-3",children:a.jsx(K,{to:"/discover",className:"btn-primary bg-white/10 hover:bg-white/20",children:"Back to Discover"})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"font-semibold",children:"Announcements"}),a.jsxs("ul",{className:"mt-2 list-disc pl-5 text-slate-300 text-sm",children:[a.jsx("li",{children:"Kickoff at 10:00 AM IST"}),a.jsx("li",{children:"Team formation closes at 2:00 PM"})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"font-semibold",children:"FAQs"}),a.jsxs("ul",{className:"mt-2 list-disc pl-5 text-slate-300 text-sm",children:[a.jsx("li",{children:"Team size: 1-4"}),a.jsx("li",{children:"Submission: GitHub link and slide deck"})]})]})]})]})}function jt({end:e,duration:t=2,prefix:s="",suffix:i="",decimals:r=0,className:o=""}){const[l,c]=p.useState(0),[d,h]=p.useState(!1);p.useEffect(()=>{let s,i;h(!0);const a=n=>{s||(s=n);const r=Math.min((n-s)/(1e3*t),1),o=1-Math.pow(1-r,4);c(e*o),r<1&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i&&cancelAnimationFrame(i)}},[e,t]);return a.jsxs(n.span,{className:`counter-animation ${o}`,initial:{opacity:0,y:20},animate:{opacity:d?1:0,y:d?0:20},transition:{duration:.6,ease:"easeOut"},children:[s,(u=l,u.toFixed(r)),i]});var u}
/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Nt(e){return e+.5|0}const kt=(e,t,s)=>Math.max(Math.min(e,s),t);function St(e){return kt(Nt(2.55*e),0,255)}function Ct(e){return kt(Nt(255*e),0,255)}function Mt(e){return kt(Nt(e/2.55)/100,0,1)}function It(e){return kt(Nt(100*e),0,100)}const Tt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Et=[..."0123456789ABCDEF"],_t=e=>Et[15&e],Dt=e=>Et[(240&e)>>4]+Et[15&e],Pt=e=>(240&e)>>4==(15&e);function At(e){var t=(e=>Pt(e.r)&&Pt(e.g)&&Pt(e.b)&&Pt(e.a))(e)?_t:Dt;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Ot=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lt(e,t,s){const i=t*Math.min(s,1-s),a=(t,a=(t+e/30)%12)=>s-i*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function Rt(e,t,s){const i=(i,a=(i+e/60)%6)=>s-s*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function zt(e,t,s){const i=Lt(e,1,.5);let a;for(t+s>1&&(a=1/(t+s),t*=a,s*=a),a=0;a<3;a++)i[a]*=1-t-s,i[a]+=t;return i}function Bt(e){const t=e.r/255,s=e.g/255,i=e.b/255,a=Math.max(t,s,i),n=Math.min(t,s,i),r=(a+n)/2;let o,l,c;return a!==n&&(c=a-n,l=r>.5?c/(2-a-n):c/(a+n),o=function(e,t,s,i,a){return e===a?(t-s)/i+(t<s?6:0):t===a?(s-e)/i+2:(e-t)/i+4}(t,s,i,c,a),o=60*o+.5),[0|o,l||0,r]}function Ft(e,t,s,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,i)).map(Ct)}function Ht(e,t,s){return Ft(Lt,e,t,s)}function Wt(e){return(e%360+360)%360}function $t(e){const t=Ot.exec(e);let s,i=255;if(!t)return;t[5]!==s&&(i=t[6]?St(+t[5]):Ct(+t[5]));const a=Wt(+t[2]),n=+t[3]/100,r=+t[4]/100;return s="hwb"===t[1]?function(e,t,s){return Ft(zt,e,t,s)}(a,n,r):"hsv"===t[1]?function(e,t,s){return Ft(Rt,e,t,s)}(a,n,r):Ht(a,n,r),{r:s[0],g:s[1],b:s[2],a:i}}const Gt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ut;function qt(e){Ut||(Ut=function(){const e={},t=Object.keys(Vt),s=Object.keys(Gt);let i,a,n,r,o;for(i=0;i<t.length;i++){for(r=o=t[i],a=0;a<s.length;a++)n=s[a],o=o.replace(n,Gt[n]);n=parseInt(Vt[r],16),e[o]=[n>>16&255,n>>8&255,255&n]}return e}(),Ut.transparent=[0,0,0,0]);const t=Ut[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Yt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Xt=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Jt=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Kt(e,t,s){if(e){let i=Bt(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*s,0===t?360:1)),i=Ht(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Qt(e,t){return e?Object.assign(t||{},e):e}function Zt(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ct(e[3]))):(t=Qt(e,{r:0,g:0,b:0,a:1})).a=Ct(t.a),t}function es(e){return"r"===e.charAt(0)?function(e){const t=Yt.exec(e);let s,i,a,n=255;if(t){if(t[7]!==s){const e=+t[7];n=t[8]?St(e):kt(255*e,0,255)}return s=+t[1],i=+t[3],a=+t[5],s=255&(t[2]?St(s):kt(s,0,255)),i=255&(t[4]?St(i):kt(i,0,255)),a=255&(t[6]?St(a):kt(a,0,255)),{r:s,g:i,b:a,a:n}}}(e):$t(e)}class ts{constructor(e){if(e instanceof ts)return e;const t=typeof e;let s;var i,a,n;"object"===t?s=Zt(e):"string"===t&&(n=(i=e).length,"#"===i[0]&&(4===n||5===n?a={r:255&17*Tt[i[1]],g:255&17*Tt[i[2]],b:255&17*Tt[i[3]],a:5===n?17*Tt[i[4]]:255}:7!==n&&9!==n||(a={r:Tt[i[1]]<<4|Tt[i[2]],g:Tt[i[3]]<<4|Tt[i[4]],b:Tt[i[5]]<<4|Tt[i[6]],a:9===n?Tt[i[7]]<<4|Tt[i[8]]:255})),s=a||qt(e)||es(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Qt(this._rgb);return e&&(e.a=Mt(e.a)),e}set rgb(e){this._rgb=Zt(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Mt(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?At(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Bt(e),s=t[0],i=It(t[1]),a=It(t[2]);return e.a<255?`hsla(${s}, ${i}%, ${a}%, ${Mt(e.a)})`:`hsl(${s}, ${i}%, ${a}%)`}(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,i=e.rgb;let a;const n=t===a?.5:t,r=2*n-1,o=s.a-i.a,l=((r*o===-1?r:(r+o)/(1+r*o))+1)/2;a=1-l,s.r=255&l*s.r+a*i.r+.5,s.g=255&l*s.g+a*i.g+.5,s.b=255&l*s.b+a*i.b+.5,s.a=n*s.a+(1-n)*i.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,s){const i=Jt(Mt(e.r)),a=Jt(Mt(e.g)),n=Jt(Mt(e.b));return{r:Ct(Xt(i+s*(Jt(Mt(t.r))-i))),g:Ct(Xt(a+s*(Jt(Mt(t.g))-a))),b:Ct(Xt(n+s*(Jt(Mt(t.b))-n))),a:e.a+s*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new ts(this.rgb)}alpha(e){return this._rgb.a=Ct(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Nt(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Kt(this._rgb,2,e),this}darken(e){return Kt(this._rgb,2,-e),this}saturate(e){return Kt(this._rgb,1,e),this}desaturate(e){return Kt(this._rgb,1,-e),this}rotate(e){return function(e,t){var s=Bt(e);s[0]=Wt(s[0]+t),s=Ht(s),e.r=s[0],e.g=s[1],e.b=s[2]}(this._rgb,e),this}}
/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ss(){}const is=(()=>{let e=0;return()=>e++})();function as(e){return null==e}function ns(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function rs(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function os(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function ls(e,t){return os(e)?e:t}function cs(e,t){return void 0===e?t:e}const ds=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function hs(e,t,s){if(e&&"function"==typeof e.call)return e.apply(s,t)}function us(e,t,s,i){let a,n,r;if(ns(e))for(n=e.length,a=0;a<n;a++)t.call(s,e[a],a);else if(rs(e))for(r=Object.keys(e),n=r.length,a=0;a<n;a++)t.call(s,e[r[a]],r[a])}function ps(e,t){let s,i,a,n;if(!e||!t||e.length!==t.length)return!1;for(s=0,i=e.length;s<i;++s)if(a=e[s],n=t[s],a.datasetIndex!==n.datasetIndex||a.index!==n.index)return!1;return!0}function ms(e){if(ns(e))return e.map(ms);if(rs(e)){const t=Object.create(null),s=Object.keys(e),i=s.length;let a=0;for(;a<i;++a)t[s[a]]=ms(e[s[a]]);return t}return e}function gs(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function xs(e,t,s,i){if(!gs(e))return;const a=t[e],n=s[e];rs(a)&&rs(n)?fs(a,n,i):t[e]=ms(n)}function fs(e,t,s){const i=ns(t)?t:[t],a=i.length;if(!rs(e))return e;const n=(s=s||{}).merger||xs;let r;for(let o=0;o<a;++o){if(r=i[o],!rs(r))continue;const t=Object.keys(r);for(let i=0,a=t.length;i<a;++i)n(t[i],e,r,s)}return e}function bs(e,t){return fs(e,t,{merger:vs})}function vs(e,t,s){if(!gs(e))return;const i=t[e],a=s[e];rs(i)&&rs(a)?bs(i,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ms(a))}const ys={"":e=>e,x:e=>e.x,y:e=>e.y};function ws(e,t){const s=ys[t]||(ys[t]=function(e){const t=function(e){const t=e.split("."),s=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(s.push(i),i="");return s}(e);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t));return s(e)}function js(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ns=e=>void 0!==e,ks=e=>"function"==typeof e,Ss=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};const Cs=Math.PI,Ms=2*Cs,Is=Ms+Cs,Ts=Number.POSITIVE_INFINITY,Es=Cs/180,_s=Cs/2,Ds=Cs/4,Ps=2*Cs/3,As=Math.log10,Os=Math.sign;function Ls(e,t,s){return Math.abs(e-t)<s}function Rs(e){const t=Math.round(e);e=Ls(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(As(e))),i=e/s;return(i<=1?1:i<=2?2:i<=5?5:10)*s}function zs(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Bs(e){return e*(Cs/180)}function Fs(e){if(!os(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Hs(e,t){const s=t.x-e.x,i=t.y-e.y,a=Math.sqrt(s*s+i*i);let n=Math.atan2(i,s);return n<-.5*Cs&&(n+=Ms),{angle:n,distance:a}}function Ws(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $s(e,t){return(e-t+Is)%Ms-Cs}function Gs(e){return(e%Ms+Ms)%Ms}function Vs(e,t,s,i){const a=Gs(e),n=Gs(t),r=Gs(s),o=Gs(n-a),l=Gs(r-a),c=Gs(a-n),d=Gs(a-r);return a===n||a===r||i&&n===r||o>l&&c<d}function Us(e,t,s){return Math.max(t,Math.min(s,e))}function qs(e,t,s,i=1e-6){return e>=Math.min(t,s)-i&&e<=Math.max(t,s)+i}function Ys(e,t,s){s=s||(s=>e[s]<t);let i,a=e.length-1,n=0;for(;a-n>1;)i=n+a>>1,s(i)?n=i:a=i;return{lo:n,hi:a}}const Xs=(e,t,s,i)=>Ys(e,s,i?i=>{const a=e[i][t];return a<s||a===s&&e[i+1][t]===s}:i=>e[i][t]<s),Js=(e,t,s)=>Ys(e,s,i=>e[i][t]>=s);const Ks=["push","pop","shift","splice","unshift"];function Qs(e,t){const s=e._chartjs;if(!s)return;const i=s.listeners,a=i.indexOf(t);-1!==a&&i.splice(a,1),i.length>0||(Ks.forEach(t=>{delete e[t]}),delete e._chartjs)}const Zs="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function ei(e,t){let s=[],i=!1;return function(...a){s=a,i||(i=!0,Zs.call(window,()=>{i=!1,e.apply(t,s)}))}}const ti=e=>"start"===e?"left":"end"===e?"right":"center",si=(e,t,s)=>"start"===e?t:"end"===e?s:(t+s)/2;const ii=e=>0===e||1===e,ai=(e,t,s)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ms/s),ni=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ms/s)+1,ri={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*_s),easeOutSine:e=>Math.sin(e*_s),easeInOutSine:e=>-.5*(Math.cos(Cs*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ii(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ii(e)?e:ai(e,.075,.3),easeOutElastic:e=>ii(e)?e:ni(e,.075,.3),easeInOutElastic(e){const t=.1125;return ii(e)?e:e<.5?.5*ai(2*e,t,.45):.5+.5*ni(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-ri.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInOutBounce:e=>e<.5?.5*ri.easeInBounce(2*e):.5*ri.easeOutBounce(2*e-1)+.5};function oi(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function li(e){return oi(e)?e:new ts(e)}function ci(e){return oi(e)?e:new ts(e).saturate(.5).darken(.1).hexString()}const di=["x","y","borderWidth","radius","tension"],hi=["color","borderColor","backgroundColor"];const ui=new Map;function pi(e,t,s){return function(e,t){t=t||{};const s=e+JSON.stringify(t);let i=ui.get(s);return i||(i=new Intl.NumberFormat(e,t),ui.set(s,i)),i}(t,s).format(e)}var mi={formatters:{values:e=>ns(e)?e:""+e,numeric(e,t,s){if(0===e)return"0";const i=this.chart.options.locale;let a,n=e;if(s.length>1){const t=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),n=function(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e));return s}(e,s)}const r=As(Math.abs(n)),o=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),pi(e,i,l)}}};const gi=Object.create(null),xi=Object.create(null);function fi(e,t){if(!t)return e;const s=t.split(".");for(let i=0,a=s.length;i<a;++i){const t=s[i];e=e[t]||(e[t]=Object.create(null))}return e}function bi(e,t,s){return"string"==typeof t?fs(fi(e,t),s):fs(fi(e,""),t)}class vi{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>ci(t.backgroundColor),this.hoverBorderColor=(e,t)=>ci(t.borderColor),this.hoverColor=(e,t)=>ci(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return bi(this,e,t)}get(e){return fi(this,e)}describe(e,t){return bi(xi,e,t)}override(e,t){return bi(gi,e,t)}route(e,t,s,i){const a=fi(this,e),n=fi(this,s),r="_"+t;Object.defineProperties(a,{[r]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[r],t=n[i];return rs(e)?Object.assign({},t,e):cs(e,t)},set(e){this[r]=e}}})}apply(e){e.forEach(e=>e(this))}}var yi=new vi({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:hi},numbers:{type:"number",properties:di}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function wi(e,t,s,i,a){let n=t[a];return n||(n=t[a]=e.measureText(a).width,s.push(a)),n>i&&(i=n),i}function ji(e,t,s){const i=e.currentDevicePixelRatio,a=0!==s?Math.max(s/2,.5):0;return Math.round((t-a)*i)/i+a}function Ni(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ki(e,t,s,i){Si(e,t,s,i,null)}function Si(e,t,s,i,a){let n,r,o,l,c,d,h,u;const p=t.pointStyle,m=t.rotation,g=t.radius;let x=(m||0)*Es;if(p&&"object"==typeof p&&(n=p.toString(),"[object HTMLImageElement]"===n||"[object HTMLCanvasElement]"===n))return e.save(),e.translate(s,i),e.rotate(x),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:a?e.ellipse(s,i,a/2,g,0,0,Ms):e.arc(s,i,g,0,Ms),e.closePath();break;case"triangle":d=a?a/2:g,e.moveTo(s+Math.sin(x)*d,i-Math.cos(x)*g),x+=Ps,e.lineTo(s+Math.sin(x)*d,i-Math.cos(x)*g),x+=Ps,e.lineTo(s+Math.sin(x)*d,i-Math.cos(x)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,r=Math.cos(x+Ds)*l,h=Math.cos(x+Ds)*(a?a/2-c:l),o=Math.sin(x+Ds)*l,u=Math.sin(x+Ds)*(a?a/2-c:l),e.arc(s-h,i-o,c,x-Cs,x-_s),e.arc(s+u,i-r,c,x-_s,x),e.arc(s+h,i+o,c,x,x+_s),e.arc(s-u,i+r,c,x+_s,x+Cs),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=a?a/2:l,e.rect(s-d,i-l,2*d,2*l);break}x+=Ds;case"rectRot":h=Math.cos(x)*(a?a/2:g),r=Math.cos(x)*g,o=Math.sin(x)*g,u=Math.sin(x)*(a?a/2:g),e.moveTo(s-h,i-o),e.lineTo(s+u,i-r),e.lineTo(s+h,i+o),e.lineTo(s-u,i+r),e.closePath();break;case"crossRot":x+=Ds;case"cross":h=Math.cos(x)*(a?a/2:g),r=Math.cos(x)*g,o=Math.sin(x)*g,u=Math.sin(x)*(a?a/2:g),e.moveTo(s-h,i-o),e.lineTo(s+h,i+o),e.moveTo(s+u,i-r),e.lineTo(s-u,i+r);break;case"star":h=Math.cos(x)*(a?a/2:g),r=Math.cos(x)*g,o=Math.sin(x)*g,u=Math.sin(x)*(a?a/2:g),e.moveTo(s-h,i-o),e.lineTo(s+h,i+o),e.moveTo(s+u,i-r),e.lineTo(s-u,i+r),x+=Ds,h=Math.cos(x)*(a?a/2:g),r=Math.cos(x)*g,o=Math.sin(x)*g,u=Math.sin(x)*(a?a/2:g),e.moveTo(s-h,i-o),e.lineTo(s+h,i+o),e.moveTo(s+u,i-r),e.lineTo(s-u,i+r);break;case"line":r=a?a/2:Math.cos(x)*g,o=Math.sin(x)*g,e.moveTo(s-r,i-o),e.lineTo(s+r,i+o);break;case"dash":e.moveTo(s,i),e.lineTo(s+Math.cos(x)*(a?a/2:g),i+Math.sin(x)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Ci(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Mi(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ii(e){e.restore()}function Ti(e,t,s,i,a){if(!t)return e.lineTo(s.x,s.y);if("middle"===a){const i=(t.x+s.x)/2;e.lineTo(i,t.y),e.lineTo(i,s.y)}else"after"===a!=!!i?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function Ei(e,t,s,i){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?s.cp2x:s.cp1x,i?s.cp2y:s.cp1y,s.x,s.y)}function _i(e,t,s,i,a){if(a.strikethrough||a.underline){const n=e.measureText(i),r=t-n.actualBoundingBoxLeft,o=t+n.actualBoundingBoxRight,l=s-n.actualBoundingBoxAscent,c=s+n.actualBoundingBoxDescent,d=a.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(r,d),e.lineTo(o,d),e.stroke()}}function Di(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function Pi(e,t,s,i,a,n={}){const r=ns(t)?t:[t],o=n.strokeWidth>0&&""!==n.strokeColor;let l,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),as(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,n),l=0;l<r.length;++l)c=r[l],n.backdrop&&Di(e,n.backdrop),o&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),as(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(c,s,i,n.maxWidth)),e.fillText(c,s,i,n.maxWidth),_i(e,s,i,c,n),i+=Number(a.lineHeight);e.restore()}function Ai(e,t){const{x:s,y:i,w:a,h:n,radius:r}=t;e.arc(s+r.topLeft,i+r.topLeft,r.topLeft,1.5*Cs,Cs,!0),e.lineTo(s,i+n-r.bottomLeft),e.arc(s+r.bottomLeft,i+n-r.bottomLeft,r.bottomLeft,Cs,_s,!0),e.lineTo(s+a-r.bottomRight,i+n),e.arc(s+a-r.bottomRight,i+n-r.bottomRight,r.bottomRight,_s,0,!0),e.lineTo(s+a,i+r.topRight),e.arc(s+a-r.topRight,i+r.topRight,r.topRight,0,-_s,!0),e.lineTo(s+r.topLeft,i)}const Oi=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Li=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ri(e,t){const s=(""+e).match(Oi);if(!s||"normal"===s[1])return 1.2*t;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100}return t*e}const zi=e=>+e||0;function Bi(e,t){const s={},i=rs(t),a=i?Object.keys(t):t,n=rs(e)?i?s=>cs(e[s],e[t[s]]):t=>e[t]:()=>e;for(const r of a)s[r]=zi(n(r));return s}function Fi(e){return Bi(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Hi(e){const t=function(e){return Bi(e,{top:"y",right:"x",bottom:"y",left:"x"})}(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Wi(e,t){e=e||{},t=t||yi.font;let s=cs(e.size,t.size);"string"==typeof s&&(s=parseInt(s,10));let i=cs(e.style,t.style);i&&!(""+i).match(Li)&&(i=void 0);const a={family:cs(e.family,t.family),lineHeight:Ri(cs(e.lineHeight,t.lineHeight),s),size:s,style:i,weight:cs(e.weight,t.weight),string:""};return a.string=function(e){return!e||as(e.size)||as(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function $i(e,t,s,i){let a,n,r;for(a=0,n=e.length;a<n;++a)if(r=e[a],void 0!==r&&void 0!==r)return r}function Gi(e,t){return Object.assign(Object.create(e),t)}function Vi(e,t=[""],s,i,a=()=>e[0]){const n=s||e;void 0===i&&(i=sa("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:a,override:s=>Vi([s,...e],t,n,i)};return new Proxy(r,{deleteProperty:(t,s)=>(delete t[s],delete t._keys,delete e[0][s],!0),get:(s,i)=>Ji(s,i,()=>function(e,t,s,i){let a;for(const n of t)if(a=sa(Yi(n,e),s),void 0!==a)return Xi(e,a)?ea(s,i,e,a):a}(i,t,e,s)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>ia(e).includes(t),ownKeys:e=>ia(e),set(e,t,s){const i=e._storage||(e._storage=a());return e[t]=i[t]=s,delete e._keys,!0}})}function Ui(e,t,s,i){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:qi(e,i),setContext:t=>Ui(e,t,s,i),override:a=>Ui(e.override(a),t,s,i)};return new Proxy(a,{deleteProperty:(t,s)=>(delete t[s],delete e[s],!0),get:(e,t,s)=>Ji(e,t,()=>function(e,t,s){const{_proxy:i,_context:a,_subProxy:n,_descriptors:r}=e;let o=i[t];ks(o)&&r.isScriptable(t)&&(o=function(e,t,s,i){const{_proxy:a,_context:n,_subProxy:r,_stack:o}=s;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(n,r||i);o.delete(e),Xi(e,l)&&(l=ea(a._scopes,a,e,l));return l}(t,o,e,s));ns(o)&&o.length&&(o=function(e,t,s,i){const{_proxy:a,_context:n,_subProxy:r,_descriptors:o}=s;if(void 0!==n.index&&i(e))return t[n.index%t.length];if(rs(t[0])){const s=t,i=a._scopes.filter(e=>e!==s);t=[];for(const l of s){const s=ea(i,a,e,l);t.push(Ui(s,n,r&&r[e],o))}}return t}(t,o,e,r.isIndexable));Xi(t,o)&&(o=Ui(o,a,n&&n[t],r));return o}(e,t,s)),getOwnPropertyDescriptor:(t,s)=>t._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,s)=>Reflect.has(e,s),ownKeys:()=>Reflect.ownKeys(e),set:(t,s,i)=>(e[s]=i,delete t[s],!0)})}function qi(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:s,indexable:i,isScriptable:ks(s)?s:()=>s,isIndexable:ks(i)?i:()=>i}}const Yi=(e,t)=>e?e+js(t):t,Xi=(e,t)=>rs(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Ji(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const i=s();return e[t]=i,i}function Ki(e,t,s){return ks(e)?e(t,s):e}const Qi=(e,t)=>!0===e?t:"string"==typeof e?ws(t,e):void 0;function Zi(e,t,s,i,a){for(const n of t){const t=Qi(s,n);if(t){e.add(t);const n=Ki(t._fallback,s,a);if(void 0!==n&&n!==s&&n!==i)return n}else if(!1===t&&void 0!==i&&s!==i)return null}return!1}function ea(e,t,s,i){const a=t._rootScopes,n=Ki(t._fallback,s,i),r=[...e,...a],o=new Set;o.add(i);let l=ta(o,r,s,n||s,i);return null!==l&&((void 0===n||n===s||(l=ta(o,r,n,l,i),null!==l))&&Vi(Array.from(o),[""],a,n,()=>function(e,t,s){const i=e._getTarget();t in i||(i[t]={});const a=i[t];if(ns(a)&&rs(s))return s;return a||{}}(t,s,i)))}function ta(e,t,s,i,a){for(;s;)s=Zi(e,t,s,i,a);return s}function sa(e,t){for(const s of t){if(!s)continue;const t=s[e];if(void 0!==t)return t}}function ia(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const s of e)for(const e of Object.keys(s).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}const aa=Number.EPSILON||1e-14,na=(e,t)=>t<e.length&&!e[t].skip&&e[t],ra=e=>"x"===e?"y":"x";function oa(e,t,s,i){const a=e.skip?t:e,n=t,r=s.skip?t:s,o=Ws(n,a),l=Ws(r,n);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=i*c,u=i*d;return{previous:{x:n.x-h*(r.x-a.x),y:n.y-h*(r.y-a.y)},next:{x:n.x+u*(r.x-a.x),y:n.y+u*(r.y-a.y)}}}function la(e,t="x"){const s=ra(t),i=e.length,a=Array(i).fill(0),n=Array(i);let r,o,l,c=na(e,0);for(r=0;r<i;++r)if(o=l,l=c,c=na(e,r+1),l){if(c){const e=c[t]-l[t];a[r]=0!==e?(c[s]-l[s])/e:0}n[r]=o?c?Os(a[r-1])!==Os(a[r])?0:(a[r-1]+a[r])/2:a[r-1]:a[r]}!function(e,t,s){const i=e.length;let a,n,r,o,l,c=na(e,0);for(let d=0;d<i-1;++d)l=c,c=na(e,d+1),l&&c&&(Ls(t[d],0,aa)?s[d]=s[d+1]=0:(a=s[d]/t[d],n=s[d+1]/t[d],o=Math.pow(a,2)+Math.pow(n,2),o<=9||(r=3/Math.sqrt(o),s[d]=a*r*t[d],s[d+1]=n*r*t[d])))}(e,a,n),function(e,t,s="x"){const i=ra(s),a=e.length;let n,r,o,l=na(e,0);for(let c=0;c<a;++c){if(r=o,o=l,l=na(e,c+1),!o)continue;const a=o[s],d=o[i];r&&(n=(a-r[s])/3,o[`cp1${s}`]=a-n,o[`cp1${i}`]=d-n*t[c]),l&&(n=(l[s]-a)/3,o[`cp2${s}`]=a+n,o[`cp2${i}`]=d+n*t[c])}}(e,n,t)}function ca(e,t,s){return Math.max(Math.min(e,s),t)}function da(e,t,s,i,a){let n,r,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)la(e,a);else{let s=i?e[e.length-1]:e[0];for(n=0,r=e.length;n<r;++n)o=e[n],l=oa(s,o,e[Math.min(n+1,r-(i?0:1))%r],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,s=o}t.capBezierPoints&&function(e,t){let s,i,a,n,r,o=Ci(e[0],t);for(s=0,i=e.length;s<i;++s)r=n,n=o,o=s<i-1&&Ci(e[s+1],t),n&&(a=e[s],r&&(a.cp1x=ca(a.cp1x,t.left,t.right),a.cp1y=ca(a.cp1y,t.top,t.bottom)),o&&(a.cp2x=ca(a.cp2x,t.left,t.right),a.cp2y=ca(a.cp2y,t.top,t.bottom)))}(e,s)}function ha(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ua(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function pa(e,t,s){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[s])):i=e,i}const ma=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const ga=["top","right","bottom","left"];function xa(e,t,s){const i={};s=s?"-"+s:"";for(let a=0;a<4;a++){const n=ga[a];i[n]=parseFloat(e[t+"-"+n+s])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function fa(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:i}=t,a=ma(s),n="border-box"===a.boxSizing,r=xa(a,"padding"),o=xa(a,"border","width"),{x:l,y:c,box:d}=function(e,t){const s=e.touches,i=s&&s.length?s[0]:e,{offsetX:a,offsetY:n}=i;let r,o,l=!1;if(((e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot))(a,n,e.target))r=a,o=n;else{const e=t.getBoundingClientRect();r=i.clientX-e.left,o=i.clientY-e.top,l=!0}return{x:r,y:o,box:l}}(e,s),h=r.left+(d&&o.left),u=r.top+(d&&o.top);let{width:p,height:m}=t;return n&&(p-=r.width+o.width,m-=r.height+o.height),{x:Math.round((l-h)/p*s.width/i),y:Math.round((c-u)/m*s.height/i)}}const ba=e=>Math.round(10*e)/10;function va(e,t,s,i){const a=ma(e),n=xa(a,"margin"),r=pa(a.maxWidth,e,"clientWidth")||Ts,o=pa(a.maxHeight,e,"clientHeight")||Ts,l=function(e,t,s){let i,a;if(void 0===t||void 0===s){const n=e&&ua(e);if(n){const e=n.getBoundingClientRect(),r=ma(n),o=xa(r,"border","width"),l=xa(r,"padding");t=e.width-l.width-o.width,s=e.height-l.height-o.height,i=pa(r.maxWidth,n,"clientWidth"),a=pa(r.maxHeight,n,"clientHeight")}else t=e.clientWidth,s=e.clientHeight}return{width:t,height:s,maxWidth:i||Ts,maxHeight:a||Ts}}(e,t,s);let{width:c,height:d}=l;if("content-box"===a.boxSizing){const e=xa(a,"border","width"),t=xa(a,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-n.width),d=Math.max(0,i?c/i:d-n.height),c=ba(Math.min(c,r,l.maxWidth)),d=ba(Math.min(d,o,l.maxHeight)),c&&!d&&(d=ba(c/2));return(void 0!==t||void 0!==s)&&i&&l.height&&d>l.height&&(d=l.height,c=ba(Math.floor(d*i))),{width:c,height:d}}function ya(e,t,s){const i=t||1,a=Math.floor(e.height*i),n=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||r.height!==a||r.width!==n)&&(e.currentDevicePixelRatio=i,r.height=a,r.width=n,e.ctx.setTransform(i,0,0,i,0,0),!0)}const wa=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ha()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function ja(e,t){const s=function(e,t){return ma(e).getPropertyValue(t)}(e,t),i=s&&s.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Na(e,t,s,i){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function ka(e,t,s,i){return{x:e.x+s*(t.x-e.x),y:"middle"===i?s<.5?e.y:t.y:"after"===i?s<1?e.y:t.y:s>0?t.y:e.y}}function Sa(e,t,s,i){const a={x:e.cp2x,y:e.cp2y},n={x:t.cp1x,y:t.cp1y},r=Na(e,a,s),o=Na(a,n,s),l=Na(n,t,s),c=Na(r,o,s),d=Na(o,l,s);return Na(c,d,s)}function Ca(e,t,s){return e?function(e,t){return{x:s=>e+e+t-s,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,s):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Ma(e,t){let s,i;"ltr"!==t&&"rtl"!==t||(s=e.canvas.style,i=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Ia(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ta(e){return"angle"===e?{between:Vs,compare:$s,normalize:Gs}:{between:qs,compare:(e,t)=>e-t,normalize:e=>e}}function Ea({start:e,end:t,count:s,loop:i,style:a}){return{start:e%s,end:t%s,loop:i&&(t-e+1)%s==0,style:a}}function _a(e,t,s){if(!s)return[e];const{property:i,start:a,end:n}=s,r=t.length,{compare:o,between:l,normalize:c}=Ta(i),{start:d,end:h,loop:u,style:p}=function(e,t,s){const{property:i,start:a,end:n}=s,{between:r,normalize:o}=Ta(i),l=t.length;let c,d,{start:h,end:u,loop:p}=e;if(p){for(h+=l,u+=l,c=0,d=l;c<d&&r(o(t[h%l][i]),a,n);++c)h--,u--;h%=l,u%=l}return u<h&&(u+=l),{start:h,end:u,loop:p,style:e.style}}(e,t,s),m=[];let g,x,f,b=!1,v=null;const y=()=>b||l(a,f,g)&&0!==o(a,f),w=()=>!b||0===o(n,g)||l(n,f,g);for(let j=d,N=d;j<=h;++j)x=t[j%r],x.skip||(g=c(x[i]),g!==f&&(b=l(g,a,n),null===v&&y()&&(v=0===o(g,a)?j:N),null!==v&&w()&&(m.push(Ea({start:v,end:j,loop:u,count:r,style:p})),v=null),N=j,f=g));return null!==v&&m.push(Ea({start:v,end:h,loop:u,count:r,style:p})),m}function Da(e,t){const s=[],i=e.segments;for(let a=0;a<i.length;a++){const n=_a(i[a],e.points,t);n.length&&s.push(...n)}return s}function Pa(e,t,s,i){return i&&i.setContext&&s?function(e,t,s,i){const a=e._chart.getContext(),n=Aa(e.options),{_datasetIndex:r,options:{spanGaps:o}}=e,l=s.length,c=[];let d=n,h=t[0].start,u=h;function p(e,t,i,a){const n=o?-1:1;if(e!==t){for(e+=l;s[e%l].skip;)e-=n;for(;s[t%l].skip;)t+=n;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:a}),d=a,h=t%l)}}for(const m of t){h=o?h:m.start;let e,t=s[h%l];for(u=h+1;u<=m.end;u++){const n=s[u%l];e=Aa(i.setContext(Gi(a,{type:"segment",p0:t,p1:n,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:r}))),Oa(e,d)&&p(h,u-1,m.loop,d),t=n,d=e}h<u-1&&p(h,u-1,m.loop,d)}return c}(e,t,s,i):t}function Aa(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Oa(e,t){if(!t)return!1;const s=[],i=function(e,t){return oi(t)?(s.includes(t)||s.push(t),s.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function La(e,t,s){return e.options.clip?e[s]:t[s]}function Ra(e,t){const s=t._clip;if(s.disabled)return!1;const i=function(e,t){const{xScale:s,yScale:i}=e;return s&&i?{left:La(s,t,"left"),right:La(s,t,"right"),top:La(i,t,"top"),bottom:La(i,t,"bottom")}:t}(t,e.chartArea);return{left:!1===s.left?0:i.left-(!0===s.left?0:s.left),right:!1===s.right?e.width:i.right+(!0===s.right?0:s.right),top:!1===s.top?0:i.top-(!0===s.top?0:s.top),bottom:!1===s.bottom?e.height:i.bottom+(!0===s.bottom?0:s.bottom)}}
/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class za{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,i){const a=t.listeners[i],n=t.duration;a.forEach(i=>i({chart:e,initial:t.initial,numSteps:n,currentStep:Math.min(s-t.start,n)}))}_refresh(){this._request||(this._running=!0,this._request=Zs.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const a=s.items;let n,r=a.length-1,o=!1;for(;r>=0;--r)n=a[r],n._active?(n._total>s.duration&&(s.duration=n._total),n.tick(e),o=!0):(a[r]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,s,e,"progress")),a.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ba=new za;const Fa="transparent",Ha={boolean:(e,t,s)=>s>.5?t:e,color(e,t,s){const i=li(e||Fa),a=i.valid&&li(t||Fa);return a&&a.valid?a.mix(i,s).hexString():t},number:(e,t,s)=>e+(t-e)*s};class Wa{constructor(e,t,s,i){const a=t[s];i=$i([e.to,i,a,e.from]);const n=$i([e.from,a,i]);this._active=!0,this._fn=e.fn||Ha[e.type||typeof n],this._easing=ri[e.easing]||ri.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=n,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const i=this._target[this._prop],a=s-this._start,n=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(n,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=$i([e.to,t,i,e.from]),this._from=$i([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,i=this._prop,a=this._from,n=this._loop,r=this._to;let o;if(this._active=a!==r&&(n||t<s),!this._active)return this._target[i]=r,void this._notify(!0);t<0?this._target[i]=a:(o=t/s%2,o=n&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[i]=this._fn(a,r,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][t]()}}class $a{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!rs(e))return;const t=Object.keys(yi.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!rs(a))return;const n={};for(const e of t)n[e]=a[e];(ns(a.properties)&&a.properties||[i]).forEach(e=>{e!==i&&s.has(e)||s.set(e,n)})})}_animateOptions(e,t){const s=t.options,i=function(e,t){if(!t)return;let s=e.options;if(!s)return void(e.options=t);s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(e,s);if(!i)return[];const a=this._createAnimations(i,s);return s.$shared&&function(e,t){const s=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const t=e[i[a]];t&&t.active()&&s.push(t.wait())}return Promise.all(s)}(e.options.$animations,s).then(()=>{e.options=s},()=>{}),a}_createAnimations(e,t){const s=this._properties,i=[],a=e.$animations||(e.$animations={}),n=Object.keys(t),r=Date.now();let o;for(o=n.length-1;o>=0;--o){const l=n[o];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let d=a[l];const h=s.get(l);if(d){if(h&&d.active()){d.update(h,c,r);continue}d.cancel()}h&&h.duration?(a[l]=d=new Wa(h,e,l,c),i.push(d)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const s=this._createAnimations(e,t);return s.length?(Ba.add(this._chart,s),!0):void 0}}function Ga(e,t){const s=e&&e.options||{},i=s.reverse,a=void 0===s.min?t:0,n=void 0===s.max?t:0;return{start:i?n:a,end:i?a:n}}function Va(e,t){const s=[],i=e._getSortedDatasetMetas(t);let a,n;for(a=0,n=i.length;a<n;++a)s.push(i[a].index);return s}function Ua(e,t,s,i={}){const a=e.keys,n="single"===i.mode;let r,o,l,c;if(null===t)return;let d=!1;for(r=0,o=a.length;r<o;++r){if(l=+a[r],l===s){if(d=!0,i.all)continue;break}c=e.values[l],os(c)&&(n||0===t||Os(t)===Os(c))&&(t+=c)}return d||i.all?t:0}function qa(e,t){const s=e&&e.options.stacked;return s||void 0===s&&void 0!==t.stack}function Ya(e,t,s){const i=e[t]||(e[t]={});return i[s]||(i[s]={})}function Xa(e,t,s,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const t=e[a.index];if(s&&t>0||!s&&t<0)return a.index}return null}function Ja(e,t){const{chart:s,_cachedMeta:i}=e,a=s._stacks||(s._stacks={}),{iScale:n,vScale:r,index:o}=i,l=n.axis,c=r.axis,d=function(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}(n,r,i),h=t.length;let u;for(let p=0;p<h;++p){const e=t[p],{[l]:s,[c]:n}=e;u=(e._stacks||(e._stacks={}))[c]=Ya(a,d,s),u[o]=n,u._top=Xa(u,r,!0,i.type),u._bottom=Xa(u,r,!1,i.type);(u._visualValues||(u._visualValues={}))[o]=n}}function Ka(e,t){const s=e.scales;return Object.keys(s).filter(e=>s[e].axis===t).shift()}function Qa(e,t){const s=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][s])return;delete t[i][s],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[s]&&delete t[i]._visualValues[s]}}}const Za=e=>"reset"===e||"none"===e,en=(e,t)=>t?e:Object.assign({},e);class tn{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qa(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&Qa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),i=(e,t,s,i)=>"x"===e?t:"r"===e?i:s,a=t.xAxisID=cs(s.xAxisID,Ka(e,"x")),n=t.yAxisID=cs(s.yAxisID,Ka(e,"y")),r=t.rAxisID=cs(s.rAxisID,Ka(e,"r")),o=t.indexAxis,l=t.iAxisID=i(o,a,n,r),c=t.vAxisID=i(o,n,a,r);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(n),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Qs(this._data,this),e._stacked&&Qa(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(rs(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:s,vScale:i}=t,a="x"===s.axis?"x":"y",n="x"===i.axis?"x":"y",r=Object.keys(e),o=new Array(r.length);let l,c,d;for(l=0,c=r.length;l<c;++l)d=r[l],o[l]={[a]:d,[n]:e[d]};return o}(t,e)}else if(s!==t){if(s){Qs(s,this);const e=this._cachedMeta;Qa(e),e._parsed=[]}t&&Object.isExtensible(t)&&(a=this,(i=t)._chartjs?i._chartjs.listeners.push(a):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),Ks.forEach(e=>{const t="_onData"+js(e),s=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...e){const a=s.apply(this,e);return i._chartjs.listeners.forEach(s=>{"function"==typeof s[t]&&s[t](...e)}),a}})}))),this._syncList=[],this._data=t}var i,a}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=qa(t.vScale,t),t.stack!==s.stack&&(i=!0,Qa(t),t.stack=s.stack),this._resyncElements(e),(i||a!==t._stacked)&&(Ja(this,t._parsed),t._stacked=qa(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:i}=this,{iScale:a,_stacked:n}=s,r=a.axis;let o,l,c,d=0===e&&t===i.length||s._sorted,h=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=i,s._sorted=!0,c=i;else{c=ns(i[e])?this.parseArrayData(s,i,e,t):rs(i[e])?this.parseObjectData(s,i,e,t):this.parsePrimitiveData(s,i,e,t);const a=()=>null===l[r]||h&&l[r]<h[r];for(o=0;o<t;++o)s._parsed[o+e]=l=c[o],d&&(a()&&(d=!1),h=l);s._sorted=d}n&&Ja(this,c)}parsePrimitiveData(e,t,s,i){const{iScale:a,vScale:n}=e,r=a.axis,o=n.axis,l=a.getLabels(),c=a===n,d=new Array(i);let h,u,p;for(h=0,u=i;h<u;++h)p=h+s,d[h]={[r]:c||a.parse(l[p],p),[o]:n.parse(t[p],p)};return d}parseArrayData(e,t,s,i){const{xScale:a,yScale:n}=e,r=new Array(i);let o,l,c,d;for(o=0,l=i;o<l;++o)c=o+s,d=t[c],r[o]={x:a.parse(d[0],c),y:n.parse(d[1],c)};return r}parseObjectData(e,t,s,i){const{xScale:a,yScale:n}=e,{xAxisKey:r="x",yAxisKey:o="y"}=this._parsing,l=new Array(i);let c,d,h,u;for(c=0,d=i;c<d;++c)h=c+s,u=t[h],l[c]={x:a.parse(ws(u,r),h),y:n.parse(ws(u,o),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const i=this.chart,a=this._cachedMeta,n=t[e.axis];return Ua({keys:Va(i,!0),values:t._stacks[e.axis]._visualValues},n,a.index,{mode:s})}updateRangeFromParsed(e,t,s,i){const a=s[t.axis];let n=null===a?NaN:a;const r=i&&s._stacks[t.axis];i&&r&&(i.values=r,n=Ua(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,n),e.max=Math.max(e.max,n)}getMinMax(e,t){const s=this._cachedMeta,i=s._parsed,a=s._sorted&&e===s.iScale,n=i.length,r=this._getOtherScale(e),o=((e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Va(s,!0),values:null})(t,s,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:s,minDefined:i,maxDefined:a}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}(r);let h,u;function p(){u=i[h];const t=u[r.axis];return!os(u[e.axis])||c>t||d<t}for(h=0;h<n&&(p()||(this.updateRangeFromParsed(l,e,u,o),!a));++h);if(a)for(h=n-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(l,e,u,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let i,a,n;for(i=0,a=t.length;i<a;++i)n=t[i][e.axis],os(n)&&s.push(n);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,s,i,a;return rs(e)?(t=e.top,s=e.right,i=e.bottom,a=e.left):t=s=i=a=e,{top:t,right:s,bottom:i,left:a,disabled:!1===e}}(cs(this.options.clip,function(e,t,s){if(!1===s)return!1;const i=Ga(e,s),a=Ga(t,s);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,i=s.data||[],a=t.chartArea,n=[],r=this._drawStart||0,o=this._drawCount||i.length-r,l=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,a,r,o),c=r;c<r+o;++c){const t=i[c];t.hidden||(t.active&&l?n.push(t):t.draw(e,a))}for(c=0;c<n.length;++c)n[c].draw(e,a)}getStyle(e,t){const s=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,s){return Gi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return Gi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=s,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const i="active"===t,a=this._cachedDataOpts,n=e+"-"+t,r=a[n],o=this.enableOptionSharing&&Ns(s);if(r)return en(r,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),u=Object.keys(yi.elements[e]),p=l.resolveNamedOptions(h,u,()=>this.getContext(s,i,t),d);return p.$shared&&(p.$shared=o,a[n]=Object.freeze(en(p,o))),p}_resolveAnimations(e,t,s){const i=this.chart,a=this._cachedDataOpts,n=`animation-${t}`,r=a[n];if(r)return r;let o;if(!1!==i.options.animation){const i=this.chart.config,a=i.datasetAnimationScopeKeys(this._type,t),n=i.getOptionScopes(this.getDataset(),a);o=i.createResolver(n,this.getContext(e,s,t))}const l=new $a(i,o&&o.animations);return o&&o._cacheable&&(a[n]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Za(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(s),n=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,s),{sharedOptions:a,includeOptions:n}}updateElement(e,t,s,i){Za(i)?Object.assign(e,s):this._resolveAnimations(t,i).update(e,s)}updateSharedOptions(e,t,s){e&&!Za(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,s,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[r,o,l]of this._syncList)this[r](o,l);this._syncList=[];const i=s.length,a=t.length,n=Math.min(a,i);n&&this.parse(0,n),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,s=!0){const i=this._cachedMeta,a=i.data,n=e+t;let r;const o=e=>{for(e.length+=t,r=e.length-1;r>=n;r--)e[r]=e[r-t]};for(o(a),r=e;r<n;++r)a[r]=new this.dataElementType;this._parsing&&o(i._parsed),this.parse(e,t),s&&this.updateElements(a,e,t,"reset")}updateElements(e,t,s,i){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,t);s._stacked&&Qa(s,i)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,i]=e;this[t](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}i(tn,"defaults",{}),i(tn,"datasetElementType",null),i(tn,"dataElementType",null);class sn extends tn{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=s;else{let a,n,r=e=>+s[e];if(rs(s[e])){const{key:e="value"}=this._parsing;r=t=>+ws(s[t],e)}for(a=e,n=e+t;a<n;++a)i._parsed[a]=r(a)}}_getRotation(){return Bs(this.options.rotation-90)}_getCircumference(){return Bs(this.options.circumference)}_getRotationExtents(){let e=Ms,t=-Ms;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,a=i._getRotation(),n=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+n)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,i=this._cachedMeta,a=i.data,n=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,r=Math.max((Math.min(s.width,s.height)-n)/2,0),o=Math.min((l=this.options.cutout,c=r,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:g,offsetY:x}=function(e,t,s){let i=1,a=1,n=0,r=0;if(t<Ms){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),h=Math.cos(l),u=Math.sin(l),p=(e,t,i)=>Vs(e,o,l,!0)?1:Math.max(t,t*s,i,i*s),m=(e,t,i)=>Vs(e,o,l,!0)?-1:Math.min(t,t*s,i,i*s),g=p(0,c,h),x=p(_s,d,u),f=m(Cs,c,h),b=m(Cs+_s,d,u);i=(g-f)/2,a=(x-b)/2,n=-(g+f)/2,r=-(x+b)/2}return{ratioX:i,ratioY:a,offsetX:n,offsetY:r}}(u,h,o),f=(s.width-n)/p,b=(s.height-n)/m,v=Math.max(Math.min(f,b)/2,0),y=ds(this.options.radius,v),w=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*y,this.offsetY=x*y,i.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const s=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/Ms)}updateElements(e,t,s,i){const a="reset"===i,n=this.chart,r=n.chartArea,o=n.options.animation,l=(r.left+r.right)/2,c=(r.top+r.bottom)/2,d=a&&o.animateScale,h=d?0:this.innerRadius,u=d?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,i);let g,x=this._getRotation();for(g=0;g<t;++g)x+=this._circumference(g,a);for(g=t;g<t+s;++g){const t=this._circumference(g,a),s=e[g],n={x:l+this.offsetX,y:c+this.offsetY,startAngle:x,endAngle:x+t,circumference:t,outerRadius:u,innerRadius:h};m&&(n.options=p||this.resolveDataElementOptions(g,s.active?"active":i)),x+=t,this.updateElement(s,g,n,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s,i=0;for(s=0;s<t.length;s++){const a=e._parsed[s];null===a||isNaN(a)||!this.chart.getDataVisibility(s)||t[s].hidden||(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ms*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,i=s.data.labels||[],a=pi(t._parsed[e],s.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const s=this.chart;let i,a,n,r,o;if(!e)for(i=0,a=s.data.datasets.length;i<a;++i)if(s.isDatasetVisible(i)){n=s.getDatasetMeta(i),e=n.data,r=n.controller;break}if(!e)return 0;for(i=0,a=e.length;i<a;++i)o=r.resolveDataElementOptions(i),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,i=e.length;s<i;++s){const e=this.resolveDataElementOptions(s);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(cs(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}i(sn,"id","doughnut"),i(sn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),i(sn,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),i(sn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return t.labels.map((t,a)=>{const n=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,fontColor:i,lineWidth:n.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}});class an extends tn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:i=[],_dataset:a}=t,n=this.chart._animationsDisabled;let{start:r,count:o}=function(e,t,s){const i=t.length;let a=0,n=i;if(e._sorted){const{iScale:r,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:h,max:u,minDefined:p,maxDefined:m}=r.getUserBounds();if(p){if(a=Math.min(Xs(l,d,h).lo,s?i:Xs(t,d,r.getPixelForValue(h)).lo),c){const e=l.slice(0,a+1).reverse().findIndex(e=>!as(e[o.axis]));a-=Math.max(0,e)}a=Us(a,0,i-1)}if(m){let e=Math.max(Xs(l,r.axis,u,!0).hi+1,s?0:Xs(t,d,r.getPixelForValue(u),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!as(e[o.axis]));e+=Math.max(0,t)}n=Us(e,a,i)-a}else n=i-a}return{start:a,count:n}}(t,i,n);this._drawStart=r,this._drawCount=o,function(e){const{xScale:t,yScale:s,_scaleRanges:i}=e,a={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!i)return e._scaleRanges=a,!0;const n=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==s.min||i.ymax!==s.max;return Object.assign(i,a),n}(t)&&(r=0,o=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(s,void 0,{animated:!n,options:l},e),this.updateElements(i,r,o,e)}updateElements(e,t,s,i){const a="reset"===i,{iScale:n,vScale:r,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,i),h=n.axis,u=r.axis,{spanGaps:p,segment:m}=this.options,g=zs(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||"none"===i,f=t+s,b=e.length;let v=t>0&&this.getParsed(t-1);for(let y=0;y<b;++y){const s=e[y],p=x?s:{};if(y<t||y>=f){p.skip=!0;continue}const b=this.getParsed(y),w=as(b[u]),j=p[h]=n.getPixelForValue(b[h],y),N=p[u]=a||w?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,b,o):b[u],y);p.skip=isNaN(j)||isNaN(N)||w,p.stop=y>0&&Math.abs(b[h]-v[h])>g,m&&(p.parsed=b,p.raw=l.data[y]),d&&(p.options=c||this.resolveDataElementOptions(y,s.active?"active":i)),x||this.updateElement(s,y,p,i),v=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const a=i[0].size(this.resolveDataElementOptions(0)),n=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,a,n)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function nn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}i(an,"id","line"),i(an,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),i(an,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class rn{constructor(e){i(this,"options"),this.options=e||{}}static override(e){Object.assign(rn.prototype,e)}init(){}formats(){return nn()}parse(){return nn()}format(){return nn()}add(){return nn()}diff(){return nn()}startOf(){return nn()}endOf(){return nn()}}var on=rn;function ln(e,t,s,i){const{controller:a,data:n,_sorted:r}=e,o=a._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&r&&n.length){const r=o._reversePixels?Js:Xs;if(!i){const i=r(n,t,s);if(l){const{vScale:t}=a._cachedMeta,{_parsed:s}=e,n=s.slice(0,i.lo+1).reverse().findIndex(e=>!as(e[t.axis]));i.lo-=Math.max(0,n);const r=s.slice(i.hi).findIndex(e=>!as(e[t.axis]));i.hi+=Math.max(0,r)}return i}if(a._sharedOptions){const e=n[0],i="function"==typeof e.getRange&&e.getRange(t);if(i){const e=r(n,t,s-i),a=r(n,t,s+i);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:n.length-1}}function cn(e,t,s,i,a){const n=e.getSortedVisibleDatasetMetas(),r=s[t];for(let o=0,l=n.length;o<l;++o){const{index:e,data:s}=n[o],{lo:l,hi:c}=ln(n[o],t,r,a);for(let t=l;t<=c;++t){const a=s[t];a.skip||i(a,e,t)}}}function dn(e,t,s,i,a){const n=[];if(!a&&!e.isPointInArea(t))return n;return cn(e,s,t,function(s,r,o){(a||Ci(s,e.chartArea,0))&&s.inRange(t.x,t.y,i)&&n.push({element:s,datasetIndex:r,index:o})},!0),n}function hn(e,t,s,i,a,n){let r=[];const o=function(e){const t=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,i){const a=t?Math.abs(e.x-i.x):0,n=s?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(n,2))}}(s);let l=Number.POSITIVE_INFINITY;return cn(e,s,t,function(s,c,d){const h=s.inRange(t.x,t.y,a);if(i&&!h)return;const u=s.getCenterPoint(a);if(!(!!n||e.isPointInArea(u))&&!h)return;const p=o(t,u);p<l?(r=[{element:s,datasetIndex:c,index:d}],l=p):p===l&&r.push({element:s,datasetIndex:c,index:d})}),r}function un(e,t,s,i,a,n){return n||e.isPointInArea(t)?"r"!==s||i?hn(e,t,s,i,a,n):function(e,t,s,i){let a=[];return cn(e,s,t,function(e,s,n){const{startAngle:r,endAngle:o}=e.getProps(["startAngle","endAngle"],i),{angle:l}=Hs(e,{x:t.x,y:t.y});Vs(l,r,o)&&a.push({element:e,datasetIndex:s,index:n})}),a}(e,t,s,a):[]}function pn(e,t,s,i,a){const n=[],r="x"===s?"inXRange":"inYRange";let o=!1;return cn(e,s,t,(e,i,l)=>{e[r]&&e[r](t[s],a)&&(n.push({element:e,datasetIndex:i,index:l}),o=o||e.inRange(t.x,t.y,a))}),i&&!o?[]:n}var mn={modes:{index(e,t,s,i){const a=fa(t,e),n=s.axis||"x",r=s.includeInvisible||!1,o=s.intersect?dn(e,a,n,i,r):un(e,a,n,!1,i,r),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,s=e.data[t];s&&!s.skip&&l.push({element:s,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,s,i){const a=fa(t,e),n=s.axis||"xy",r=s.includeInvisible||!1;let o=s.intersect?dn(e,a,n,i,r):un(e,a,n,!1,i,r);if(o.length>0){const t=o[0].datasetIndex,s=e.getDatasetMeta(t).data;o=[];for(let e=0;e<s.length;++e)o.push({element:s[e],datasetIndex:t,index:e})}return o},point:(e,t,s,i)=>dn(e,fa(t,e),s.axis||"xy",i,s.includeInvisible||!1),nearest(e,t,s,i){const a=fa(t,e),n=s.axis||"xy",r=s.includeInvisible||!1;return un(e,a,n,s.intersect,i,r)},x:(e,t,s,i)=>pn(e,fa(t,e),"x",s.intersect,i),y:(e,t,s,i)=>pn(e,fa(t,e),"y",s.intersect,i)}};const gn=["left","top","right","bottom"];function xn(e,t){return e.filter(e=>e.pos===t)}function fn(e,t){return e.filter(e=>-1===gn.indexOf(e.pos)&&e.box.axis===t)}function bn(e,t){return e.sort((e,s)=>{const i=t?s:e,a=t?e:s;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function vn(e,t){const s=function(e){const t={};for(const s of e){const{stack:e,pos:i,stackWeight:a}=s;if(!e||!gn.includes(i))continue;const n=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});n.count++,n.weight+=a}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let n,r,o;for(n=0,r=e.length;n<r;++n){o=e[n];const{fullSize:r}=o.box,l=s[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*i:r&&t.availableWidth,o.height=a):(o.width=i,o.height=c?c*a:r&&t.availableHeight)}return s}function yn(e,t,s,i){return Math.max(e[s],t[s])+Math.max(e[i],t[i])}function wn(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function jn(e,t,s,i){const{pos:a,box:n}=s,r=e.maxPadding;if(!rs(a)){s.size&&(e[a]-=s.size);const t=i[s.stack]||{size:0,count:1};t.size=Math.max(t.size,s.horizontal?n.height:n.width),s.size=t.size/t.count,e[a]+=s.size}n.getPadding&&wn(r,n.getPadding());const o=Math.max(0,t.outerWidth-yn(r,e,"left","right")),l=Math.max(0,t.outerHeight-yn(r,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,s.horizontal?{same:c,other:d}:{same:d,other:c}}function Nn(e,t){const s=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{i[e]=Math.max(t[e],s[e])}),i}return i(e?["left","right"]:["top","bottom"])}function kn(e,t,s,i){const a=[];let n,r,o,l,c,d;for(n=0,r=e.length,c=0;n<r;++n){o=e[n],l=o.box,l.update(o.width||t.w,o.height||t.h,Nn(o.horizontal,t));const{same:r,other:h}=jn(t,s,o,i);c|=r&&a.length,d=d||h,l.fullSize||a.push(o)}return c&&kn(a,t,s,i)||d}function Sn(e,t,s,i,a){e.top=s,e.left=t,e.right=t+i,e.bottom=s+a,e.width=i,e.height=a}function Cn(e,t,s,i){const a=s.padding;let{x:n,y:r}=t;for(const o of e){const e=o.box,l=i[o.stack]||{placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const i=t.w*c,n=l.size||e.height;Ns(l.start)&&(r=l.start),e.fullSize?Sn(e,a.left,r,s.outerWidth-a.right-a.left,n):Sn(e,t.left+l.placed,r,i,n),l.start=r,l.placed+=i,r=e.bottom}else{const i=t.h*c,r=l.size||e.width;Ns(l.start)&&(n=l.start),e.fullSize?Sn(e,n,a.top,r,s.outerHeight-a.bottom-a.top):Sn(e,n,t.top+l.placed,r,i),l.start=n,l.placed+=i,n=e.right}}t.x=n,t.y=r}var Mn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;-1!==s&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,i){if(!e)return;const a=Hi(e.options.layout.padding),n=Math.max(t-a.width,0),r=Math.max(s-a.height,0),o=function(e){const t=function(e){const t=[];let s,i,a,n,r,o;for(s=0,i=(e||[]).length;s<i;++s)a=e[s],({position:n,options:{stack:r,stackWeight:o=1}}=a),t.push({index:s,box:a,pos:n,horizontal:a.isHorizontal(),weight:a.weight,stack:r&&n+r,stackWeight:o});return t}(e),s=bn(t.filter(e=>e.box.fullSize),!0),i=bn(xn(t,"left"),!0),a=bn(xn(t,"right")),n=bn(xn(t,"top"),!0),r=bn(xn(t,"bottom")),o=fn(t,"x"),l=fn(t,"y");return{fullSize:s,leftAndTop:i.concat(n),rightAndBottom:a.concat(l).concat(r).concat(o),chartArea:xn(t,"chartArea"),vertical:i.concat(a).concat(l),horizontal:n.concat(r).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;us(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:a,availableWidth:n,availableHeight:r,vBoxMaxWidth:n/2/d,hBoxMaxHeight:r/2}),u=Object.assign({},a);wn(u,Hi(i));const p=Object.assign({maxPadding:u,w:n,h:r,x:a.left,y:a.top},a),m=vn(l.concat(c),h);kn(o.fullSize,p,h,m),kn(l,p,h,m),kn(c,p,h,m)&&kn(l,p,h,m),function(e){const t=e.maxPadding;function s(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}(p),Cn(o.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,Cn(o.rightAndBottom,p,h,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},us(o.chartArea,t=>{const s=t.box;Object.assign(s,e.chartArea),s.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class In{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,i){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):s)}}isAttached(e){return!0}updateConfig(e){}}class Tn extends In{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const En="$chartjs",_n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Dn=e=>null===e||""===e;const Pn=!!wa&&{passive:!0};function An(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,Pn)}function On(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function Ln(e,t,s){const i=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||On(s.addedNodes,i),t=t&&!On(s.removedNodes,i);t&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function Rn(e,t,s){const i=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||On(s.removedNodes,i),t=t&&!On(s.addedNodes,i);t&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const zn=new Map;let Bn=0;function Fn(){const e=window.devicePixelRatio;e!==Bn&&(Bn=e,zn.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function Hn(e,t,s){const i=e.canvas,a=i&&ua(i);if(!a)return;const n=ei((e,t)=>{const i=a.clientWidth;s(e,t),i<a.clientWidth&&s()},window),r=new ResizeObserver(e=>{const t=e[0],s=t.contentRect.width,i=t.contentRect.height;0===s&&0===i||n(s,i)});return r.observe(a),function(e,t){zn.size||window.addEventListener("resize",Fn),zn.set(e,t)}(e,n),r}function Wn(e,t,s){s&&s.disconnect(),"resize"===t&&function(e){zn.delete(e),zn.size||window.removeEventListener("resize",Fn)}(e)}function $n(e,t,s){const i=e.canvas,a=ei(t=>{null!==e.ctx&&s(function(e,t){const s=_n[e.type]||e.type,{x:i,y:a}=fa(e,t);return{type:s,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==a?a:null}}(t,e))},e);return function(e,t,s){e&&e.addEventListener(t,s,Pn)}(i,t,a),a}class Gn extends In{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function(e,t){const s=e.style,i=e.getAttribute("height"),a=e.getAttribute("width");if(e[En]={initial:{height:i,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Dn(a)){const t=ja(e,"width");void 0!==t&&(e.width=t)}if(Dn(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=ja(e,"height");void 0!==t&&(e.height=t)}}(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[En])return!1;const s=t[En].initial;["height","width"].forEach(e=>{const i=s[e];as(i)?t.removeAttribute(e):t.setAttribute(e,i)});const i=s.style||{};return Object.keys(i).forEach(e=>{t.style[e]=i[e]}),t.width=t.width,delete t[En],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:Ln,detach:Rn,resize:Hn}[t]||$n;i[t]=a(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),i=s[t];if(!i)return;({attach:Wn,detach:Wn,resize:Wn}[t]||An)(e,t,i),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,i){return va(e,t,s,i)}isAttached(e){const t=e&&ua(e);return!(!t||!t.isConnected)}}let Vn=(e=class{constructor(){i(this,"x"),i(this,"y"),i(this,"active",!1),i(this,"options"),i(this,"$animations")}tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return zs(this.x)&&zs(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const i={};return e.forEach(e=>{i[e]=s[e]&&s[e].active()?s[e]._to:this[e]}),i}},i(e,"defaults",{}),i(e,"defaultRoutes"),e);function Un(e,t){const s=e.options.ticks,i=function(e){const t=e.options.offset,s=e._tickSize(),i=e._length/s+(t?0:1),a=e._maxLength/s;return Math.floor(Math.min(i,a))}(e),a=Math.min(s.maxTicksLimit||i,i),n=s.major.enabled?function(e){const t=[];let s,i;for(s=0,i=e.length;s<i;s++)e[s].major&&t.push(s);return t}(t):[],r=n.length,o=n[0],l=n[r-1],c=[];if(r>a)return function(e,t,s,i){let a,n=0,r=s[0];for(i=Math.ceil(i),a=0;a<e.length;a++)a===r&&(t.push(e[a]),n++,r=s[n*i])}(t,c,n,r/a),c;const d=function(e,t,s){const i=function(e){const t=e.length;let s,i;if(t<2)return!1;for(i=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==i)return!1;return i}(e),a=t.length/s;if(!i)return Math.max(a,1);const n=function(e){const t=[],s=Math.sqrt(e);let i;for(i=1;i<s;i++)e%i===0&&(t.push(i),t.push(e/i));return s===(0|s)&&t.push(s),t.sort((e,t)=>e-t).pop(),t}(i);for(let r=0,o=n.length-1;r<o;r++){const e=n[r];if(e>a)return e}return Math.max(a,1)}(n,t,a);if(r>0){let e,s;const i=r>1?Math.round((l-o)/(r-1)):null;for(qn(t,c,d,as(i)?0:o-i,o),e=0,s=r-1;e<s;e++)qn(t,c,d,n[e],n[e+1]);return qn(t,c,d,l,as(i)?t.length:l+i),c}return qn(t,c,d),c}function qn(e,t,s,i,a){const n=cs(i,0),r=Math.min(cs(a,e.length),e.length);let o,l,c,d=0;for(s=Math.ceil(s),a&&(o=a-i,s=o/Math.floor(o/s)),c=n;c<0;)d++,c=Math.round(n+d*s);for(l=Math.max(n,0);l<r;l++)l===c&&(t.push(e[l]),d++,c=Math.round(n+d*s))}const Yn=(e,t,s)=>"top"===t||"left"===t?e[t]+s:e[t]-s,Xn=(e,t)=>Math.min(t||e,e);function Jn(e,t){const s=[],i=e.length/t,a=e.length;let n=0;for(;n<a;n+=i)s.push(e[Math.floor(n)]);return s}function Kn(e,t,s){const i=e.ticks.length,a=Math.min(t,i-1),n=e._startPixel,r=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(a);if(!(s&&(l=1===i?Math.max(c-n,r-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?l:-l,c<n-o||c>r+o)))return c}function Qn(e){return e.drawTicks?e.tickLength:0}function Zn(e,t){if(!e.display)return 0;const s=Wi(e.font,t),i=Hi(e.padding);return(ns(e.text)?e.text.length:1)*s.lineHeight+i.height}function er(e,t,s){let i=ti(e);return(s&&"right"!==t||!s&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class tr extends Vn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:i}=this;return e=ls(e,Number.POSITIVE_INFINITY),t=ls(t,Number.NEGATIVE_INFINITY),s=ls(s,Number.POSITIVE_INFINITY),i=ls(i,Number.NEGATIVE_INFINITY),{min:ls(e,s),max:ls(t,i),minDefined:os(e),maxDefined:os(t)}}getMinMax(e){let t,{min:s,max:i,minDefined:a,maxDefined:n}=this.getUserBounds();if(a&&n)return{min:s,max:i};const r=this.getMatchingVisibleMetas();for(let o=0,l=r.length;o<l;++o)t=r[o].controller.getMinMax(this,e),a||(s=Math.min(s,t.min)),n||(i=Math.max(i,t.max));return s=n&&s>i?i:s,i=a&&s>i?s:i,{min:ls(s,ls(i,s)),max:ls(i,ls(s,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){hs(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:i,grace:a,ticks:n}=this.options,r=n.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,s){const{min:i,max:a}=e,n=ds(t,(a-i)/2),r=(e,t)=>s&&0===e?0:e+t;return{min:r(i,-Math.abs(n)),max:r(a,n)}}(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=r<this.ticks.length;this._convertTicksToLabels(o?Jn(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||"auto"===n.source)&&(this.ticks=Un(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,s=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,s=!s),this._startPixel=e,this._endPixel=t,this._reversePixels=s,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){hs(this.options.afterUpdate,[this])}beforeSetDimensions(){hs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){hs(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),hs(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){hs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,i,a;for(s=0,i=e.length;s<i;s++)a=e[s],a.label=hs(t.callback,[a.value,s,e],this)}afterTickToLabelConversion(){hs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){hs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=Xn(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation;let n,r,o,l=i;if(!this._isVisible()||!t.display||i>=a||s<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),d=c.widest.width,h=c.highest.height,u=Us(this.chart.width-d,0,this.maxWidth);n=e.offset?this.maxWidth/s:u/(s-1),d+6>n&&(n=u/(s-(e.offset?.5:1)),r=this.maxHeight-Qn(e.grid)-t.padding-Zn(e.title,this.chart.options.font),o=Math.sqrt(d*d+h*h),l=Math.min(Math.asin(Us((c.highest.height+6)/n,-1,1)),Math.asin(Us(r/o,-1,1))-Math.asin(Us(h/o,-1,1)))*(180/Cs),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){hs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){hs(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:i,grid:a}}=this,n=this._isVisible(),r=this.isHorizontal();if(n){const n=Zn(i,t.options.font);if(r?(e.width=this.maxWidth,e.height=Qn(a)+n):(e.height=this.maxHeight,e.width=Qn(a)+n),s.display&&this.ticks.length){const{first:t,last:i,widest:a,highest:n}=this._getLabelSizes(),o=2*s.padding,l=Bs(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(r){const t=s.mirror?0:d*a.width+c*n.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=s.mirror?0:c*a.width+d*n.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,i,d,c)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,i){const{ticks:{align:a,padding:n},position:r}=this.options,o=0!==this.labelRotation,l="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;o?l?(d=i*e.width,h=s*t.height):(d=s*e.height,h=i*t.width):"start"===a?h=t.width:"end"===a?d=e.width:"inner"!==a&&(d=e.width/2,h=t.width/2),this.paddingLeft=Math.max((d-r+n)*this.width/(this.width-r),0),this.paddingRight=Math.max((h-c+n)*this.width/(this.width-c),0)}else{let s=t.height/2,i=e.height/2;"start"===a?(s=0,i=e.height):"end"===a&&(s=t.height,i=0),this.paddingTop=s+n,this.paddingBottom=i+n}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){hs(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)as(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=Jn(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:i,_longestTextCache:a}=this,n=[],r=[],o=Math.floor(t/Xn(t,s));let l,c,d,h,u,p,m,g,x,f,b,v=0,y=0;for(l=0;l<t;l+=o){if(h=e[l].label,u=this._resolveTickFontOptions(l),i.font=p=u.string,m=a[p]=a[p]||{data:{},gc:[]},g=u.lineHeight,x=f=0,as(h)||ns(h)){if(ns(h))for(c=0,d=h.length;c<d;++c)b=h[c],as(b)||ns(b)||(x=wi(i,m.data,m.gc,x,b),f+=g)}else x=wi(i,m.data,m.gc,x,h),f=g;n.push(x),r.push(f),v=Math.max(x,v),y=Math.max(f,y)}!function(e,t){us(e,e=>{const s=e.gc,i=s.length/2;let a;if(i>t){for(a=0;a<i;++a)delete e.data[s[a]];s.splice(0,i)}})}(a,t);const w=n.indexOf(v),j=r.indexOf(y),N=e=>({width:n[e]||0,height:r[e]||0});return{first:N(0),last:N(t-1),widest:N(w),highest:N(j),widths:n,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Us(this._alignToPixels?ji(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=function(e,t,s){return Gi(e,{tick:s,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=Gi(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Bs(this.labelRotation),s=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),n=e.autoSkipPadding||0,r=a?a.widest.width+n:0,o=a?a.highest.height+n:0;return this.isHorizontal()?o*s>r*i?r/s:o/i:o*i<r*s?o/s:r/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,i=this.options,{grid:a,position:n,border:r}=i,o=a.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=Qn(a),h=[],u=r.setContext(this.getContext()),p=u.display?u.width:0,m=p/2,g=function(e){return ji(s,e,p)};let x,f,b,v,y,w,j,N,k,S,C,M;if("top"===n)x=g(this.bottom),w=this.bottom-d,N=x-m,S=g(e.top)+m,M=e.bottom;else if("bottom"===n)x=g(this.top),S=e.top,M=g(e.bottom)-m,w=x+m,N=this.top+d;else if("left"===n)x=g(this.right),y=this.right-d,j=x-m,k=g(e.left)+m,C=e.right;else if("right"===n)x=g(this.left),k=e.left,C=g(e.right)-m,y=x+m,j=this.left+d;else if("x"===t){if("center"===n)x=g((e.top+e.bottom)/2+.5);else if(rs(n)){const e=Object.keys(n)[0],t=n[e];x=g(this.chart.scales[e].getPixelForValue(t))}S=e.top,M=e.bottom,w=x+m,N=w+d}else if("y"===t){if("center"===n)x=g((e.left+e.right)/2);else if(rs(n)){const e=Object.keys(n)[0],t=n[e];x=g(this.chart.scales[e].getPixelForValue(t))}y=x-m,j=y-d,k=e.left,C=e.right}const I=cs(i.ticks.maxTicksLimit,c),T=Math.max(1,Math.ceil(c/I));for(f=0;f<c;f+=T){const e=this.getContext(f),t=a.setContext(e),i=r.setContext(e),n=t.lineWidth,c=t.color,d=i.dash||[],u=i.dashOffset,p=t.tickWidth,m=t.tickColor,g=t.tickBorderDash||[],x=t.tickBorderDashOffset;b=Kn(this,f,o),void 0!==b&&(v=ji(s,b,n),l?y=j=k=C=v:w=N=S=M=v,h.push({tx1:y,ty1:w,tx2:j,ty2:N,x1:k,y1:S,x2:C,y2:M,width:n,color:c,borderDash:d,borderDashOffset:u,tickWidth:p,tickColor:m,tickBorderDash:g,tickBorderDashOffset:x}))}return this._ticksLength=c,this._borderValue=x,h}_computeLabelItems(e){const t=this.axis,s=this.options,{position:i,ticks:a}=s,n=this.isHorizontal(),r=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=a,h=Qn(s.grid),u=h+c,p=d?-c:u,m=-Bs(this.labelRotation),g=[];let x,f,b,v,y,w,j,N,k,S,C,M,I="middle";if("top"===i)w=this.bottom-p,j=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+p,j=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(h);j=e.textAlign,y=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(h);j=e.textAlign,y=e.x}else if("x"===t){if("center"===i)w=(e.top+e.bottom)/2+u;else if(rs(i)){const e=Object.keys(i)[0],t=i[e];w=this.chart.scales[e].getPixelForValue(t)+u}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)y=(e.left+e.right)/2-u;else if(rs(i)){const e=Object.keys(i)[0],t=i[e];y=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===o?I="top":"end"===o&&(I="bottom"));const T=this._getLabelSizes();for(x=0,f=r.length;x<f;++x){b=r[x],v=b.label;const e=a.setContext(this.getContext(x));N=this.getPixelForTick(x)+a.labelOffset,k=this._resolveTickFontOptions(x),S=k.lineHeight,C=ns(v)?v.length:1;const t=C/2,s=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let h,u=j;if(n?(y=N,"inner"===j&&(u=x===f-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),M="top"===i?"near"===l||0!==m?-C*S+S/2:"center"===l?-T.highest.height/2-t*S+S:-T.highest.height+S/2:"near"===l||0!==m?S/2:"center"===l?T.highest.height/2-t*S:T.highest.height-C*S,d&&(M*=-1),0===m||e.showLabelBackdrop||(y+=S/2*Math.sin(m))):(w=N,M=(1-C)*S/2),e.showLabelBackdrop){const t=Hi(e.backdropPadding),s=T.heights[x],i=T.widths[x];let a=M-t.top,n=0-t.left;switch(I){case"middle":a-=s/2;break;case"bottom":a-=s}switch(j){case"center":n-=i/2;break;case"right":n-=i;break;case"inner":x===f-1?n-=i:x>0&&(n-=i/2)}h={left:n,top:a,width:i+t.width,height:s+t.height,color:e.backdropColor}}g.push({label:v,font:k,textOffset:M,options:{rotation:m,color:s,strokeColor:o,strokeWidth:c,textAlign:u,textBaseline:I,translation:[y,w],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Bs(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:i,padding:a}}=this.options,n=e+a,r=this._getLabelSizes().widest.width;let o,l;return"left"===t?i?(l=this.right+a,"near"===s?o="left":"center"===s?(o="center",l+=r/2):(o="right",l+=r)):(l=this.right-n,"near"===s?o="right":"center"===s?(o="center",l-=r/2):(o="left",l=this.left)):"right"===t?i?(l=this.left+a,"near"===s?o="right":"center"===s?(o="center",l-=r/2):(o="left",l-=r)):(l=this.left+n,"near"===s?o="left":"center"===s?(o="center",l+=r/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:i,width:a,height:n}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,i,a,n),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(t=>t.value===e);if(s>=0){return t.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,n;const r=(e,t,i)=>{i.width&&i.color&&(s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.setLineDash(i.borderDash||[]),s.lineDashOffset=i.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(t.display)for(a=0,n=i.length;a<n;++a){const e=i[a];t.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:i}}=this,a=s.setContext(this.getContext()),n=s.display?a.width:0;if(!n)return;const r=i.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,h;this.isHorizontal()?(l=ji(e,this.left,n)-n/2,c=ji(e,this.right,r)+r/2,d=h=o):(d=ji(e,this.top,n)-n/2,h=ji(e,this.bottom,r)+r/2,l=c=o),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,s=this._computeLabelArea();s&&Mi(t,s);const i=this.getLabelItems(e);for(const a of i){const e=a.options,s=a.font;Pi(t,a.label,0,a.textOffset,s,e)}s&&Ii(t)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:i}}=this;if(!s.display)return;const a=Wi(s.font),n=Hi(s.padding),r=s.align;let o=a.lineHeight/2;"bottom"===t||"center"===t||rs(t)?(o+=n.bottom,ns(s.text)&&(o+=a.lineHeight*(s.text.length-1))):o+=n.top;const{titleX:l,titleY:c,maxWidth:d,rotation:h}=function(e,t,s,i){const{top:a,left:n,bottom:r,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let h,u,p,m=0;const g=r-a,x=o-n;if(e.isHorizontal()){if(u=si(i,n,o),rs(s)){const e=Object.keys(s)[0],i=s[e];p=d[e].getPixelForValue(i)+g-t}else p="center"===s?(c.bottom+c.top)/2+g-t:Yn(e,s,t);h=o-n}else{if(rs(s)){const e=Object.keys(s)[0],i=s[e];u=d[e].getPixelForValue(i)-x+t}else u="center"===s?(c.left+c.right)/2-x+t:Yn(e,s,t);p=si(i,r,a),m="left"===s?-_s:_s}return{titleX:u,titleY:p,maxWidth:h,rotation:m}}(this,o,t,r);Pi(e,s.text,0,0,a,{color:s.color,maxWidth:d,rotation:h,textAlign:er(r,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=cs(e.grid&&e.grid.z,-1),i=cs(e.border&&e.border.z,0);return this._isVisible()&&this.draw===tr.prototype.draw?[{z:s,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let a,n;for(a=0,n=t.length;a<n;++a){const n=t[a];n[s]!==this.id||e&&n.type!==e||i.push(n)}return i}_resolveTickFontOptions(e){return Wi(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sr{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;(function(e){return"id"in e&&"defaults"in e})(t)&&(s=this.register(t));const i=this.items,a=e.id,n=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,function(e,t,s){const i=fs(Object.create(null),[s?yi.get(s):{},yi.get(t),e.defaults]);yi.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(s=>{const i=s.split("."),a=i.pop(),n=[e].concat(i).join("."),r=t[s].split("."),o=r.pop(),l=r.join(".");yi.route(n,a,l,o)})}(t,e.defaultRoutes);e.descriptors&&yi.describe(t,e.descriptors)}(e,n,s),this.override&&yi.override(e.id,e.overrides)),n}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,i=this.scope;s in t&&delete t[s],i&&s in yi[i]&&(delete yi[i][s],this.override&&delete gi[s])}}class ir{constructor(){this.controllers=new sr(tn,"datasets",!0),this.elements=new sr(Vn,"elements"),this.plugins=new sr(Object,"plugins"),this.scales=new sr(tr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(t=>{const i=s||this._getRegistryForType(t);s||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):us(t,t=>{const i=s||this._getRegistryForType(t);this._exec(e,i,t)})})}_exec(e,t,s){const i=js(e);hs(s["before"+i],[],s),t[e](s),hs(s["after"+i],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var ar=new ir;class nr{constructor(){this._init=[]}notify(e,t,s,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),n=this._notify(a,e,t,s);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),n}_notify(e,t,s,i){i=i||{};for(const a of e){const e=a.plugin;if(!1===hs(e[s],[t,i,a.options],e)&&i.cancelable)return!1}return!0}invalidate(){as(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,i=cs(s.options&&s.options.plugins,{}),a=function(e){const t={},s=[],i=Object.keys(ar.plugins.items);for(let n=0;n<i.length;n++)s.push(ar.getPlugin(i[n]));const a=e.plugins||[];for(let n=0;n<a.length;n++){const e=a[n];-1===s.indexOf(e)&&(s.push(e),t[e.id]=!0)}return{plugins:s,localIds:t}}(s);return!1!==i||t?function(e,{plugins:t,localIds:s},i,a){const n=[],r=e.getContext();for(const o of t){const t=o.id,l=rr(i[t],a);null!==l&&n.push({plugin:o,options:or(e.config,{plugin:o,local:s[t]},l,r)})}return n}(e,a,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,i=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(i(t,s),e,"stop"),this._notify(i(s,t),e,"start")}}function rr(e,t){return t||!1!==e?!0===e?{}:e:null}function or(e,{plugin:t,local:s},i,a){const n=e.pluginScopeKeys(t),r=e.getOptionScopes(i,n);return s&&t.defaults&&r.push(t.defaults),e.createResolver(r,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lr(e,t){const s=yi.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function cr(e){if("x"===e||"y"===e||"r"===e)return e}function dr(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function hr(e,...t){if(cr(e))return e;for(const s of t){const t=s.axis||dr(s.position)||e.length>1&&cr(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ur(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function pr(e,t){const s=gi[e.type]||{scales:{}},i=t.scales||{},a=lr(e.type,t),n=Object.create(null);return Object.keys(i).forEach(t=>{const r=i[t];if(!rs(r))return;if(r._proxy)return;const o=hr(t,r,function(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(s.length)return ur(e,"x",s[0])||ur(e,"y",s[0])}return{}}(t,e),yi.scales[r.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,a),c=s.scales||{};n[t]=bs(Object.create(null),[{axis:o},r,c[o],c[l]])}),e.data.datasets.forEach(s=>{const a=s.type||e.type,r=s.indexAxis||lr(a,t),o=(gi[a]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let s=e;return"_index_"===e?s=t:"_value_"===e&&(s="x"===t?"y":"x"),s}(e,r),a=s[t+"AxisID"]||t;n[a]=n[a]||Object.create(null),bs(n[a],[{axis:t},i[a],o[e]])})}),Object.keys(n).forEach(e=>{const t=n[e];bs(t,[yi.scales[t.type],yi.scale])}),n}function mr(e){const t=e.options||(e.options={});t.plugins=cs(t.plugins,{}),t.scales=pr(e,t)}function gr(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const xr=new Map,fr=new Set;function br(e,t){let s=xr.get(e);return s||(s=t(),xr.set(e,s),fr.add(s)),s}const vr=(e,t,s)=>{const i=ws(t,s);void 0!==i&&e.add(i)};class yr{constructor(e){this._config=function(e){return(e=e||{}).data=gr(e.data),mr(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gr(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),mr(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return br(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return br(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return br(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return br(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let i=s.get(e);return i&&!t||(i=new Map,s.set(e,i)),i}getOptionScopes(e,t,s){const{options:i,type:a}=this,n=this._cachedScopes(e,s),r=n.get(t);if(r)return r;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>vr(o,e,t))),t.forEach(e=>vr(o,i,e)),t.forEach(e=>vr(o,gi[a]||{},e)),t.forEach(e=>vr(o,yi,e)),t.forEach(e=>vr(o,xi,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),fr.has(t)&&n.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,gi[t]||{},yi.datasets[t]||{},{type:t},yi,xi]}resolveNamedOptions(e,t,s,i=[""]){const a={$shared:!0},{resolver:n,subPrefixes:r}=wr(this._resolverCache,e,i);let o=n;if(function(e,t){const{isScriptable:s,isIndexable:i}=qi(e);for(const a of t){const t=s(a),n=i(a),r=(n||t)&&e[a];if(t&&(ks(r)||jr(r))||n&&ns(r))return!0}return!1}(n,t)){a.$shared=!1;o=Ui(n,s=ks(s)?s():s,this.createResolver(e,s,r))}for(const l of t)a[l]=o[l];return a}createResolver(e,t,s=[""],i){const{resolver:a}=wr(this._resolverCache,e,s);return rs(t)?Ui(a,t,void 0,i):a}}function wr(e,t,s){let i=e.get(t);i||(i=new Map,e.set(t,i));const a=s.join();let n=i.get(a);if(!n){n={resolver:Vi(t,s),subPrefixes:s.filter(e=>!e.toLowerCase().includes("hover"))},i.set(a,n)}return n}const jr=e=>rs(e)&&Object.getOwnPropertyNames(e).some(t=>ks(e[t]));const Nr=["top","bottom","left","right","chartArea"];function kr(e,t){return"top"===e||"bottom"===e||-1===Nr.indexOf(e)&&"x"===t}function Sr(e,t){return function(s,i){return s[e]===i[e]?s[t]-i[t]:s[e]-i[e]}}function Cr(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),hs(s&&s.onComplete,[e],t)}function Mr(e){const t=e.chart,s=t.options.animation;hs(s&&s.onProgress,[e],t)}function Ir(e){return ha()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Tr={},Er=e=>{const t=Ir(e);return Object.values(Tr).filter(e=>e.canvas===t).pop()};function _r(e,t,s){const i=Object.keys(e);for(const a of i){const i=+a;if(i>=t){const n=e[a];delete e[a],(s>0||i>t)&&(e[i+s]=n)}}}let Dr=(t=class{static register(...e){ar.add(...e),Pr()}static unregister(...e){ar.remove(...e),Pr()}constructor(e,t){const s=this.config=new yr(t),i=Ir(e),a=Er(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const n=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(e){return!ha()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Tn:Gn}(i)),this.platform.updateConfig(s);const r=this.platform.acquireContext(i,n.aspectRatio),o=r&&r.canvas,l=o&&o.height,c=o&&o.width;this.id=is(),this.ctx=r,this.canvas=o,this.width=c,this.height=l,this._options=n,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let s;return function(...i){return t?(clearTimeout(s),s=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),n.resizeDelay||0),this._dataChanges=[],Tr[this.id]=this,r&&o&&(Ba.listen(this,"complete",Cr),Ba.listen(this,"progress",Mr),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:i,_aspectRatio:a}=this;return as(e)?t&&a?a:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ar}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ya(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ni(this.canvas,this.ctx),this}stop(){return Ba.stop(this),this}resize(e,t){Ba.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,i=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(i,e,t,a),r=s.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,ya(this,r,!0)&&(this.notifyPlugins("resize",{size:n}),hs(s.onResize,[this,n],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){us(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,i=Object.keys(s).reduce((e,t)=>(e[t]=!1,e),{});let a=[];t&&(a=a.concat(Object.keys(t).map(e=>{const s=t[e],i=hr(e,s),a="r"===i,n="x"===i;return{options:s,dposition:a?"chartArea":n?"bottom":"left",dtype:a?"radialLinear":n?"category":"linear"}}))),us(a,t=>{const a=t.options,n=a.id,r=hr(n,a),o=cs(a.type,t.dtype);void 0!==a.position&&kr(a.position,r)===kr(t.dposition)||(a.position=t.dposition),i[n]=!0;let l=null;if(n in s&&s[n].type===o)l=s[n];else{l=new(ar.getScale(o))({id:n,type:o,ctx:this.ctx,chart:this}),s[l.id]=l}l.init(a,e)}),us(i,(e,t)=>{e||delete s[t]}),us(s,e=>{Mn.configure(this,e,e.options),Mn.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((e,t)=>e.index-t.index),s>t){for(let e=t;e<s;++e)this._destroyDatasetMeta(e);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Sr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,s)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=t.length;s<i;s++){const i=t[s];let a=this.getDatasetMeta(s);const n=i.type||this.config.type;if(a.type&&a.type!==n&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=n,a.indexAxis=i.indexAxis||lr(n,this.options),a.order=i.order||0,a.index=s,a.label=""+i.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const t=ar.getController(n),{datasetElementType:i,dataElementType:r}=yi.datasets[n];Object.assign(t,{dataElementType:ar.getElement(r),datasetElementType:i&&ar.getElement(i)}),a.controller=new t(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){us(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===a.indexOf(e);e.buildOrUpdateElements(t),n=Math.max(+e.getMaxOverflow(),n)}n=this._minPadding=s.layout.autoPadding?n:0,this._updateLayout(n),i||us(a,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Sr("z","_idx"));const{_active:r,_lastEvent:o}=this;o?this._eventHandler(o,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){us(this.scales,e=>{Mn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);Ss(t,s)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:a}of t){_r(e,i,"_removeElements"===s?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),i=s(0);for(let a=1;a<t;a++)if(!Ss(i,s(a)))return;return Array.from(i).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Mn.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],us(this.boxes,e=>{s&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,ks(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(s.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ba.has(this)?this.attached&&!Ba.running(this)&&Ba.start(this):(this.draw(),Cr({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let i,a;for(i=0,a=t.length;i<a;++i){const a=t[i];e&&!a.visible||s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=Ra(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&Mi(t,i),e.controller.draw(),i&&Ii(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Ci(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,i){const a=mn.modes[t];return"function"==typeof a?a(this,e,s,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let i=s.filter(e=>e&&e._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Gi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return"boolean"==typeof s.hidden?!s.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const i=s?"show":"hide",a=this.getDatasetMeta(e),n=a.controller._resolveAnimations(void 0,i);Ns(t)?(a.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),n.update(a,{visible:s}),this.update(t=>t.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ba.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ni(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Tr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(s,i)=>{t.addEventListener(this,s,i),e[s]=i},i=(e,t,s)=>{e.offsetX=t,e.offsetY=s,this._eventHandler(e)};us(this.options.events,e=>s(e,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(s,i)=>{t.addEventListener(this,s,i),e[s]=i},i=(s,i)=>{e[s]&&(t.removeEventListener(this,s,i),delete e[s])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let n;const r=()=>{i("attach",r),this.attached=!0,this.resize(),s("resize",a),s("detach",n)};n=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),s("attach",r)},t.isAttached(this.canvas)?r():n()}unbindEvents(){us(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},us(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const i=s?"set":"remove";let a,n,r,o;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),r=0,o=e.length;r<o;++r){n=e[r];const t=n&&this.getDatasetMeta(n.datasetIndex).controller;t&&t[i+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:e,index:t})=>{const s=this.getDatasetMeta(e);if(!s)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:s.data[t],index:t}});!ps(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,s){const i=this.options.hover,a=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),n=a(t,e),r=s?e:a(e,t);n.length&&this.updateHoverStyle(n,i.mode,!1),r.length&&i.mode&&this.updateHoverStyle(r,i.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",s,i))return;const a=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(a||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:i=[],options:a}=this,n=t,r=this._getActiveElements(e,i,s,n),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,s,i){return s&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,s,o);s&&(this._lastEvent=null,hs(a.onHover,[e,r,this],this),o&&hs(a.onClick,[e,r,this],this));const c=!ps(r,i);return(c||t)&&(this._active=r,this._updateHoverStyles(r,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,s,i){if("mouseout"===e.type)return[];if(!s)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},i(t,"defaults",yi),i(t,"instances",Tr),i(t,"overrides",gi),i(t,"registry",ar),i(t,"version","4.5.0"),i(t,"getChart",Er),t);function Pr(){return us(Dr.instances,e=>e._plugins.invalidate())}function Ar(e,t,s,i){const a=Bi(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const n=(s-t)/2,r=Math.min(n,i*t/2),o=e=>{const t=(s-Math.min(n,e))*i/2;return Us(e,0,Math.min(n,t))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:Us(a.innerStart,0,r),innerEnd:Us(a.innerEnd,0,r)}}function Or(e,t,s,i){return{x:s+e*Math.cos(t),y:i+e*Math.sin(t)}}function Lr(e,t,s,i,a,n){const{x:r,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+i+s-c,0),u=d>0?d+i+s+c:0;let p=0;const m=a-l;if(i){const e=((d>0?d-i:0)+(h>0?h-i:0))/2;p=(m-(0!==e?m*e/(e+i):m))/2}const g=(m-Math.max(.001,m*h-s/Cs)/h)/2,x=l+g+p,f=a-g-p,{outerStart:b,outerEnd:v,innerStart:y,innerEnd:w}=Ar(t,u,h,f-x),j=h-b,N=h-v,k=x+b/j,S=f-v/N,C=u+y,M=u+w,I=x+y/C,T=f-w/M;if(e.beginPath(),n){const t=(k+S)/2;if(e.arc(r,o,h,k,t),e.arc(r,o,h,t,S),v>0){const t=Or(N,S,r,o);e.arc(t.x,t.y,v,S,f+_s)}const s=Or(M,f,r,o);if(e.lineTo(s.x,s.y),w>0){const t=Or(M,T,r,o);e.arc(t.x,t.y,w,f+_s,T+Math.PI)}const i=(f-w/u+(x+y/u))/2;if(e.arc(r,o,u,f-w/u,i,!0),e.arc(r,o,u,i,x+y/u,!0),y>0){const t=Or(C,I,r,o);e.arc(t.x,t.y,y,I+Math.PI,x-_s)}const a=Or(j,x,r,o);if(e.lineTo(a.x,a.y),b>0){const t=Or(j,k,r,o);e.arc(t.x,t.y,b,x-_s,k)}}else{e.moveTo(r,o);const t=Math.cos(k)*h+r,s=Math.sin(k)*h+o;e.lineTo(t,s);const i=Math.cos(S)*h+r,a=Math.sin(S)*h+o;e.lineTo(i,a)}e.closePath()}function Rr(e,t,s,i,a){const{fullCircles:n,startAngle:r,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:u,borderRadius:p}=l,m="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=u,m?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let g=t.endAngle;if(n){Lr(e,t,s,i,g,a);for(let t=0;t<n;++t)e.stroke();isNaN(o)||(g=r+(o%Ms||Ms))}m&&function(e,t,s){const{startAngle:i,pixelMargin:a,x:n,y:r,outerRadius:o,innerRadius:l}=t;let c=a/o;e.beginPath(),e.arc(n,r,o,i-c,s+c),l>a?(c=a/l,e.arc(n,r,l,s+c,i-c,!0)):e.arc(n,r,a,s+_s,i-_s),e.closePath(),e.clip()}(e,t,g),l.selfJoin&&g-r>=Cs&&0===p&&"miter"!==d&&function(e,t,s){const{startAngle:i,x:a,y:n,outerRadius:r,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,h=Math.min(c/r,Gs(i-s));if(e.beginPath(),e.arc(a,n,r-c/2,i+h/2,s-h/2),o>0){const t=Math.min(c/o,Gs(i-s));e.arc(a,n,o+c/2,s-t/2,i+t/2,!0)}else{const t=Math.min(c/2,r*Gs(i-s));if("round"===d)e.arc(a,n,t,s-Cs/2,i+Cs/2,!0);else if("bevel"===d){const r=2*t*t,o=-r*Math.cos(s+Cs/2)+a,l=-r*Math.sin(s+Cs/2)+n,c=r*Math.cos(i+Cs/2)+a,d=r*Math.sin(i+Cs/2)+n;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,g),n||(Lr(e,t,s,i,g,a),e.stroke())}class zr extends Vn{constructor(e){super(),i(this,"circumference"),i(this,"endAngle"),i(this,"fullCircles"),i(this,"innerRadius"),i(this,"outerRadius"),i(this,"pixelMargin"),i(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const i=this.getProps(["x","y"],s),{angle:a,distance:n}=Hs(i,{x:e,y:t}),{startAngle:r,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),h=(this.options.spacing+this.options.borderWidth)/2,u=cs(d,o-r),p=Vs(a,r,o)&&r!==o,m=u>=Ms||p,g=qs(n,l+h,c+h);return m&&g}getCenterPoint(e){const{x:t,y:s,startAngle:i,endAngle:a,innerRadius:n,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(i+a)/2,d=(n+r+l+o)/2;return{x:t+Math.cos(c)*d,y:s+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,i=(t.offset||0)/4,a=(t.spacing||0)/2,n=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=s>Ms?Math.floor(s/Ms):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*i,Math.sin(r)*i);const o=i*(1-Math.sin(Math.min(Cs,s||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,s,i,a){const{fullCircles:n,startAngle:r,circumference:o}=t;let l=t.endAngle;if(n){Lr(e,t,s,i,l,a);for(let t=0;t<n;++t)e.fill();isNaN(o)||(l=r+(o%Ms||Ms))}Lr(e,t,s,i,l,a),e.fill()}(e,this,o,a,n),Rr(e,this,o,a,n),e.restore()}}function Br(e,t,s=t){e.lineCap=cs(s.borderCapStyle,t.borderCapStyle),e.setLineDash(cs(s.borderDash,t.borderDash)),e.lineDashOffset=cs(s.borderDashOffset,t.borderDashOffset),e.lineJoin=cs(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=cs(s.borderWidth,t.borderWidth),e.strokeStyle=cs(s.borderColor,t.borderColor)}function Fr(e,t,s){e.lineTo(s.x,s.y)}function Hr(e,t,s={}){const i=e.length,{start:a=0,end:n=i-1}=s,{start:r,end:o}=t,l=Math.max(a,r),c=Math.min(n,o),d=a<r&&n<r||a>o&&n>o;return{count:i,start:l,loop:t.loop,ilen:c<l&&!d?i+c-l:c-l}}function Wr(e,t,s,i){const{points:a,options:n}=t,{count:r,start:o,loop:l,ilen:c}=Hr(a,s,i),d=function(e){return e.stepped?Ti:e.tension||"monotone"===e.cubicInterpolationMode?Ei:Fr}(n);let h,u,p,{move:m=!0,reverse:g}=i||{};for(h=0;h<=c;++h)u=a[(o+(g?c-h:h))%r],u.skip||(m?(e.moveTo(u.x,u.y),m=!1):d(e,p,u,g,n.stepped),p=u);return l&&(u=a[(o+(g?c:0))%r],d(e,p,u,g,n.stepped)),!!l}function $r(e,t,s,i){const a=t.points,{count:n,start:r,ilen:o}=Hr(a,s,i),{move:l=!0,reverse:c}=i||{};let d,h,u,p,m,g,x=0,f=0;const b=e=>(r+(c?o-e:e))%n,v=()=>{p!==m&&(e.lineTo(x,m),e.lineTo(x,p),e.lineTo(x,g))};for(l&&(h=a[b(0)],e.moveTo(h.x,h.y)),d=0;d<=o;++d){if(h=a[b(d)],h.skip)continue;const t=h.x,s=h.y,i=0|t;i===u?(s<p?p=s:s>m&&(m=s),x=(f*x+t)/++f):(v(),e.lineTo(t,s),u=i,f=0,p=m=s),g=s}v()}function Gr(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||s)?$r:Wr}i(zr,"id","arc"),i(zr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),i(zr,"defaultRoutes",{backgroundColor:"backgroundColor"}),i(zr,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Vr="function"==typeof Path2D;function Ur(e,t,s,i){Vr&&!t.options.segment?function(e,t,s,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,s,i)&&a.closePath()),Br(e,t.options),e.stroke(a)}(e,t,s,i):function(e,t,s,i){const{segments:a,options:n}=t,r=Gr(t);for(const o of a)Br(e,n,o.style),e.beginPath(),r(e,t,o,{start:s,end:s+i-1})&&e.closePath(),e.stroke()}(e,t,s,i)}class qr extends Vn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;da(this._points,s,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const s=e.points,i=e.options.spanGaps,a=s.length;if(!a)return[];const n=!!e._loop,{start:r,end:o}=function(e,t,s,i){let a=0,n=t-1;if(s&&!i)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,s&&(n+=a);n>a&&e[n%t].skip;)n--;return n%=t,{start:a,end:n}}(s,a,n,i);return Pa(e,!0===i?[{start:r,end:o,loop:n}]:function(e,t,s,i){const a=e.length,n=[];let r,o=t,l=e[t];for(r=t+1;r<=s;++r){const s=e[r%a];s.skip||s.stop?l.skip||(i=!1,n.push({start:t%a,end:(r-1)%a,loop:i}),t=o=s.stop?r:null):(o=r,l.skip&&(t=r)),l=s}return null!==o&&n.push({start:t%a,end:o%a,loop:i}),n}(s,r,o<r?o+a:o,!!e._fullLoop&&0===r&&o===a-1),s,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,i=e[t],a=this.points,n=Da(this,{property:t,start:i,end:i});if(!n.length)return;const r=[],o=function(e){return e.stepped?ka:e.tension||"monotone"===e.cubicInterpolationMode?Sa:Na}(s);let l,c;for(l=0,c=n.length;l<c;++l){const{start:c,end:d}=n[l],h=a[c],u=a[d];if(h===u){r.push(h);continue}const p=o(h,u,Math.abs((i-h[t])/(u[t]-h[t])),s.stepped);p[t]=e[t],r.push(p)}return 1===r.length?r[0]:r}pathSegment(e,t,s){return Gr(this)(e,this,t,s)}path(e,t,s){const i=this.segments,a=Gr(this);let n=this._loop;t=t||0,s=s||this.points.length-t;for(const r of i)n&=a(e,this,r,{start:t,end:t+s-1});return!!n}draw(e,t,s,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Ur(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Yr(e,t,s,i){const a=e.options,{[s]:n}=e.getProps([s],i);return Math.abs(t-n)<a.radius+a.hitRadius}i(qr,"id","line"),i(qr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),i(qr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),i(qr,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Xr extends Vn{constructor(e){super(),i(this,"parsed"),i(this,"skip"),i(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const i=this.options,{x:a,y:n}=this.getProps(["x","y"],s);return Math.pow(e-a,2)+Math.pow(t-n,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return Yr(this,e,"x",t)}inYRange(e,t){return Yr(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const s=this.options;this.skip||s.radius<.1||!Ci(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,ki(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Jr(e,t,s,i){if(i)return;let a=t[e],n=s[e];return"angle"===e&&(a=Gs(a),n=Gs(n)),{property:e,start:a,end:n}}function Kr(e,t,s){for(;t>e;t--){const e=s[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Qr(e,t,s,i){return e&&t?i(e[s],t[s]):e?e[s]:t?t[s]:0}function Zr(e,t){let s=[],i=!1;return ns(e)?(i=!0,s=e):s=function(e,t){const{x:s=null,y:i=null}=e||{},a=t.points,n=[];return t.segments.forEach(({start:e,end:t})=>{t=Kr(e,t,a);const r=a[e],o=a[t];null!==i?(n.push({x:r.x,y:i}),n.push({x:o.x,y:i})):null!==s&&(n.push({x:s,y:r.y}),n.push({x:s,y:o.y}))}),n}(e,t),s.length?new qr({points:s,options:{tension:0},_loop:i,_fullLoop:i}):null}function eo(e){return e&&!1!==e.fill}function to(e,t,s){let i=e[t].fill;const a=[t];let n;if(!s)return i;for(;!1!==i&&-1===a.indexOf(i);){if(!os(i))return i;if(n=e[i],!n)return!1;if(n.visible)return i;a.push(i),i=n.fill}return!1}function so(e,t,s){const i=function(e){const t=e.options,s=t.fill;let i=cs(s&&s.target,s);void 0===i&&(i=!!t.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(e);if(rs(i))return!isNaN(i.value)&&i;let a=parseFloat(i);return os(a)&&Math.floor(a)===a?function(e,t,s,i){"-"!==e&&"+"!==e||(s=t+s);if(s===t||s<0||s>=i)return!1;return s}(i[0],t,a,s):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function io(e,t,s){const i=[];for(let a=0;a<s.length;a++){const n=s[a],{first:r,last:o,point:l}=ao(n,t,"x");if(!(!l||r&&o))if(r)i.unshift(l);else if(e.push(l),!o)break}e.push(...i)}function ao(e,t,s){const i=e.interpolate(t,s);if(!i)return{};const a=i[s],n=e.segments,r=e.points;let o=!1,l=!1;for(let c=0;c<n.length;c++){const e=n[c],t=r[e.start][s],i=r[e.end][s];if(qs(a,t,i)){o=a===t,l=a===i;break}}return{first:o,last:l,point:i}}i(Xr,"id","point"),i(Xr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),i(Xr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class no{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:i,y:a,radius:n}=this;return t=t||{start:0,end:Ms},e.arc(i,a,n,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:i}=this,a=e.angle;return{x:t+Math.cos(a)*i,y:s+Math.sin(a)*i,angle:a}}}function ro(e){const{chart:t,fill:s,line:i}=e;if(os(s))return function(e,t){const s=e.getDatasetMeta(t),i=s&&e.isDatasetVisible(t);return i?s.dataset:null}(t,s);if("stack"===s)return function(e){const{scale:t,index:s,line:i}=e,a=[],n=i.segments,r=i.points,o=function(e,t){const s=[],i=e.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const e=i[a];if(e.index===t)break;e.hidden||s.unshift(e.dataset)}return s}(t,s);o.push(Zr({x:null,y:t.bottom},i));for(let l=0;l<n.length;l++){const e=n[l];for(let t=e.start;t<=e.end;t++)io(a,r[t],o)}return new qr({points:a,options:{}})}(e);if("shape"===s)return!0;const a=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:s}=e,i=t.options,a=t.getLabels().length,n=i.reverse?t.max:t.min,r=function(e,t,s){let i;return i="start"===e?s:"end"===e?t.options.reverse?t.min:t.max:rs(e)?e.value:t.getBaseValue(),i}(s,t,n),o=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,n);return new no({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<a;++l)o.push(t.getPointPositionForValue(l,r));return o}(e);return function(e){const{scale:t={},fill:s}=e,i=function(e,t){let s=null;return"start"===e?s=t.bottom:"end"===e?s=t.top:rs(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}(s,t);if(os(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return a instanceof no?a:Zr(a,i)}function oo(e,t,s){const i=ro(t),{chart:a,index:n,line:r,scale:o,axis:l}=t,c=r.options,d=c.fill,h=c.backgroundColor,{above:u=h,below:p=h}=d||{},m=a.getDatasetMeta(n),g=Ra(a,m);i&&r.points.length&&(Mi(e,s),function(e,t){const{line:s,target:i,above:a,below:n,area:r,scale:o,clip:l}=t,c=s._loop?"angle":t.axis;e.save();let d=n;n!==a&&("x"===c?(lo(e,i,r.top),ho(e,{line:s,target:i,color:a,scale:o,property:c,clip:l}),e.restore(),e.save(),lo(e,i,r.bottom)):"y"===c&&(co(e,i,r.left),ho(e,{line:s,target:i,color:n,scale:o,property:c,clip:l}),e.restore(),e.save(),co(e,i,r.right),d=a));ho(e,{line:s,target:i,color:d,scale:o,property:c,clip:l}),e.restore()}(e,{line:r,target:i,above:u,below:p,area:s,scale:o,axis:l,clip:g}),Ii(e))}function lo(e,t,s){const{segments:i,points:a}=t;let n=!0,r=!1;e.beginPath();for(const o of i){const{start:i,end:l}=o,c=a[i],d=a[Kr(i,l,a)];n?(e.moveTo(c.x,c.y),n=!1):(e.lineTo(c.x,s),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,o,{move:r}),r?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function co(e,t,s){const{segments:i,points:a}=t;let n=!0,r=!1;e.beginPath();for(const o of i){const{start:i,end:l}=o,c=a[i],d=a[Kr(i,l,a)];n?(e.moveTo(c.x,c.y),n=!1):(e.lineTo(s,c.y),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,o,{move:r}),r?e.closePath():e.lineTo(s,d.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function ho(e,t){const{line:s,target:i,property:a,color:n,scale:r,clip:o}=t,l=function(e,t,s){const i=e.segments,a=e.points,n=t.points,r=[];for(const o of i){let{start:e,end:i}=o;i=Kr(e,i,a);const l=Jr(s,a[e],a[i],o.loop);if(!t.segments){r.push({source:o,target:l,start:a[e],end:a[i]});continue}const c=Da(t,l);for(const t of c){const e=Jr(s,n[t.start],n[t.end],t.loop),i=_a(o,a,e);for(const a of i)r.push({source:a,target:t,start:{[s]:Qr(l,e,"start",Math.max)},end:{[s]:Qr(l,e,"end",Math.min)}})}}return r}(s,i,a);for(const{source:c,target:d,start:h,end:u}of l){const{style:{backgroundColor:t=n}={}}=c,l=!0!==i;e.save(),e.fillStyle=t,uo(e,r,o,l&&Jr(a,h,u)),e.beginPath();const p=!!s.pathSegment(e,c);let m;if(l){p?e.closePath():po(e,i,u,a);const t=!!i.pathSegment(e,d,{move:p,reverse:!0});m=p&&t,m||po(e,i,h,a)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function uo(e,t,s,i){const a=t.chart.chartArea,{property:n,start:r,end:o}=i||{};if("x"===n||"y"===n){let t,i,l,c;"x"===n?(t=r,i=a.top,l=o,c=a.bottom):(t=a.left,i=r,l=a.right,c=o),e.beginPath(),s&&(t=Math.max(t,s.left),l=Math.min(l,s.right),i=Math.max(i,s.top),c=Math.min(c,s.bottom)),e.rect(t,i,l-t,c-i),e.clip()}}function po(e,t,s,i){const a=t.interpolate(s,i);a&&e.lineTo(a.x,a.y)}var mo={id:"filler",afterDatasetsUpdate(e,t,s){const i=(e.data.datasets||[]).length,a=[];let n,r,o,l;for(r=0;r<i;++r)n=e.getDatasetMeta(r),o=n.dataset,l=null,o&&o.options&&o instanceof qr&&(l={visible:e.isDatasetVisible(r),index:r,fill:so(o,r,i),chart:e,axis:n.controller.options.indexAxis,scale:n.vScale,line:o}),n.$filler=l,a.push(l);for(r=0;r<i;++r)l=a[r],l&&!1!==l.fill&&(l.fill=to(a,r,s.propagate))},beforeDraw(e,t,s){const i="beforeDraw"===s.drawTime,a=e.getSortedVisibleDatasetMetas(),n=e.chartArea;for(let r=a.length-1;r>=0;--r){const t=a[r].$filler;t&&(t.line.updateControlPoints(n,t.axis),i&&t.fill&&oo(e.ctx,t,n))}},beforeDatasetsDraw(e,t,s){if("beforeDatasetsDraw"!==s.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const t=i[a].$filler;eo(t)&&oo(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,s){const i=t.meta.$filler;eo(i)&&"beforeDatasetDraw"===s.drawTime&&oo(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const go=(e,t)=>{let{boxHeight:s=t,boxWidth:i=t}=e;return e.usePointStyle&&(s=Math.min(s,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:s,itemHeight:Math.max(t,s)}};class xo extends Vn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=hs(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,s)=>e.sort(t,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const s=e.labels,i=Wi(s.font),a=i.size,n=this._computeTitleHeight(),{boxWidth:r,itemHeight:o}=go(s,a);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(n,a,r,o)+10):(c=this.maxHeight,l=this._fitCols(n,i,r,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,i){const{ctx:a,maxWidth:n,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+r;let d=e;a.textAlign="left",a.textBaseline="middle";let h=-1,u=-c;return this.legendItems.forEach((e,p)=>{const m=s+t/2+a.measureText(e.text).width;(0===p||l[l.length-1]+m+2*r>n)&&(d+=c,l[l.length-(p>0?0:1)]=0,u+=c,h++),o[p]={left:0,top:u,row:h,width:m,height:i},l[l.length-1]+=m+r}),d}_fitCols(e,t,s,i){const{ctx:a,maxHeight:n,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=n-e;let d=r,h=0,u=0,p=0,m=0;return this.legendItems.forEach((e,n)=>{const{itemWidth:g,itemHeight:x}=function(e,t,s,i,a){const n=function(e,t,s,i){let a=e.text;a&&"string"!=typeof a&&(a=a.reduce((e,t)=>e.length>t.length?e:t));return t+s.size/2+i.measureText(a).width}(i,e,t,s),r=function(e,t,s){let i=e;"string"!=typeof t.text&&(i=fo(t,s));return i}(a,i,t.lineHeight);return{itemWidth:n,itemHeight:r}}(s,t,a,e,i);n>0&&u+x+2*r>c&&(d+=h+r,l.push({width:h,height:u}),p+=h+r,m++,h=u=0),o[n]={left:p,top:u,col:m,width:g,height:x},h=Math.max(h,g),u+=x+r}),d+=h,l.push({width:h,height:u}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:i},rtl:a}}=this,n=Ca(a,this.left,this.width);if(this.isHorizontal()){let a=0,r=si(s,this.left+i,this.right-this.lineWidths[a]);for(const o of t)a!==o.row&&(a=o.row,r=si(s,this.left+i,this.right-this.lineWidths[a])),o.top+=this.top+e+i,o.left=n.leftForLtr(n.x(r),o.width),r+=o.width+i}else{let a=0,r=si(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const o of t)o.col!==a&&(a=o.col,r=si(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),o.top=r,o.left+=this.left+i,o.left=n.leftForLtr(n.x(o.left),o.width),r+=o.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Mi(e,this),this._draw(),Ii(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:i}=this,{align:a,labels:n}=e,r=yi.color,o=Ca(e.rtl,this.left,this.width),l=Wi(n.font),{padding:c}=n,d=l.size,h=d/2;let u;this.drawTitle(),i.textAlign=o.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:m,itemHeight:g}=go(n,d),x=this.isHorizontal(),f=this._computeTitleHeight();u=x?{x:si(a,this.left+c,this.right-s[0]),y:this.top+c+f,line:0}:{x:this.left+c,y:si(a,this.top+f+c,this.bottom-t[0].height),line:0},Ma(this.ctx,e.textDirection);const b=g+c;this.legendItems.forEach((v,y)=>{i.strokeStyle=v.fontColor,i.fillStyle=v.fontColor;const w=i.measureText(v.text).width,j=o.textAlign(v.textAlign||(v.textAlign=n.textAlign)),N=p+h+w;let k=u.x,S=u.y;o.setWidth(this.width),x?y>0&&k+N+c>this.right&&(S=u.y+=b,u.line++,k=u.x=si(a,this.left+c,this.right-s[u.line])):y>0&&S+b>this.bottom&&(k=u.x=k+t[u.line].width+c,u.line++,S=u.y=si(a,this.top+f+c,this.bottom-t[u.line].height));if(function(e,t,s){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const a=cs(s.lineWidth,1);if(i.fillStyle=cs(s.fillStyle,r),i.lineCap=cs(s.lineCap,"butt"),i.lineDashOffset=cs(s.lineDashOffset,0),i.lineJoin=cs(s.lineJoin,"miter"),i.lineWidth=a,i.strokeStyle=cs(s.strokeStyle,r),i.setLineDash(cs(s.lineDash,[])),n.usePointStyle){const r={radius:m*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:a},l=o.xPlus(e,p/2);Si(i,r,l,t+h,n.pointStyleWidth&&p)}else{const n=t+Math.max((d-m)/2,0),r=o.leftForLtr(e,p),l=Fi(s.borderRadius);i.beginPath(),Object.values(l).some(e=>0!==e)?Ai(i,{x:r,y:n,w:p,h:m,radius:l}):i.rect(r,n,p,m),i.fill(),0!==a&&i.stroke()}i.restore()}(o.x(k),S,v),k=((e,t,s,i)=>e===(i?"left":"right")?s:"center"===e?(t+s)/2:t)(j,k+p+h,x?k+N:this.right,e.rtl),function(e,t,s){Pi(i,s.text,e,t+g/2,l,{strikethrough:s.hidden,textAlign:o.textAlign(s.textAlign)})}(o.x(k),S,v),x)u.x+=N+c;else if("string"!=typeof v.text){const e=l.lineHeight;u.y+=fo(v,e)+c}else u.y+=b}),Ia(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=Wi(t.font),i=Hi(t.padding);if(!t.display)return;const a=Ca(e.rtl,this.left,this.width),n=this.ctx,r=t.position,o=s.size/2,l=i.top+o;let c,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,d=si(e.align,d,this.right-h);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+si(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const u=si(r,d,d+h);n.textAlign=a.textAlign(ti(r)),n.textBaseline="middle",n.strokeStyle=t.color,n.fillStyle=t.color,n.font=s.string,Pi(n,t.text,u,c,s)}_computeTitleHeight(){const e=this.options.title,t=Wi(e.font),s=Hi(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,i,a;if(qs(e,this.left,this.right)&&qs(t,this.top,this.bottom))for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(i=a[s],qs(e,i.left,i.left+i.width)&&qs(t,i.top,i.top+i.height))return this.legendItems[s];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,r=(a=s,null!==(i=n)&&null!==a&&i.datasetIndex===a.datasetIndex&&i.index===a.index);n&&!r&&hs(t.onLeave,[e,n,this],this),this._hoveredItem=s,s&&!r&&hs(t.onHover,[e,s,this],this)}else s&&hs(t.onClick,[e,s,this],this);var i,a}}function fo(e,t){return t*(e.text?e.text.length:0)}var bo={id:"legend",_element:xo,start(e,t,s){const i=e.legend=new xo({ctx:e.ctx,options:s,chart:e});Mn.configure(e,i,s),Mn.addBox(e,i)},stop(e){Mn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const i=e.legend;Mn.configure(e,i,s),i.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const i=t.datasetIndex,a=s.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:i,textAlign:a,color:n,useBorderRadius:r,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(s?0:void 0),c=Hi(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:n,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:a||l.textAlign,borderRadius:r&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class vo extends Vn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=ns(s.text)?s.text.length:1;this._padding=Hi(s.padding);const a=i*Wi(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:s,bottom:i,right:a,options:n}=this,r=n.align;let o,l,c,d=0;return this.isHorizontal()?(l=si(r,s,a),c=t+e,o=a-s):("left"===n.position?(l=s+e,c=si(r,i,t),d=-.5*Cs):(l=a-e,c=si(r,t,i),d=.5*Cs),o=i-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=Wi(t.font),i=s.lineHeight/2+this._padding.top,{titleX:a,titleY:n,maxWidth:r,rotation:o}=this._drawArgs(i);Pi(e,t.text,0,0,s,{color:t.color,maxWidth:r,rotation:o,textAlign:ti(t.align),textBaseline:"middle",translation:[a,n]})}}var yo={id:"title",_element:vo,start(e,t,s){!function(e,t){const s=new vo({ctx:e.ctx,options:t,chart:e});Mn.configure(e,s,t),Mn.addBox(e,s),e.titleBlock=s}(e,s)},stop(e){const t=e.titleBlock;Mn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const i=e.titleBlock;Mn.configure(e,i,s),i.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wo={average(e){if(!e.length)return!1;let t,s,i=new Set,a=0,n=0;for(t=0,s=e.length;t<s;++t){const s=e[t].element;if(s&&s.hasValue()){const e=s.tooltipPosition();i.add(e.x),a+=e.y,++n}}if(0===n||0===i.size)return!1;return{x:[...i].reduce((e,t)=>e+t)/i.size,y:a/n}},nearest(e,t){if(!e.length)return!1;let s,i,a,n=t.x,r=t.y,o=Number.POSITIVE_INFINITY;for(s=0,i=e.length;s<i;++s){const i=e[s].element;if(i&&i.hasValue()){const e=Ws(t,i.getCenterPoint());e<o&&(o=e,a=i)}}if(a){const e=a.tooltipPosition();n=e.x,r=e.y}return{x:n,y:r}}};function jo(e,t){return t&&(ns(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function No(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function ko(e,t){const{element:s,datasetIndex:i,index:a}=t,n=e.getDatasetMeta(i).controller,{label:r,value:o}=n.getLabelAndValue(a);return{chart:e,label:r,parsed:n.getParsed(a),raw:e.data.datasets[i].data[a],formattedValue:o,dataset:n.getDataset(),dataIndex:a,datasetIndex:i,element:s}}function So(e,t){const s=e.chart.ctx,{body:i,footer:a,title:n}=e,{boxWidth:r,boxHeight:o}=t,l=Wi(t.bodyFont),c=Wi(t.titleFont),d=Wi(t.footerFont),h=n.length,u=a.length,p=i.length,m=Hi(t.padding);let g=m.height,x=0,f=i.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(f+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),f){g+=p*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(f-p)*l.lineHeight+(f-1)*t.bodySpacing}u&&(g+=t.footerMarginTop+u*d.lineHeight+(u-1)*t.footerSpacing);let b=0;const v=function(e){x=Math.max(x,s.measureText(e).width+b)};return s.save(),s.font=c.string,us(e.title,v),s.font=l.string,us(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?r+2+t.boxPadding:0,us(i,e=>{us(e.before,v),us(e.lines,v),us(e.after,v)}),b=0,s.font=d.string,us(e.footer,v),s.restore(),x+=m.width,{width:x,height:g}}function Co(e,t,s,i){const{x:a,width:n}=s,{width:r,chartArea:{left:o,right:l}}=e;let c="center";return"center"===i?c=a<=(o+l)/2?"left":"right":a<=n/2?c="left":a>=r-n/2&&(c="right"),function(e,t,s,i){const{x:a,width:n}=i,r=s.caretSize+s.caretPadding;return"left"===e&&a+n+r>t.width||"right"===e&&a-n-r<0||void 0}(c,e,t,s)&&(c="center"),c}function Mo(e,t,s){const i=s.yAlign||t.yAlign||function(e,t){const{y:s,height:i}=t;return s<i/2?"top":s>e.height-i/2?"bottom":"center"}(e,s);return{xAlign:s.xAlign||t.xAlign||Co(e,t,s,i),yAlign:i}}function Io(e,t,s,i){const{caretSize:a,caretPadding:n,cornerRadius:r}=e,{xAlign:o,yAlign:l}=s,c=a+n,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:p}=Fi(r);let m=function(e,t){let{x:s,width:i}=e;return"right"===t?s-=i:"center"===t&&(s-=i/2),s}(t,o);const g=function(e,t,s){let{y:i,height:a}=e;return"top"===t?i+=s:i-="bottom"===t?a+s:a/2,i}(t,l,c);return"center"===l?"left"===o?m+=c:"right"===o&&(m-=c):"left"===o?m-=Math.max(d,u)+a:"right"===o&&(m+=Math.max(h,p)+a),{x:Us(m,0,i.width-t.width),y:Us(g,0,i.height-t.height)}}function To(e,t,s){const i=Hi(s.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function Eo(e){return jo([],No(e))}function _o(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Do={beforeTitle:ss,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,i=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return s[t.dataIndex]}return""},afterTitle:ss,beforeBody:ss,beforeLabel:ss,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return as(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ss,afterBody:ss,beforeFooter:ss,footer:ss,afterFooter:ss};function Po(e,t,s,i){const a=e[t].call(s,i);return void 0===a?Do[t].call(s,i):a}class Ao extends Vn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&t.options.animation&&s.animations,a=new $a(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,s=this._tooltipItems,Gi(e,{tooltip:t,tooltipItems:s,type:"tooltip"})));var e,t,s}getTitle(e,t){const{callbacks:s}=t,i=Po(s,"beforeTitle",this,e),a=Po(s,"title",this,e),n=Po(s,"afterTitle",this,e);let r=[];return r=jo(r,No(i)),r=jo(r,No(a)),r=jo(r,No(n)),r}getBeforeBody(e,t){return Eo(Po(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,i=[];return us(e,e=>{const t={before:[],lines:[],after:[]},a=_o(s,e);jo(t.before,No(Po(a,"beforeLabel",this,e))),jo(t.lines,Po(a,"label",this,e)),jo(t.after,No(Po(a,"afterLabel",this,e))),i.push(t)}),i}getAfterBody(e,t){return Eo(Po(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,i=Po(s,"beforeFooter",this,e),a=Po(s,"footer",this,e),n=Po(s,"afterFooter",this,e);let r=[];return r=jo(r,No(i)),r=jo(r,No(a)),r=jo(r,No(n)),r}_createItems(e){const t=this._active,s=this.chart.data,i=[],a=[],n=[];let r,o,l=[];for(r=0,o=t.length;r<o;++r)l.push(ko(this.chart,t[r]));return e.filter&&(l=l.filter((t,i,a)=>e.filter(t,i,a,s))),e.itemSort&&(l=l.sort((t,i)=>e.itemSort(t,i,s))),us(l,t=>{const s=_o(e.callbacks,t);i.push(Po(s,"labelColor",this,t)),a.push(Po(s,"labelPointStyle",this,t)),n.push(Po(s,"labelTextColor",this,t))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=n,this.dataPoints=l,l}update(e,t){const s=this.options.setContext(this.getContext()),i=this._active;let a,n=[];if(i.length){const e=wo[s.position].call(this,i,this._eventPosition);n=this._createItems(s),this.title=this.getTitle(n,s),this.beforeBody=this.getBeforeBody(n,s),this.body=this.getBody(n,s),this.afterBody=this.getAfterBody(n,s),this.footer=this.getFooter(n,s);const t=this._size=So(this,s),r=Object.assign({},e,t),o=Mo(this.chart,s,r),l=Io(s,r,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,a={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=n,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,i){const a=this.getCaretPosition(e,s,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,s){const{xAlign:i,yAlign:a}=this,{caretSize:n,cornerRadius:r}=s,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=Fi(r),{x:h,y:u}=e,{width:p,height:m}=t;let g,x,f,b,v,y;return"center"===a?(v=u+m/2,"left"===i?(g=h,x=g-n,b=v+n,y=v-n):(g=h+p,x=g+n,b=v-n,y=v+n),f=g):(x="left"===i?h+Math.max(o,c)+n:"right"===i?h+p-Math.max(l,d)-n:this.caretX,"top"===a?(b=u,v=b-n,g=x-n,f=x+n):(b=u+m,v=b+n,g=x+n,f=x-n),y=b),{x1:g,x2:x,x3:f,y1:b,y2:v,y3:y}}drawTitle(e,t,s){const i=this.title,a=i.length;let n,r,o;if(a){const l=Ca(s.rtl,this.x,this.width);for(e.x=To(this,s.titleAlign,s),t.textAlign=l.textAlign(s.titleAlign),t.textBaseline="middle",n=Wi(s.titleFont),r=s.titleSpacing,t.fillStyle=s.titleColor,t.font=n.string,o=0;o<a;++o)t.fillText(i[o],l.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+r,o+1===a&&(e.y+=s.titleMarginBottom-r)}}_drawColorBox(e,t,s,i,a){const n=this.labelColors[s],r=this.labelPointStyles[s],{boxHeight:o,boxWidth:l}=a,c=Wi(a.bodyFont),d=To(this,"left",a),h=i.x(d),u=o<c.lineHeight?(c.lineHeight-o)/2:0,p=t.y+u;if(a.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},s=i.leftForLtr(h,l)+l/2,c=p+o/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ki(e,t,s,c),e.strokeStyle=n.borderColor,e.fillStyle=n.backgroundColor,ki(e,t,s,c)}else{e.lineWidth=rs(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,e.strokeStyle=n.borderColor,e.setLineDash(n.borderDash||[]),e.lineDashOffset=n.borderDashOffset||0;const t=i.leftForLtr(h,l),s=i.leftForLtr(i.xPlus(h,1),l-2),r=Fi(n.borderRadius);Object.values(r).some(e=>0!==e)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Ai(e,{x:t,y:p,w:l,h:o,radius:r}),e.fill(),e.stroke(),e.fillStyle=n.backgroundColor,e.beginPath(),Ai(e,{x:s,y:p+1,w:l-2,h:o-2,radius:r}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,p,l,o),e.strokeRect(t,p,l,o),e.fillStyle=n.backgroundColor,e.fillRect(s,p+1,l-2,o-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:i}=this,{bodySpacing:a,bodyAlign:n,displayColors:r,boxHeight:o,boxWidth:l,boxPadding:c}=s,d=Wi(s.bodyFont);let h=d.lineHeight,u=0;const p=Ca(s.rtl,this.x,this.width),m=function(s){t.fillText(s,p.x(e.x+u),e.y+h/2),e.y+=h+a},g=p.textAlign(n);let x,f,b,v,y,w,j;for(t.textAlign=n,t.textBaseline="middle",t.font=d.string,e.x=To(this,g,s),t.fillStyle=s.bodyColor,us(this.beforeBody,m),u=r&&"right"!==g?"center"===n?l/2+c:l+2+c:0,v=0,w=i.length;v<w;++v){for(x=i[v],f=this.labelTextColors[v],t.fillStyle=f,us(x.before,m),b=x.lines,r&&b.length&&(this._drawColorBox(t,e,v,p,s),h=Math.max(d.lineHeight,o)),y=0,j=b.length;y<j;++y)m(b[y]),h=d.lineHeight;us(x.after,m)}u=0,h=d.lineHeight,us(this.afterBody,m),e.y-=a}drawFooter(e,t,s){const i=this.footer,a=i.length;let n,r;if(a){const o=Ca(s.rtl,this.x,this.width);for(e.x=To(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=o.textAlign(s.footerAlign),t.textBaseline="middle",n=Wi(s.footerFont),t.fillStyle=s.footerColor,t.font=n.string,r=0;r<a;++r)t.fillText(i[r],o.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+s.footerSpacing}}drawBackground(e,t,s,i){const{xAlign:a,yAlign:n}=this,{x:r,y:o}=e,{width:l,height:c}=s,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:p}=Fi(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(r+d,o),"top"===n&&this.drawCaret(e,t,s,i),t.lineTo(r+l-h,o),t.quadraticCurveTo(r+l,o,r+l,o+h),"center"===n&&"right"===a&&this.drawCaret(e,t,s,i),t.lineTo(r+l,o+c-p),t.quadraticCurveTo(r+l,o+c,r+l-p,o+c),"bottom"===n&&this.drawCaret(e,t,s,i),t.lineTo(r+u,o+c),t.quadraticCurveTo(r,o+c,r,o+c-u),"center"===n&&"left"===a&&this.drawCaret(e,t,s,i),t.lineTo(r,o+d),t.quadraticCurveTo(r,o,r+d,o),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,i=s&&s.x,a=s&&s.y;if(i||a){const s=wo[e.position].call(this,this._active,this._eventPosition);if(!s)return;const n=this._size=So(this,e),r=Object.assign({},s,this._size),o=Mo(t,e,r),l=Io(e,r,o,t);i._to===l.x&&a._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=n.width,this.height=n.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const n=Hi(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=s,this.drawBackground(a,e,i,t),Ma(e,t.textDirection),a.y+=n.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Ia(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,i=e.map(({datasetIndex:e,index:t})=>{const s=this.chart.getDatasetMeta(e);if(!s)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:s.data[t],index:t}}),a=!ps(s,i),n=this._positionChanged(i,t);(a||n)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],n=this._getActiveElements(e,a,t,s),r=this._positionChanged(n,e),o=t||!ps(n,a)||r;return o&&(this._active=n,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,s,i){const a=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const n=this.chart.getElementsAtEventForMode(e,a.mode,a,s);return a.reverse&&n.reverse(),n}_positionChanged(e,t){const{caretX:s,caretY:i,options:a}=this,n=wo[a.position].call(this,e,t);return!1!==n&&(s!==n.x||i!==n.y)}}i(Ao,"positioners",wo);var Oo={id:"tooltip",_element:Ao,positioners:wo,afterInit(e,t,s){s&&(e.tooltip=new Ao({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Do},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Lo(e,t,s,i){const a=e.indexOf(t);if(-1===a)return((e,t,s,i)=>("string"==typeof t?(s=e.push(t)-1,i.unshift({index:s,label:t})):isNaN(t)&&(s=null),s))(e,t,s,i);return a!==e.lastIndexOf(t)?s:a}function Ro(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class zo extends tr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:s,label:i}of t)e[s]===i&&e.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(as(e))return null;const s=this.getLabels();return((e,t)=>null===e?null:Us(Math.round(e),0,t))(t=isFinite(t)&&s[t]===e?t:Lo(s,e,cs(t,e),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(s=0),t||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,i=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let n=e;n<=t;n++)i.push({value:n});return i}getLabelForValue(e){return Ro.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Bo(e,t){const s=[],{bounds:i,step:a,min:n,max:r,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:h}=e,u=a||1,p=c-1,{min:m,max:g}=t,x=!as(n),f=!as(r),b=!as(l),v=(g-m)/(d+1);let y,w,j,N,k=Rs((g-m)/p/u)*u;if(k<1e-14&&!x&&!f)return[{value:m},{value:g}];N=Math.ceil(g/k)-Math.floor(m/k),N>p&&(k=Rs(N*k/p/u)*u),as(o)||(y=Math.pow(10,o),k=Math.ceil(k*y)/y),"ticks"===i?(w=Math.floor(m/k)*k,j=Math.ceil(g/k)*k):(w=m,j=g),x&&f&&a&&function(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}((r-n)/a,k/1e3)?(N=Math.round(Math.min((r-n)/k,c)),k=(r-n)/N,w=n,j=r):b?(w=x?n:w,j=f?r:j,N=l-1,k=(j-w)/N):(N=(j-w)/k,N=Ls(N,Math.round(N),k/1e3)?Math.round(N):Math.ceil(N));const S=Math.max(Fs(k),Fs(w));y=Math.pow(10,as(o)?S:o),w=Math.round(w*y)/y,j=Math.round(j*y)/y;let C=0;for(x&&(h&&w!==n?(s.push({value:n}),w<n&&C++,Ls(Math.round((w+C*k)*y)/y,n,Fo(n,v,e))&&C++):w<n&&C++);C<N;++C){const e=Math.round((w+C*k)*y)/y;if(f&&e>r)break;s.push({value:e})}return f&&h&&j!==r?s.length&&Ls(s[s.length-1].value,r,Fo(r,v,e))?s[s.length-1].value=r:s.push({value:r}):f&&j!==r||s.push({value:j}),s}function Fo(e,t,{horizontal:s,minRotation:i}){const a=Bs(i),n=(s?Math.sin(a):Math.cos(a))||.001,r=.75*t*(""+e).length;return Math.min(t/n,r)}i(zo,"id","category"),i(zo,"defaults",{ticks:{callback:Ro}});class Ho extends tr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return as(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:i,max:a}=this;const n=e=>i=t?i:e,r=e=>a=s?a:e;if(e){const e=Os(i),t=Os(a);e<0&&t<0?r(0):e>0&&t>0&&n(0)}if(i===a){let t=0===a?1:Math.abs(.05*a);r(a+t),e||n(i-t)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:s,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i=Bo({maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,s){let i,a,n;for(i=0,a=e.length;i<a;i++)n=e[i][s],isNaN(n)||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-t)/Math.max(e.length-1,1)/2;t-=i,s+=i}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return pi(e,this.chart.options.locale,this.options.ticks.format)}}class Wo extends Ho{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=os(e)?e:0,this.max=os(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=Bs(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}i(Wo,"id","linear"),i(Wo,"defaults",{ticks:{callback:mi.formatters.numeric}});const $o={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Go=Object.keys($o);function Vo(e,t){return e-t}function Uo(e,t){if(as(t))return null;const s=e._adapter,{parser:i,round:a,isoWeekday:n}=e._parseOpts;let r=t;return"function"==typeof i&&(r=i(r)),os(r)||(r="string"==typeof i?s.parse(r,i):s.parse(r)),null===r?null:(a&&(r="week"!==a||!zs(n)&&!0!==n?s.startOf(r,a):s.startOf(r,"isoWeek",n)),+r)}function qo(e,t,s,i){const a=Go.length;for(let n=Go.indexOf(e);n<a-1;++n){const e=$o[Go[n]],a=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((s-t)/(a*e.size))<=i)return Go[n]}return Go[a-1]}function Yo(e,t,s){if(s){if(s.length){const{lo:i,hi:a}=Ys(s,t);e[s[i]>=t?s[i]:s[a]]=!0}}else e[t]=!0}function Xo(e,t,s){const i=[],a={},n=t.length;let r,o;for(r=0;r<n;++r)o=t[r],a[o]=r,i.push({value:o,major:!1});return 0!==n&&s?function(e,t,s,i){const a=e._adapter,n=+a.startOf(t[0].value,i),r=t[t.length-1].value;let o,l;for(o=n;o<=r;o=+a.add(o,1,i))l=s[o],l>=0&&(t[l].major=!0);return t}(e,i,a,s):i}class Jo extends tr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),i=this._adapter=new on(e.adapters.date);i.init(t),bs(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Uo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:i,max:a,minDefined:n,maxDefined:r}=this.getUserBounds();function o(e){n||isNaN(e.min)||(i=Math.min(i,e.min)),r||isNaN(e.max)||(a=Math.max(a,e.max))}n&&r||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),i=os(i)&&!isNaN(i)?i:+t.startOf(Date.now(),s),a=os(a)&&!isNaN(a)?a:+t.endOf(Date.now(),s)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,i="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,n=function(e,t,s){let i=0,a=e.length;for(;i<a&&e[i]<t;)i++;for(;a>i&&e[a-1]>s;)a--;return i>0||a<e.length?e.slice(i,a):e}(i,a,this.max);return this._unit=t.unit||(s.autoSkip?qo(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,s,i,a){for(let n=Go.length-1;n>=Go.indexOf(s);n--){const s=Go[n];if($o[s].common&&e._adapter.diff(a,i,s)>=t-1)return s}return Go[s?Go.indexOf(s):0]}(this,n.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(e){for(let t=Go.indexOf(e)+1,s=Go.length;t<s;++t)if($o[Go[t]].common)return Go[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&n.reverse(),Xo(this,n,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,s,i=0,a=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,s=this.getDecimalForValue(e[e.length-1]),a=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const n=e.length<3?.5:.25;i=Us(i,0,n),a=Us(a,0,n),this._offsets={start:i,end:a,factor:1/(i+1+a)}}_generate(){const e=this._adapter,t=this.min,s=this.max,i=this.options,a=i.time,n=a.unit||qo(a.minUnit,t,s,this._getLabelCapacity(t)),r=cs(i.ticks.stepSize,1),o="week"===n&&a.isoWeekday,l=zs(o)||!0===o,c={};let d,h,u=t;if(l&&(u=+e.startOf(u,"isoWeek",o)),u=+e.startOf(u,l?"day":n),e.diff(s,t,n)>1e5*r)throw new Error(t+" and "+s+" are too far apart with stepSize of "+r+" "+n);const p="data"===i.ticks.source&&this.getDataTimestamps();for(d=u,h=0;d<s;d=+e.add(d,r,n),h++)Yo(c,d,p);return d!==s&&"ticks"!==i.bounds&&1!==h||Yo(c,d,p),Object.keys(c).sort(Vo).map(e=>+e)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,i=this._unit,a=t||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,t,s,i){const a=this.options,n=a.ticks.callback;if(n)return hs(n,[e,t,s],this);const r=a.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&r[o],d=l&&r[l],h=s[t],u=l&&d&&h&&h.major;return this._adapter.format(e,i||(u?d:c))}generateTickLabels(e){let t,s,i;for(t=0,s=e.length;t<s;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,i=Bs(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),n=Math.sin(i),r=this._resolveTickFontOptions(0).size;return{w:s*a+r*n,h:s*n+r*a}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,i=s[t.unit]||s.millisecond,a=this._tickFormatFunction(e,0,Xo(this,[e],this._majorUnit),i),n=this._getLabelSize(a),r=Math.floor(this.isHorizontal()?this.width/n.w:this.height/n.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,s=this._cache.data||[];if(s.length)return s;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)s=s.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const i=this.getLabels();for(t=0,s=i.length;t<s;++t)e.push(Uo(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return function(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}(e.sort(Vo))}}function Ko(e,t,s){let i,a,n,r,o=0,l=e.length-1;s?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=Xs(e,"pos",t)),({pos:i,time:n}=e[o]),({pos:a,time:r}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=Xs(e,"time",t)),({time:i,pos:n}=e[o]),({time:a,pos:r}=e[l]));const c=a-i;return c?n+(r-n)*(t-i)/c:n}i(Jo,"id","time"),i(Jo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Qo extends Jo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ko(t,this.min),this._tableRange=Ko(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,i=[],a=[];let n,r,o,l,c;for(n=0,r=e.length;n<r;++n)l=e[n],l>=t&&l<=s&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(n=0,r=i.length;n<r;++n)c=i[n+1],o=i[n-1],l=i[n],Math.round((c+o)/2)!==l&&a.push({time:l,pos:n/(r-1)});return a}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return s.includes(e)&&s.length||s.splice(0,0,e),s.includes(t)&&1!==s.length||s.push(t),s.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return e=t.length&&s.length?this.normalize(t.concat(s)):t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Ko(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return Ko(this._table,s*this._tableRange+this._minPos,!0)}}i(Qo,"id","timeseries"),i(Qo,"defaults",Jo.defaults);const Zo="label";function el(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function tl(e,t){e.labels=t}function sl(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zo;const i=[];e.datasets=t.map(t=>{const a=e.datasets.find(e=>e[s]===t[s]);return a&&t.data&&!i.includes(a)?(i.push(a),Object.assign(a,t),a):{...t}})}function il(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zo;const s={labels:[],datasets:[]};return tl(s,e.labels),sl(s,e.datasets,t),s}function al(e,t){const{height:s=150,width:i=300,redraw:a=!1,datasetIdKey:n,type:r,data:o,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...u}=e,g=p.useRef(null),x=p.useRef(null),f=()=>{g.current&&(x.current=new Dr(g.current,{type:r,data:il(o,n),options:l&&{...l},plugins:c}),el(t,x.current))},b=()=>{el(t,null),x.current&&(x.current.destroy(),x.current=null)};return p.useEffect(()=>{!a&&x.current&&l&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(x.current,l)},[a,l]),p.useEffect(()=>{!a&&x.current&&tl(x.current.config.data,o.labels)},[a,o.labels]),p.useEffect(()=>{!a&&x.current&&o.datasets&&sl(x.current.config.data,o.datasets,n)},[a,o.datasets]),p.useEffect(()=>{x.current&&(a?(b(),setTimeout(f)):x.current.update(h))},[a,l,o.labels,o.datasets,h]),p.useEffect(()=>{x.current&&(b(),setTimeout(f))},[r]),p.useEffect(()=>(f(),()=>b()),[]),m.createElement("canvas",{ref:g,role:"img",height:s,width:i,...u},d)}const nl=p.forwardRef(al);function rl(e,t){return Dr.register(t),p.forwardRef((t,s)=>m.createElement(nl,{...t,ref:s,type:e}))}const ol=rl("line",an),ll=rl("doughnut",sn);function cl({data:e,title:t,centerText:s,size:i=200}){const n=p.useRef(null),r={labels:e.labels,datasets:[{data:e.values,backgroundColor:e.colors,borderColor:e.colors.map(e=>e),borderWidth:2,hoverBorderWidth:4,hoverOffset:8,cutout:"70%"}]},o={id:"centerText",beforeDraw:e=>{if(s){const{ctx:t,width:i,height:a}=e;t.restore();const n=Math.min(i,a)/10;t.font=`bold ${n}px Inter, sans-serif`,t.textBaseline="middle",t.fillStyle="#ffffff";const r=Math.round(i/2),o=Math.round(a/2);t.fillText(s,r,o),t.save()}}};return p.useEffect(()=>(n.current&&Dr.register(o),()=>{Dr.unregister(o)}),[s]),a.jsxs("div",{className:"chart-container",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4 text-center",children:t}),a.jsx("div",{style:{height:i,position:"relative"},children:a.jsx(ll,{ref:n,data:r,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,pointStyle:"circle",font:{size:12,family:"Inter, sans-serif"},color:"#e2e8f0"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#3b5cff",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(e){const t=e.dataset.data.reduce((e,t)=>e+t,0),s=(e.parsed/t*100).toFixed(1);return`${e.label}: ${e.parsed} (${s}%)`}}}},animation:{animateRotate:!0,animateScale:!0,duration:2e3,easing:"easeOutQuart"},elements:{arc:{borderRadius:4}}},plugins:[o]})})]})}function dl({data:e,title:t,height:s=300}){const i={labels:e.labels,datasets:e.datasets.map(e=>({...e,fill:!0,tension:.4,borderWidth:3,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:e.borderColor,pointBorderColor:"#ffffff",pointBorderWidth:2,pointHoverBackgroundColor:e.borderColor,pointHoverBorderColor:"#ffffff",pointHoverBorderWidth:3}))};return a.jsxs("div",{className:"chart-container",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:t}),a.jsx("div",{style:{height:s},children:a.jsx(ol,{data:i,options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{position:"top",labels:{padding:20,usePointStyle:!0,pointStyle:"circle",font:{size:12,family:"Inter, sans-serif"},color:"#e2e8f0"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#3b5cff",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{title:function(e){return`${e[0].label}`},label:function(e){return`${e.dataset.label}: ${e.parsed.y}`}}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#94a3b8",font:{size:11,family:"Inter, sans-serif"}}},y:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#94a3b8",font:{size:11,family:"Inter, sans-serif"}},beginAtZero:!0}},animation:{duration:2e3,easing:"easeOutQuart",delay:e=>"data"===e.type&&"default"===e.mode?100*e.dataIndex:0},elements:{point:{hoverRadius:8}}}})})]})}function hl({progress:e,size:t=120,strokeWidth:s=8,color:i="#3b5cff",backgroundColor:r="rgba(255, 255, 255, 0.1)",label:o,showPercentage:l=!0,duration:c=2}){const[d,h]=p.useState(0),[u,m]=p.useState(!1),g=(t-s)/2,x=2*g*Math.PI,f=x-d/100*x;return p.useEffect(()=>{let t,s;m(!0);const i=a=>{t||(t=a);const n=a-t,r=Math.min(n/(1e3*c)*e,e),o=1-Math.pow(1-r/e,4);h(e*o),n<1e3*c&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s&&cancelAnimationFrame(s)}},[e,c]),a.jsx(n.div,{className:"flex flex-col items-center",initial:{opacity:0,scale:.8},animate:{opacity:u?1:0,scale:u?1:.8},transition:{duration:.6,ease:"easeOut"},children:a.jsxs("div",{className:"relative",style:{width:t,height:t},children:[a.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[a.jsx("circle",{cx:t/2,cy:t/2,r:g,stroke:r,strokeWidth:s,fill:"transparent"}),a.jsx(n.circle,{cx:t/2,cy:t/2,r:g,stroke:i,strokeWidth:s,fill:"transparent",strokeLinecap:"round",strokeDasharray:x,strokeDashoffset:f,className:"progress-ring-circle",style:{"--initial-offset":x,"--final-offset":f,filter:"drop-shadow(0 0 6px rgba(59, 92, 255, 0.4))"},initial:{strokeDashoffset:x},animate:{strokeDashoffset:f},transition:{duration:c,ease:"easeOut"}})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[l&&a.jsxs(n.span,{className:"text-2xl font-bold text-white",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.5*c,duration:.5},children:[Math.round(d),"%"]}),o&&a.jsx(n.span,{className:"text-xs text-slate-400 text-center mt-1",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7*c,duration:.5},children:o})]})]})})}Dr.register(zr,Oo,bo),Dr.register(zo,Wo,Xr,qr,yo,Oo,bo,mo);const ul=[{id:"1",title:"AI Hackathon Starts",date:new Date(2024,11,15),type:"hackathon",color:"#3b5cff"},{id:"2",title:"Submission Deadline",date:new Date(2024,11,17),type:"deadline",color:"#ff6b6b"},{id:"3",title:"Team Formation Workshop",date:new Date(2024,11,20),type:"workshop",color:"#4ecdc4"},{id:"4",title:"Judging Session",date:new Date(2024,11,22),type:"meeting",color:"#ffe66d"}];function pl({events:e=ul}){const[t,s]=p.useState(new Date),[i,o]=p.useState(null),l=e=>{s(t=>{const s=new Date(t);return"prev"===e?s.setMonth(t.getMonth()-1):s.setMonth(t.getMonth()+1),s})},c=t=>!!t&&e.some(e=>e.date.toDateString()===t.toDateString()),d=e=>{if(!e)return!1;const t=new Date;return e.toDateString()===t.toDateString()},h=e=>!(!e||!i)&&e.toDateString()===i.toDateString(),u=(e=>{const t=e.getFullYear(),s=e.getMonth(),i=new Date(t,s,1),a=new Date(t,s+1,0).getDate(),n=i.getDay(),r=[];for(let o=0;o<n;o++)r.push(null);for(let o=1;o<=a;o++)r.push(new Date(t,s,o));return r})(t),m=i?(g=i)?e.filter(e=>e.date.toDateString()===g.toDateString()):[]:[];var g;return a.jsxs("div",{className:"glassmorphism rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[a.jsx(Ne,{className:"w-5 h-5 text-brand-400"}),"Calendar"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n.button,{onClick:()=>l("prev"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(ke,{className:"w-4 h-4 text-slate-300"})}),a.jsxs("span",{className:"text-white font-medium min-w-[120px] text-center",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ",t.getFullYear()]}),a.jsx(n.button,{onClick:()=>l("next"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Se,{className:"w-4 h-4 text-slate-300"})})]})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>a.jsx("div",{className:"text-center text-xs font-medium text-slate-400 py-2",children:e},e))}),a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:a.jsx(r,{mode:"wait",children:u.map((e,s)=>a.jsx(n.div,{className:`calendar-day relative h-10 flex items-center justify-center text-sm rounded-lg ${e?"cursor-pointer":""} ${d(e)?"bg-brand-500 text-white font-bold":h(e)?"selected":c(e)?"has-event text-white":e?"text-slate-300":"text-slate-600"}`,onClick:()=>e&&o(e),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.01*s},whileHover:e?{scale:1.1}:{},whileTap:e?{scale:.95}:{},children:null==e?void 0:e.getDate()},`${t.getMonth()}-${s}`))})}),a.jsx(r,{children:i&&m.length>0&&a.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-white/10 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ce,{className:"w-4 h-4 text-brand-400"}),a.jsx("span",{className:"text-sm font-medium text-white",children:i.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),a.jsx("div",{className:"space-y-2",children:m.map((e,t)=>a.jsxs(n.div,{className:"flex items-center gap-3 p-2 bg-white/5 rounded-lg",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-white",children:e.title}),a.jsx("div",{className:"text-xs text-slate-400 capitalize",children:e.type})]})]},e.id))})]})}),a.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-500"}),a.jsx("span",{className:"text-slate-400",children:"Hackathons"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsx("span",{className:"text-slate-400",children:"Deadlines"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500"}),a.jsx("span",{className:"text-slate-400",children:"Workshops"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),a.jsx("span",{className:"text-slate-400",children:"Meetings"})]})]})})]})}const ml=[{id:"1",type:"achievement",title:"New Badge Earned!",message:'You\'ve earned the "Code Warrior" badge for completing 5 hackathons.',timestamp:new Date(Date.now()-3e5),read:!1,action:{label:"View Badge",onClick:()=>{}}},{id:"2",type:"team",title:"Team Invitation",message:'Alex Chen invited you to join "AI Innovators" team for the upcoming hackathon.',timestamp:new Date(Date.now()-9e5),read:!1,action:{label:"Accept",onClick:()=>{}}},{id:"3",type:"warning",title:"Submission Deadline",message:'Your project submission for "Climate Tech Challenge" is due in 2 hours.',timestamp:new Date(Date.now()-18e5),read:!1},{id:"4",type:"success",title:"Project Approved",message:'Your project "EcoTracker" has been approved for the final round.',timestamp:new Date(Date.now()-36e5),read:!0},{id:"5",type:"info",title:"Workshop Reminder",message:'Don\'t forget about the "Advanced React Patterns" workshop starting at 3 PM.',timestamp:new Date(Date.now()-72e5),read:!0}];function gl(){const[e,t]=p.useState(ml),[s,i]=p.useState(!1),o=e=>{switch(e){case"success":return a.jsx(Te,{className:"w-5 h-5 text-green-400"});case"warning":return a.jsx(Ie,{className:"w-5 h-5 text-yellow-400"});case"info":return a.jsx(Me,{className:"w-5 h-5 text-blue-400"});case"achievement":return a.jsx(le,{className:"w-5 h-5 text-purple-400"});case"team":return a.jsx(ce,{className:"w-5 h-5 text-cyan-400"});default:return a.jsx(ne,{className:"w-5 h-5 text-slate-400"})}},l=e=>{switch(e){case"success":return"border-green-500/30 bg-green-500/10";case"warning":return"border-yellow-500/30 bg-yellow-500/10";case"info":return"border-blue-500/30 bg-blue-500/10";case"achievement":return"border-purple-500/30 bg-purple-500/10";case"team":return"border-cyan-500/30 bg-cyan-500/10";default:return"border-slate-500/30 bg-slate-500/10"}},c=e=>{const t=(new Date).getTime()-e.getTime(),s=Math.floor(t/6e4),i=Math.floor(t/36e5),a=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s}m ago`:i<24?`${i}h ago`:`${a}d ago`},d=e.filter(e=>!e.read).length,h=s?e:e.slice(0,3);return a.jsxs("div",{className:"glassmorphism rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ne,{className:"w-5 h-5 text-brand-400"}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notifications"}),d>0&&a.jsx(n.span,{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:d})]}),e.length>3&&a.jsx(n.button,{onClick:()=>i(!s),className:"text-sm text-brand-400 hover:text-brand-300 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:s?"Show Less":"View All"})]}),a.jsx("div",{className:"space-y-3",children:a.jsx(r,{children:h.map((e,s)=>a.jsxs(n.div,{className:`notification-slide relative p-4 rounded-xl border transition-all duration-300 ${l(e.type)} ${e.read?"opacity-70":""}`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100,height:0},transition:{delay:.1*s,duration:.5,ease:"easeOut"},whileHover:{scale:1.02,y:-2},onClick:()=>{return!e.read&&(s=e.id,void t(e=>e.map(e=>e.id===s?{...e,read:!0}:e)));var s},children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o(e.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"text-sm font-semibold text-white truncate",children:e.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-400",children:c(e.timestamp)}),a.jsx(n.button,{onClick:s=>{var i;s.stopPropagation(),i=e.id,t(e=>e.filter(e=>e.id!==i))},className:"p-1 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(re,{className:"w-3 h-3 text-slate-400"})})]})]}),a.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:e.message}),e.action&&a.jsx(n.button,{onClick:t=>{t.stopPropagation(),e.action.onClick()},className:"mt-3 text-sm text-brand-400 hover:text-brand-300 font-medium transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.action.label})]})]}),!e.read&&a.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-brand-400 rounded-full"})]},e.id))})}),0===e.length&&a.jsxs(n.div,{className:"text-center py-8",initial:{opacity:0},animate:{opacity:1},children:[a.jsx(ne,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-400",children:"No notifications yet"})]})]})}function xl(){const e=J(),t=dt(e=>e.hackathons),s=dt(e=>e.applyAsJudge),i=dt(e=>e.judgeApplications),n=dt(e=>e.session.currentUserId),r=Date.now(),o=Object.values(t),{active:l,past:c,upcoming:d}=p.useMemo(()=>{const e=[],t=[],s=[];for(const i of o){const a=i.startAt??r,n=i.endAt??r;a<=r&&n>=r?e.push(i):n<r?t.push(i):s.push(i)}return e.sort((e,t)=>(t.startAt??0)-(e.startAt??0)),t.sort((e,t)=>(t.startAt??0)-(e.startAt??0)),s.sort((e,t)=>(e.startAt??0)-(t.startAt??0)),{active:e,past:t,upcoming:s}},[t]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6 cursor-pointer transition-colors hover:bg-white/10",onClick:()=>e("/discover"),role:"button",tabIndex:0,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||e("/discover")},children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Judge Hub"}),a.jsx("p",{className:"text-slate-300",children:"Browse hackathons by timeline and jump into judging."})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Ee,{className:"w-5 h-5 text-green-400"}),"Active Hackathons"]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[l.map(t=>a.jsxs("div",{className:"rounded-xl bg-white/5 p-4 flex flex-col",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:t.title}),a.jsx("p",{className:"text-sm text-slate-300",children:t.org}),a.jsxs("div",{className:"mt-2 text-xs text-slate-400 flex items-center gap-2",children:[a.jsx(Ne,{className:"w-4 h-4"})," ",t.dateRange]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.tags.map(e=>a.jsx("span",{className:"badge",children:e},e))})]}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:()=>e(`/judge/${t.id}`),className:"btn-primary mt-4 inline-flex items-center gap-2",children:"Evaluate"})})]},t.id)),0===l.length&&a.jsx("p",{className:"text-slate-400",children:"No active hackathons."})]})]}),a.jsx("section",{className:"card p-6",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[d.map(e=>{const t=(e=>{if(n)return Object.values(i).find(t=>t.hackathonId===e&&t.userId===n)})(e.id);return a.jsxs("div",{className:"rounded-xl bg-white/5 p-4 flex flex-col",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:e.title}),a.jsx("p",{className:"text-sm text-slate-300",children:e.org}),a.jsxs("div",{className:"mt-2 text-xs text-slate-400 flex items-center gap-2",children:[a.jsx(Ne,{className:"w-4 h-4"})," ",e.dateRange]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.tags.map(e=>a.jsx("span",{className:"badge",children:e},e))})]}),a.jsx("div",{className:"mt-4 flex items-center justify-between",children:a.jsx("button",{disabled:!!t,onClick:()=>s(e.id),className:"btn-primary "+(t?"opacity-60 cursor-not-allowed":""),children:t?"pending"===t.status?"Applied (Pending)":"approved"===t.status?"Approved":"Rejected":"Apply to Judge"})})]},e.id)}),0===d.length&&a.jsx("p",{className:"text-slate-400",children:"No upcoming hackathons."})]})}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ce,{className:"w-5 h-5 text-slate-300"}),"Past Hackathons"]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[c.map(e=>a.jsxs("div",{className:"rounded-xl bg-white/5 p-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:e.title}),a.jsx("p",{className:"text-sm text-slate-300",children:e.org}),a.jsxs("div",{className:"mt-2 text-xs text-slate-400 flex items-center gap-2",children:[a.jsx(Ce,{className:"w-4 h-4"})," ",e.dateRange]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.tags.map(e=>a.jsx("span",{className:"badge",children:e},e))})]},e.id)),0===c.length&&a.jsx("p",{className:"text-slate-400",children:"No past hackathons."})]})]})]})}function fl(){const e=dt(e=>e.session.currentUserId),t=dt(t=>e?t.users[e]:void 0);if("judge"===(null==t?void 0:t.role))return a.jsx(xl,{});const s=[{label:"Active Hackathons",value:12,icon:_e,color:"text-blue-400",gradient:"gradient-bg-1",change:"+23%"},{label:"Team Members",value:4,icon:ce,color:"text-green-400",gradient:"gradient-bg-2",change:"+12%"},{label:"Submissions",value:8,icon:we,color:"text-purple-400",gradient:"gradient-bg-3",change:"+45%"},{label:"Events This Month",value:3,icon:Ne,color:"text-orange-400",gradient:"gradient-bg-4",change:"+8%"}];return a.jsxs("div",{className:"space-y-8",children:[a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-brand-200 to-purple-200 bg-clip-text text-transparent",children:["Welcome back, ",null==t?void 0:t.name,"!"]}),a.jsx("p",{className:"text-slate-400 mt-2 text-lg",children:"Here's what's happening with your hackathons"})]}),a.jsx("div",{className:"dashboard-grid",children:s.map((e,t)=>{const s=e.icon;return a.jsxs(n.div,{className:"dashboard-card metric-card glassmorphism rounded-2xl p-6 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},children:[a.jsx("div",{className:`absolute inset-0 ${e.gradient} opacity-10`}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-white/10",children:a.jsx(s,{className:`h-6 w-6 ${e.color}`})}),a.jsxs("div",{className:"flex items-center gap-1 text-green-400 text-sm",children:[a.jsx(De,{className:"w-4 h-4"}),e.change]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-400 mb-2",children:e.label}),a.jsx("div",{className:"text-3xl font-bold text-white",children:a.jsx(jt,{end:e.value,duration:1.5})})]})]})]},e.label)})}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsx(n.div,{className:"dashboard-card glassmorphism rounded-2xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:a.jsx(cl,{data:{labels:["Completed","In Progress","Upcoming","Cancelled"],values:[45,25,20,10],colors:["#3b5cff","#4ecdc4","#ffe66d","#ff6b6b"]},title:"Participation Statistics",centerText:"108 Total",size:250})}),a.jsx(n.div,{className:"dashboard-card glassmorphism rounded-2xl p-6 lg:col-span-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:a.jsx(dl,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Submissions",data:[12,19,15,25,22,30],borderColor:"#3b5cff",backgroundColor:"rgba(59, 92, 255, 0.1)"},{label:"Wins",data:[2,4,3,6,5,8],borderColor:"#4ecdc4",backgroundColor:"rgba(78, 205, 196, 0.1)"}]},title:"Submission Trends Over Time",height:300})})]}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsxs(n.div,{className:"dashboard-card glassmorphism rounded-2xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[a.jsx(Pe,{className:"w-5 h-5 text-brand-400"}),"Progress Overview"]}),a.jsx("div",{className:"space-y-6",children:[{label:"Profile Completion",progress:85,color:"#3b5cff"},{label:"Skills Assessment",progress:72,color:"#4ecdc4"},{label:"Team Building",progress:90,color:"#ffe66d"}].map((e,t)=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(hl,{progress:e.progress,size:80,strokeWidth:6,color:e.color,showPercentage:!1,duration:1.5}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:e.label}),a.jsxs("div",{className:"text-xs text-slate-400",children:[e.progress,"% Complete"]})]})]},e.label))})]}),a.jsx(n.div,{className:"dashboard-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:a.jsx(pl,{})}),a.jsx(n.div,{className:"dashboard-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},children:a.jsx(gl,{})})]}),a.jsxs(n.div,{className:"dashboard-card glassmorphism rounded-2xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center gap-2",children:[a.jsx(le,{className:"w-5 h-5 text-brand-400"}),"Recent Achievements"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{title:"Code Warrior",desc:"Completed 5 hackathons",color:"bg-purple-500/20 border-purple-500/30"},{title:"Team Player",desc:"Collaborated with 10+ members",color:"bg-blue-500/20 border-blue-500/30"},{title:"Innovation Master",desc:"Won 3 hackathons this year",color:"bg-green-500/20 border-green-500/30"}].map((e,t)=>a.jsx(n.div,{className:`p-4 rounded-xl border ${e.color}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1.2+.1*t},whileHover:{scale:1.02,y:-2},children:a.jsxs("div",{className:"text-center",children:[a.jsx(le,{className:"w-8 h-8 mx-auto mb-2 text-yellow-400"}),a.jsx("h4",{className:"font-semibold text-white",children:e.title}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:e.desc})]})},e.title))})]})]})}function bl(){const{hackathonId:e,teamId:t}=ee(),s=dt(e=>e.submitProject),[i,n]=p.useState(""),[r,o]=p.useState(""),[l,c]=p.useState(""),[d,h]=p.useState(""),[u,m]=p.useState(""),[g,x]=p.useState("");return a.jsxs("div",{className:"mx-auto max-w-2xl card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Submission Portal"}),a.jsxs("form",{className:"mt-4 space-y-4",onSubmit:a=>{a.preventDefault(),e&&t&&(s(e,t,{title:i,repoUrl:r,figmaUrl:l,driveUrl:d,deckUrl:u,description:g}),alert("Submission saved!"),n(""),o(""),c(""),h(""),m(""),x(""))},children:[a.jsx("input",{className:"input",placeholder:"Project Title",value:i,onChange:e=>n(e.target.value)}),a.jsx("textarea",{className:"input",placeholder:"Short Description",value:g,onChange:e=>x(e.target.value)}),a.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[a.jsx("input",{className:"input",placeholder:"GitHub Repo URL",value:r,onChange:e=>o(e.target.value)}),a.jsx("input",{className:"input",placeholder:"Figma URL",value:l,onChange:e=>c(e.target.value)}),a.jsx("input",{className:"input",placeholder:"Google Drive URL",value:d,onChange:e=>h(e.target.value)}),a.jsx("input",{className:"input",placeholder:"Slide Deck URL",value:u,onChange:e=>m(e.target.value)})]}),a.jsx("button",{className:"btn-primary",type:"submit",children:"Submit"})]})]})}function vl(){const{submissionId:e}=ee(),t=dt(t=>e?t.submissions[e]:void 0),s=dt(e=>t?e.hackathons[t.hackathonId]:void 0),i=dt(e=>e.addEvaluation),[n,r]=p.useState({}),[o,l]=p.useState("");if(!t||!s)return a.jsx("div",{className:"card p-6",children:"Submission not found"});return a.jsxs("div",{className:"mx-auto max-w-2xl card p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold",children:["Evaluate: ",t.title]}),a.jsxs("form",{className:"mt-4 space-y-4",onSubmit:e=>{e.preventDefault();const a=s.criteria.map(e=>({criterionId:e.id,score:Number(n[e.id]||0)}));i(t.id,a,o),alert("Evaluation submitted!"),r({}),l("")},children:[s.criteria.map(e=>a.jsxs("div",{className:"grid grid-cols-2 items-center gap-3",children:[a.jsxs("label",{className:"text-sm text-slate-300",children:[e.label," (max ",e.max,")"]}),a.jsx("input",{className:"input",type:"number",min:0,max:e.max,value:n[e.id]||"",onChange:t=>r(s=>({...s,[e.id]:Number(t.target.value)}))})]},e.id)),a.jsx("textarea",{className:"input",placeholder:"Feedback",value:o,onChange:e=>l(e.target.value)}),a.jsx("button",{className:"btn-primary",type:"submit",children:"Submit Scores"})]})]})}function yl(){const e=Object.values(dt(e=>e.submissions)),t=Object.values(dt(e=>e.evaluations)),s=e.map(e=>{const s=t.filter(t=>t.submissionId===e.id).reduce((e,t)=>e+t.scores.reduce((e,t)=>e+t.score,0),0);return{submission:e,total:s}}).sort((e,t)=>t.total-e.total);return a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Leaderboard"}),a.jsxs("ul",{className:"mt-3 space-y-2",children:[s.map((e,t)=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg bg-white/5 p-3",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:["#",t+1]}),a.jsx("span",{className:"ml-3",children:e.submission.title})]}),a.jsxs("span",{className:"badge",children:[e.total," pts"]})]},e.submission.id)),0===s.length&&a.jsx("p",{className:"text-sm text-slate-300",children:"No results yet."})]})]})}function wl({children:e}){return dt(e=>e.session.currentUserId)?a.jsx(a.Fragment,{children:e}):a.jsx(te,{to:"/login",replace:!0})}function jl(){const e=dt(e=>e.createHackathon),[t,s]=p.useState(""),[i,n]=p.useState(""),[r,o]=p.useState(""),[l,c]=p.useState("AI, Web"),[d,h]=p.useState("₹50,000"),[u,m]=p.useState(""),[g,x]=p.useState([{id:lt("c"),label:"Innovation",max:10}]),f=(e,t,s)=>x(i=>i.map(i=>i.id===e?{...i,[t]:"max"===t?Number(s):s}:i));return a.jsxs("div",{className:"mx-auto max-w-3xl card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Create Hackathon"}),a.jsxs("form",{className:"mt-4 space-y-4",onSubmit:a=>{if(a.preventDefault(),!t||!i||!r||0===g.length)return void alert("Please complete title, org, dates, and at least one criterion");const p=e({title:t,org:i,dateRange:r,tags:l.split(",").map(e=>e.trim()).filter(Boolean),prize:d,description:u,criteria:g.map(e=>({...e,max:Number(e.max)||10}))});alert("Hackathon created! ID: "+p),s(""),n(""),o(""),c("AI"),h("₹50,000"),m(""),x([{id:lt("c"),label:"Innovation",max:10}])},children:[a.jsx("input",{className:"input",placeholder:"Title",value:t,onChange:e=>s(e.target.value)}),a.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[a.jsx("input",{className:"input",placeholder:"Organizer Name",value:i,onChange:e=>n(e.target.value)}),a.jsx("input",{className:"input",placeholder:"Date Range (e.g. Oct 15 - Oct 17)",value:r,onChange:e=>o(e.target.value)})]}),a.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[a.jsx("input",{className:"input",placeholder:"Tags (comma-separated)",value:l,onChange:e=>c(e.target.value)}),a.jsx("input",{className:"input",placeholder:"Prize (e.g. ₹1,00,000)",value:d,onChange:e=>h(e.target.value)})]}),a.jsx("textarea",{className:"input",placeholder:"Description",value:u,onChange:e=>m(e.target.value)}),a.jsxs("div",{className:"rounded-xl border border-white/10 p-4",children:[a.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold",children:"Judging Criteria"}),a.jsx("button",{type:"button",onClick:()=>x(e=>[...e,{id:lt("c"),label:"",max:10}]),className:"btn-primary bg-white/10 hover:bg-white/20",children:"Add Criterion"})]}),a.jsx("div",{className:"space-y-3",children:g.map(e=>a.jsxs("div",{className:"grid gap-3 sm:grid-cols-12",children:[a.jsx("input",{className:"input sm:col-span-8",placeholder:"Label",value:e.label,onChange:t=>f(e.id,"label",t.target.value)}),a.jsx("input",{className:"input sm:col-span-3",type:"number",min:1,placeholder:"Max",value:e.max,onChange:t=>f(e.id,"max",t.target.value)}),a.jsx("button",{type:"button",className:"btn-primary bg-red-500/20 hover:bg-red-500/30",onClick:()=>{return t=e.id,x(e=>e.filter(e=>e.id!==t));var t},children:"Remove"})]},e.id))})]}),a.jsx("button",{className:"btn-primary",type:"submit",children:"Create"})]})]})}function Nl(){const{id:e}=ee(),t=dt(e=>e.session.currentUserId),s=dt(e=>t?e.users[t]:void 0),i=dt(t=>e?t.hackathons[e]:void 0),n=Object.values(dt(e=>e.announcements)).filter(t=>t.hackathonId===e).sort((e,t)=>t.createdAt-e.createdAt),r=Object.values(dt(e=>e.faqs)).filter(t=>t.hackathonId===e),o=Object.values(dt(e=>e.questions)).filter(t=>t.hackathonId===e).sort((e,t)=>t.createdAt-e.createdAt),l=dt(e=>e.addAnnouncement),c=dt(e=>e.addFAQ),d=dt(e=>e.askQuestion),h=dt(e=>e.answerQuestion),[u,m]=p.useState(""),[g,x]=p.useState(""),[f,b]=p.useState(""),[v,y]=p.useState(""),w=p.useMemo(()=>s&&i&&s.id===i.organizerId||"organizer"===(null==s?void 0:s.role),[s,i]);return i?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold",children:[i.title," • Communication Hub"]}),a.jsx("p",{className:"text-sm text-slate-300",children:"Manage announcements, FAQs, and Q&A"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"font-semibold",children:"Announcements"}),w&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("input",{className:"input",placeholder:"Write an announcement",value:u,onChange:e=>m(e.target.value)}),a.jsx("button",{className:"btn-primary",onClick:()=>{e&&u.trim()&&(l(e,u.trim()),m(""))},children:"Post"})]}),a.jsxs("ul",{className:"mt-3 space-y-2",children:[n.map(e=>a.jsxs("li",{className:"rounded-lg bg-white/5 p-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"text-sm text-slate-400",children:new Date(e.createdAt).toLocaleString()})}),a.jsx("p",{className:"mt-1",children:e.message})]},e.id)),0===n.length&&a.jsx("p",{className:"text-sm text-slate-300",children:"No announcements yet."})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"font-semibold",children:"FAQs"}),w&&a.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-12",children:[a.jsx("input",{className:"input sm:col-span-5",placeholder:"Question",value:g,onChange:e=>x(e.target.value)}),a.jsx("input",{className:"input sm:col-span-5",placeholder:"Answer",value:f,onChange:e=>b(e.target.value)}),a.jsx("button",{className:"btn-primary sm:col-span-2",onClick:()=>{e&&g.trim()&&f.trim()&&(c(e,g.trim(),f.trim()),x(""),b(""))},children:"Add"})]}),a.jsxs("ul",{className:"mt-3 space-y-2",children:[r.map(e=>a.jsxs("li",{className:"rounded-lg bg-white/5 p-3",children:[a.jsxs("div",{className:"font-medium",children:["Q: ",e.question]}),a.jsxs("div",{className:"text-slate-300",children:["A: ",e.answer]})]},e.id)),0===r.length&&a.jsx("p",{className:"text-sm text-slate-300",children:"No FAQs yet."})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"font-semibold",children:"Q&A"}),s&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("input",{className:"input",placeholder:"Ask a question",value:v,onChange:e=>y(e.target.value)}),a.jsx("button",{className:"btn-primary",onClick:()=>{e&&v.trim()&&(d(e,v.trim()),y(""))},children:"Ask"})]}),a.jsxs("ul",{className:"mt-3 space-y-2",children:[o.map(e=>a.jsxs("li",{className:"rounded-lg bg-white/5 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"font-medium",children:e.text}),a.jsx("span",{className:"text-xs text-slate-400",children:new Date(e.createdAt).toLocaleString()})]}),e.answer?a.jsxs("div",{className:"mt-2 rounded bg-white/5 p-2 text-sm",children:[a.jsxs("div",{className:"text-slate-300",children:["Answer: ",e.answer.text]}),a.jsx("div",{className:"text-xs text-slate-400",children:new Date(e.answer.createdAt).toLocaleString()})]}):w&&a.jsx(kl,{onAnswer:t=>h(e.id,t)})]},e.id)),0===o.length&&a.jsx("p",{className:"text-sm text-slate-300",children:"No questions yet."})]})]})]}):a.jsx("div",{className:"card p-6",children:"Hackathon not found"})}function kl({onAnswer:e}){const[t,s]=p.useState("");return a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("input",{className:"input",placeholder:"Write an answer",value:t,onChange:e=>s(e.target.value)}),a.jsx("button",{className:"btn-primary",onClick:()=>{t.trim()&&(e(t.trim()),s(""))},children:"Answer"})]})}const Sl=({value:e,duration:t=2,className:s="",prefix:i="",suffix:r=""})=>{const[c,d]=p.useState(0),h=o(0,{stiffness:100,damping:30,restDelta:.001}),u=l(h,e=>Math.round(e).toLocaleString());return p.useEffect(()=>{h.set(e)},[h,e]),p.useEffect(()=>{const e=u.on("change",e=>{d(parseFloat(e.replace(/,/g,"")))});return()=>e()},[u]),a.jsxs(n.span,{className:s,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[i,a.jsx(n.span,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},children:c.toLocaleString()},c),r]})},Cl=({progress:e,size:t=120,strokeWidth:s=8,className:i="",children:r,glowColor:o="#3b82f6"})=>{const l=(t-s)/2,c=2*l*Math.PI,d=`${c} ${c}`,h=c-e/100*c;return a.jsxs("div",{className:`relative inline-flex items-center justify-center ${i}`,children:[a.jsxs("svg",{className:"transform -rotate-90",width:t,height:t,children:[a.jsx("circle",{cx:t/2,cy:t/2,r:l,stroke:"currentColor",strokeWidth:s,fill:"transparent",className:"text-gray-200 dark:text-gray-700"}),a.jsx(n.circle,{cx:t/2,cy:t/2,r:l,stroke:o,strokeWidth:s,fill:"transparent",strokeDasharray:d,strokeDashoffset:h,strokeLinecap:"round",initial:{strokeDashoffset:c},animate:{strokeDashoffset:h},transition:{duration:2,ease:"easeInOut"},style:{filter:`drop-shadow(0 0 6px ${o}40)`}}),e>0&&a.jsx(n.circle,{cx:t/2,cy:t/2,r:l,stroke:o,strokeWidth:s/2,fill:"transparent",strokeDasharray:d,strokeDashoffset:h,strokeLinecap:"round",initial:{strokeDashoffset:c,opacity:0},animate:{strokeDashoffset:h,opacity:.6},transition:{duration:2,ease:"easeInOut"},style:{filter:"blur(2px)"}})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r})]})},Ml=({title:e,value:t,icon:s,color:i,progress:r,showProgress:o=!1,tooltip:l,prefix:c="",suffix:d="",className:h=""})=>a.jsxs(n.div,{className:`relative bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden group hover:shadow-xl transition-all duration-300 ${h}`,whileHover:{y:-4,scale:1.02},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-10 transition-opacity duration-300",style:{background:`linear-gradient(135deg, ${i}20, transparent)`}}),a.jsx("div",{className:"absolute -inset-1 rounded-2xl opacity-0 group-hover:opacity-20 transition-opacity duration-300 blur-xl",style:{backgroundColor:i}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-xl",style:{backgroundColor:`${i}15`},children:a.jsx("div",{style:{color:i},className:"text-xl",children:s})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),l&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:l})]})]}),o&&void 0!==r&&a.jsx(Cl,{progress:r,size:60,strokeWidth:4,glowColor:i,children:a.jsxs("span",{className:"text-xs font-bold",style:{color:i},children:[r,"%"]})})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(Sl,{value:t,className:"text-3xl font-bold text-gray-900 dark:text-gray-100",prefix:c,suffix:d}),void 0!==r&&!o&&a.jsxs(n.div,{className:"flex items-center gap-1 text-sm",style:{color:i},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5},children:[a.jsxs("span",{children:["+",r,"%"]}),a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]}),void 0!==r&&!o&&a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx(n.div,{className:"h-full rounded-full",style:{backgroundColor:i},initial:{width:0},animate:{width:`${r}%`},transition:{duration:2,ease:"easeInOut"}})})})]}),a.jsx(n.div,{className:"absolute top-4 right-4 w-2 h-2 rounded-full",style:{backgroundColor:i},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:2*Math.random()}})]}),Il=({stages:e,className:t=""})=>{const[s,i]=p.useState(null);return a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 ${t}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Hackathon Progress"}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.filter(e=>e.completed).length,"/",e.length," Complete"]})]}),a.jsx("div",{className:"space-y-4",children:e.map((t,o)=>a.jsxs(n.div,{className:"relative",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*o},children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsxs("div",{className:"relative",children:[a.jsx(n.div,{className:"w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300 "+(t.completed?"bg-green-500 text-white shadow-lg":t.progress>0?"text-white shadow-lg":"bg-gray-200 dark:bg-gray-600 text-gray-500 dark:text-gray-400"),style:{backgroundColor:t.progress>0&&!t.completed?t.color:void 0,boxShadow:t.progress>0?`0 0 20px ${t.color}40`:void 0},animate:t.completed?{scale:[1,1.1,1]}:{},transition:{duration:.5},children:t.completed?"✓":t.icon}),t.progress>0&&t.progress<100&&a.jsx(n.div,{className:"absolute inset-0 rounded-full border-2 opacity-60",style:{borderColor:t.color},animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.name}),a.jsxs("span",{className:"text-sm font-medium",style:{color:t.color},children:[t.progress,"%"]})]}),a.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:a.jsx(n.div,{className:"h-full rounded-full relative",style:{backgroundColor:t.color},initial:{width:0},animate:{width:`${t.progress}%`},transition:{duration:1.5,ease:"easeInOut"},onAnimationComplete:()=>{var e;100!==t.progress||t.completed||(e=t.id,i(e),setTimeout(()=>i(null),2e3))},children:a.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})})]}),o<e.length-1&&a.jsx("div",{className:"absolute left-10 top-16 w-0.5 h-8 bg-gray-300 dark:bg-gray-600"})]}),a.jsx(r,{children:s===t.id&&a.jsxs(n.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[Array.from({length:12}).map((e,t)=>a.jsx(n.div,{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57"][t%5],left:"50%",top:"50%"},initial:{scale:0,x:0,y:0},animate:{scale:[0,1,0],x:200*(Math.random()-.5),y:200*(Math.random()-.5)},transition:{duration:1.5,delay:.1*t,ease:"easeOut"}},t)),a.jsx(n.div,{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500 text-white px-4 py-2 rounded-lg font-bold shadow-lg",initial:{scale:0,y:0},animate:{scale:[0,1.2,1],y:-20},exit:{scale:0,opacity:0},transition:{duration:.5},children:"Stage Complete! 🎉"})]})})]},t.id))})]})},Tl=({streakCount:e,className:t=""})=>{const[s,i]=p.useState(!1),o=e>0&&e%7==0;return p.useEffect(()=>{if(o){i(!0);const e=setTimeout(()=>i(!1),3e3);return()=>clearTimeout(e)}},[o]),a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden ${t}`,children:[a.jsx(r,{children:s&&a.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 via-red-500/20 to-yellow-500/20",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Daily Streak"}),o&&a.jsx(n.div,{className:"text-xs bg-gradient-to-r from-orange-500 to-red-500 text-white px-2 py-1 rounded-full font-bold",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:"MILESTONE!"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(n.div,{className:"text-4xl",animate:e>0?{scale:[1,1.1,1],rotate:[0,-5,5,0]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e>0?"🔥":"🌫️"}),e>0&&a.jsx(n.div,{className:"absolute inset-0 rounded-full bg-orange-500 opacity-30 blur-lg",animate:{scale:[.8,1.2,.8]},transition:{duration:2,repeat:1/0}}),a.jsx(r,{children:s&&a.jsx(a.Fragment,{children:Array.from({length:8}).map((e,t)=>a.jsx(n.div,{className:"absolute w-1 h-1 bg-yellow-400 rounded-full",style:{left:"50%",top:"50%"},initial:{scale:0,x:0,y:0},animate:{scale:[0,1,0],x:30*Math.cos(t*Math.PI*2/8),y:30*Math.sin(t*Math.PI*2/8)},exit:{scale:0},transition:{duration:1.5,delay:.1*t,ease:"easeOut"}},t))})})]}),a.jsxs("div",{children:[a.jsx(n.div,{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:30},children:e},e),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:1===e?"day":"days"})]}),a.jsxs("div",{className:"flex-1 ml-4",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Next milestone: ",7*Math.ceil(e/7)," days"]}),a.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx(n.div,{className:"h-full bg-gradient-to-r from-orange-500 to-red-500 rounded-full",initial:{width:0},animate:{width:e%7*(100/7)+"%"},transition:{duration:1,ease:"easeInOut"}})})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Streak Benefits:"}),a.jsxs("div",{className:"flex gap-2 text-xs",children:[a.jsx("span",{className:"px-2 py-1 rounded "+(e>=3?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-200 text-gray-500 dark:bg-gray-600 dark:text-gray-400"),children:"+10% XP (3 days)"}),a.jsx("span",{className:"px-2 py-1 rounded "+(e>=7?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-gray-200 text-gray-500 dark:bg-gray-600 dark:text-gray-400"),children:"Badge (7 days)"}),a.jsx("span",{className:"px-2 py-1 rounded "+(e>=30?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-gray-200 text-gray-500 dark:bg-gray-600 dark:text-gray-400"),children:"Special Title (30 days)"})]})]})]}),a.jsx(r,{children:s&&a.jsxs(n.div,{className:"absolute top-4 right-4 bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-lg font-bold shadow-lg",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,rotate:10},transition:{type:"spring",stiffness:500,damping:30},children:["🎉 ",e," Day Streak!"]})})]})},El=({entries:e,className:t=""})=>{const[s,i]=p.useState("score"),[o,l]=p.useState(e),c=t=>{i(t);const s=[...e].sort((e,s)=>"score"===t?s.score-e.score:e.name.localeCompare(s.name));l(s)},d=e=>{switch(e){case 1:return"👑";case 2:return"🥈";case 3:return"🥉";default:return`#${e}`}},h=e=>{switch(e){case 1:return"from-yellow-400 to-orange-500";case 2:return"from-gray-300 to-gray-500";case 3:return"from-orange-400 to-orange-600";default:return"from-blue-400 to-blue-600"}},u=e=>{switch(e){case 1:return"shadow-yellow-500/50";case 2:return"shadow-gray-500/50";case 3:return"shadow-orange-500/50";default:return"shadow-blue-500/50"}};return a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 ${t}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Leaderboard"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>c("score"),className:"px-3 py-1 text-sm rounded-lg transition-colors "+("score"===s?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:"Score"}),a.jsx("button",{onClick:()=>c("name"),className:"px-3 py-1 text-sm rounded-lg transition-colors "+("name"===s?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:"Name"})]})]}),a.jsx("div",{className:"space-y-3",children:a.jsx(r,{mode:"popLayout",children:o.map((e,t)=>{const s=t+1,i=s<=3;return a.jsxs(n.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"relative p-4 rounded-xl border transition-all duration-300 hover:shadow-lg "+(i?"bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800 border-gray-300 dark:border-gray-600":"bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"),whileHover:{scale:1.02,y:-2},children:[i&&a.jsx(n.div,{className:`absolute -inset-1 rounded-xl opacity-20 blur-sm ${u(s)}`,style:{background:`linear-gradient(135deg, ${1===s?"#fbbf24, #f59e0b":2===s?"#9ca3af, #6b7280":"#fb923c, #ea580c"})`},animate:{opacity:[.1,.3,.1]},transition:{duration:2,repeat:1/0}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:i?a.jsx(n.div,{className:`w-12 h-12 rounded-full bg-gradient-to-br ${h(s)} flex items-center justify-center text-white font-bold shadow-lg ${u(s)}`,animate:1===s?{rotate:[0,5,-5,0],scale:[1,1.05,1]}:{},transition:{duration:2,repeat:1/0},children:d(s)}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-gray-700 dark:text-gray-300 font-bold",children:d(s)})}),a.jsx("div",{className:"flex-shrink-0",children:e.avatar?a.jsx("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full border-2 border-gray-200 dark:border-gray-600"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold",children:e.name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:e.name}),e.badge&&a.jsx("span",{className:"text-sm",children:e.badge})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Level ",e.level]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:e.score.toLocaleString()}),void 0!==e.change&&a.jsxs(n.div,{className:"text-sm flex items-center gap-1 "+(e.change>0?"text-green-500":e.change<0?"text-red-500":"text-gray-500"),initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:.2},children:[e.change>0&&"↗",e.change<0&&"↘",0===e.change&&"→",Math.abs(e.change)]})]})]}),1===s&&a.jsx(n.div,{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-yellow-400/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),2===s&&a.jsx(n.div,{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-gray-400/10 to-transparent",animate:{opacity:[0,.5,0]},transition:{duration:2,repeat:1/0}}),3===s&&a.jsx(a.Fragment,{children:Array.from({length:3}).map((e,t)=>a.jsx(n.div,{className:"absolute w-1 h-1 bg-orange-400 rounded-full",style:{left:20+30*t+"%",top:20+20*t+"%"},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:.5*t}},t))})]},e.id)})})})]})},_l=({achievement:e,className:t="",onClick:s})=>{const[i,o]=p.useState(!1),l=(e=>{switch(e){case"common":return{gradient:"from-gray-400 to-gray-600",glow:"#9ca3af",border:"border-gray-300 dark:border-gray-600",bg:"bg-gray-50 dark:bg-gray-800"};case"rare":return{gradient:"from-blue-400 to-blue-600",glow:"#3b82f6",border:"border-blue-300 dark:border-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20"};case"epic":return{gradient:"from-purple-400 to-purple-600",glow:"#8b5cf6",border:"border-purple-300 dark:border-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20"};case"legendary":return{gradient:"from-yellow-400 to-orange-500",glow:"#f59e0b",border:"border-yellow-300 dark:border-yellow-600",bg:"bg-yellow-50 dark:bg-yellow-900/20"}}})(e.rarity);return a.jsxs(n.div,{className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ${e.unlocked?l.border:"border-gray-200 dark:border-gray-700"} ${e.unlocked?l.bg:"bg-gray-100 dark:bg-gray-800"} ${t}`,whileHover:{scale:1.05,rotateY:i?5:0,rotateX:i?5:0},whileTap:{scale:.95},onHoverStart:()=>o(!0),onHoverEnd:()=>o(!1),onClick:s,style:{transformStyle:"preserve-3d",perspective:"1000px"},children:[e.unlocked&&a.jsx(n.div,{className:"absolute -inset-1 rounded-xl opacity-20 blur-sm",style:{backgroundColor:l.glow},animate:"rare"===e.rarity?{opacity:[.1,.3,.1]}:"epic"===e.rarity?{scale:[.95,1.05,.95],opacity:[.2,.4,.2]}:"legendary"===e.rarity?{opacity:[.3,.6,.3]}:{},transition:{duration:"rare"===e.rarity?3:"epic"===e.rarity?2:"legendary"===e.rarity?1.5:0,repeat:1/0,ease:"easeInOut"}}),e.unlocked&&"legendary"===e.rarity&&a.jsx(n.div,{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-yellow-400/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),e.unlocked&&"epic"===e.rarity&&a.jsx(a.Fragment,{children:Array.from({length:6}).map((e,t)=>a.jsx(n.div,{className:"absolute w-1 h-1 bg-purple-400 rounded-full",style:{left:20+15*t+"%",top:10+t%2*70+"%"},animate:{scale:[0,1,0],opacity:[0,.8,0]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"}},t))}),e.unlocked&&"rare"===e.rarity&&a.jsx(a.Fragment,{children:Array.from({length:3}).map((e,t)=>a.jsx(n.div,{className:"absolute w-0.5 h-0.5 bg-blue-400 rounded-full",style:{left:30+25*t+"%",top:20+30*t+"%"},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,delay:.5*t+2*Math.random(),ease:"easeInOut"}},t))}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full text-white bg-gradient-to-r ${l.gradient} capitalize`,children:e.rarity}),!e.unlocked&&a.jsx("div",{className:"text-gray-400 dark:text-gray-500",children:"🔒"})]}),a.jsx("div",{className:"text-center mb-3",children:a.jsx(n.div,{className:"text-4xl "+(e.unlocked?"":"grayscale opacity-50"),animate:e.unlocked&&"legendary"===e.rarity?{rotate:[0,5,-5,0],scale:[1,1.1,1]}:{},transition:{duration:2,repeat:1/0},children:e.icon})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h4",{className:"font-bold mb-1 "+(e.unlocked?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400"),children:e.title}),a.jsx("p",{className:"text-sm "+(e.unlocked?"text-gray-600 dark:text-gray-300":"text-gray-400 dark:text-gray-500"),children:e.description}),!e.unlocked&&void 0!==e.progress&&e.maxProgress&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[e.progress,"/",e.maxProgress]})]}),a.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx(n.div,{className:`h-full bg-gradient-to-r ${l.gradient} rounded-full`,initial:{width:0},animate:{width:e.progress/e.maxProgress*100+"%"},transition:{duration:1,ease:"easeInOut"}})})]}),e.unlocked&&e.unlockedAt&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Unlocked ",e.unlockedAt]})]})]}),a.jsx(r,{children:i&&a.jsxs(n.div,{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs px-2 py-1 rounded whitespace-nowrap z-20",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},children:[e.unlocked?"Achievement Unlocked!":"Keep working to unlock!",a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black"})]})})]})},Dl=({badges:e,className:t=""})=>{const[s,i]=p.useState("all"),[o,l]=p.useState(null),[c,d]=p.useState(null),h=["all",...Array.from(new Set(e.map(e=>e.category)))],u="all"===s?e:e.filter(e=>e.category===s),m=e=>{switch(e){case"common":default:return"from-gray-400 to-gray-600";case"rare":return"from-blue-400 to-blue-600";case"epic":return"from-purple-400 to-purple-600";case"legendary":return"from-yellow-400 to-orange-500"}};return a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 ${t}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Badge Collection"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.filter(e=>e.unlocked).length,"/",e.length," badges earned"]})]}),a.jsxs("div",{className:"relative w-16 h-16",children:[a.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",children:[a.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-gray-200 dark:text-gray-700"}),a.jsx(n.circle,{cx:"32",cy:"32",r:"28",stroke:"#3b82f6",strokeWidth:"4",fill:"transparent",strokeDasharray:""+56*Math.PI,strokeDashoffset:56*Math.PI*(1-e.filter(e=>e.unlocked).length/e.length),strokeLinecap:"round",initial:{strokeDashoffset:56*Math.PI},animate:{strokeDashoffset:56*Math.PI*(1-e.filter(e=>e.unlocked).length/e.length)},transition:{duration:2,ease:"easeInOut"}})]}),a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-gray-900 dark:text-gray-100",children:[Math.round(e.filter(e=>e.unlocked).length/e.length*100),"%"]})]})]}),a.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:h.map(e=>a.jsx("button",{onClick:()=>i(e),className:"px-3 py-1 text-sm rounded-lg whitespace-nowrap transition-colors "+(s===e?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),a.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-4",children:a.jsx(r,{mode:"popLayout",children:u.map((e,t)=>a.jsxs(n.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{delay:.05*t},className:"relative",onMouseEnter:()=>l(e.id),onMouseLeave:()=>l(null),children:[a.jsxs(n.div,{className:"relative w-16 h-16 rounded-full flex items-center justify-center text-2xl border-2 transition-all duration-300 "+(e.unlocked?"bg-gradient-to-br from-white to-gray-100 dark:from-gray-700 dark:to-gray-800 border-gray-300 dark:border-gray-600 shadow-lg":"bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 grayscale"),whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:[e.unlocked?e.icon:"🔒",e.unlocked&&a.jsx(n.div,{className:`absolute -inset-1 rounded-full opacity-30 blur-sm bg-gradient-to-br ${m(e.rarity)}`,animate:{opacity:[.2,.4,.2]},transition:{duration:2,repeat:1/0}})]}),a.jsx(r,{children:c===e.id&&a.jsxs(n.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[Array.from({length:8}).map((e,t)=>a.jsx(n.div,{className:"absolute w-1 h-1 rounded-full",style:{backgroundColor:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57"][t%5],left:"50%",top:"50%"},initial:{scale:0,x:0,y:0},animate:{scale:[0,1,0],x:40*Math.cos(t*Math.PI*2/8),y:40*Math.sin(t*Math.PI*2/8)},transition:{duration:1,delay:.1*t,ease:"easeOut"}},t)),a.jsx(n.div,{className:`absolute inset-0 rounded-full bg-gradient-to-br ${m(e.rarity)} opacity-60`,initial:{scale:0},animate:{scale:[0,1.5,0]},transition:{duration:1.5}}),a.jsx(n.div,{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-green-500 text-white text-xs px-2 py-1 rounded font-bold whitespace-nowrap",initial:{scale:0,y:0},animate:{scale:[0,1.2,1],y:-10},exit:{scale:0,opacity:0},transition:{duration:.5},children:"Badge Unlocked!"})]})}),a.jsx(r,{children:o===e.id&&a.jsxs(n.div,{className:"absolute -top-16 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs p-2 rounded whitespace-nowrap z-10 max-w-48",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},children:[a.jsx("div",{className:"font-bold",children:e.name}),a.jsx("div",{className:"text-gray-300",children:e.description}),e.unlocked&&e.unlockedAt&&a.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:["Earned ",e.unlockedAt]}),a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black"})]})})]},e.id))})}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center",children:["common","rare","epic","legendary"].map(t=>{const s=e.filter(e=>e.rarity===t&&e.unlocked).length,i=e.filter(e=>e.rarity===t).length;return a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:`text-lg font-bold bg-gradient-to-r ${m(t)} bg-clip-text text-transparent`,children:[s,"/",i]}),a.jsx("div",{className:"text-gray-500 dark:text-gray-400 capitalize",children:t})]},t)})})})]})},Pl=({currentXP:e,level:t,xpToNextLevel:s,totalXPForNextLevel:i,className:o="",onLevelUp:l})=>{const[c,d]=p.useState(!1),[h,u]=p.useState(t),[m,g]=p.useState(0),[x,f]=p.useState(!1),b=i-s,v=b/i*100;p.useEffect(()=>{t>h&&(d(!0),l&&l(t),setTimeout(()=>{d(!1),u(t)},3e3))},[t,h,l]);const y=e=>e<5?"from-gray-400 to-gray-600":e<10?"from-green-400 to-green-600":e<15?"from-blue-400 to-blue-600":e<20?"from-purple-400 to-purple-600":e<25?"from-pink-400 to-pink-600":e<30?"from-yellow-400 to-orange-500":"from-red-400 to-red-600";return a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden ${o}`,children:[a.jsx(r,{children:c&&a.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/20 via-orange-500/20 to-red-500/20",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Level Progress"}),a.jsx("p",{className:`text-sm font-medium bg-gradient-to-r ${y(t)} bg-clip-text text-transparent`,children:(w=t,w<5?"Novice Hacker":w<10?"Code Explorer":w<15?"Digital Architect":w<20?"Innovation Master":w<25?"Tech Wizard":w<30?"Cyber Legend":"Hackathon God")})]}),a.jsx(n.div,{className:`w-16 h-16 rounded-full bg-gradient-to-br ${y(t)} flex items-center justify-center text-white font-bold text-lg shadow-lg`,whileHover:{scale:1.1},animate:c?{scale:[1,1.2,1],rotate:[0,360,0]}:{},transition:{duration:1},children:t})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Experience Points"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sl,{value:e,className:"text-lg font-bold text-gray-900 dark:text-gray-100",suffix:" XP"}),a.jsx(r,{children:x&&a.jsxs(n.div,{className:"text-green-500 font-bold text-sm",initial:{opacity:0,y:0,scale:.8},animate:{opacity:1,y:-20,scale:1},exit:{opacity:0,y:-40},transition:{duration:2},children:["+",m," XP"]})})]})]}),a.jsxs("div",{className:"relative h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse"}),a.jsxs(n.div,{className:`h-full bg-gradient-to-r ${y(t)} relative`,initial:{width:0},animate:{width:`${v}%`},transition:{duration:2,ease:"easeInOut"},children:[a.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),v>0&&a.jsx(a.Fragment,{children:Array.from({length:3}).map((e,t)=>a.jsx(n.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:80*Math.random()+10+"%",top:60*Math.random()+20+"%"},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,delay:.5*t+Math.random(),ease:"easeInOut"}},t))})]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-2",children:[a.jsxs("span",{children:[b.toLocaleString()," / ",i.toLocaleString()," XP"]}),a.jsxs("span",{children:[s.toLocaleString()," XP to next level"]})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Next Level Rewards:"}),a.jsxs("div",{className:"flex gap-2 text-xs",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded",children:"+500 XP Bonus"}),a.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded",children:"New Badge Frame"}),a.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded",children:"Profile Theme"})]})]}),a.jsx("button",{onClick:()=>{return e=Math.floor(100*Math.random())+50,g(e),f(!0),void setTimeout(()=>f(!1),2e3);var e},className:"mt-4 w-full py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200",children:"Simulate XP Gain"})]}),a.jsx(r,{children:c&&a.jsxs(n.div,{className:"absolute inset-0 pointer-events-none flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[Array.from({length:20}).map((e,t)=>a.jsx(n.div,{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3"][t%6],left:"50%",top:"50%"},initial:{scale:0,x:0,y:0},animate:{scale:[0,1,0],x:300*(Math.random()-.5),y:300*(Math.random()-.5)},transition:{duration:2,delay:.05*t,ease:"easeOut"}},t)),a.jsxs(n.div,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-3 rounded-xl font-bold text-lg shadow-2xl",initial:{scale:0,rotate:-10},animate:{scale:[0,1.2,1],rotate:0},exit:{scale:0,rotate:10},transition:{duration:.5,type:"spring",stiffness:500,damping:30},children:["🎉 LEVEL UP! 🎉",a.jsxs("div",{className:"text-sm font-normal",children:["Welcome to Level ",t,"!"]})]})]})})]});var w},Al=({quests:e,className:t="",onQuestComplete:s})=>{const[i,o]=p.useState(null),[l,c]=p.useState("all"),d="all"===l?e:e.filter(e=>e.type===l),h=e=>{switch(e){case"easy":return"from-green-400 to-green-600";case"medium":return"from-yellow-400 to-orange-500";case"hard":return"from-red-400 to-red-600";default:return"from-gray-400 to-gray-600"}},u=e=>{switch(e){case"daily":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300";case"weekly":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300";case"special":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}};return a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 ${t}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Quest Challenges"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Complete quests to earn XP and unlock rewards"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[e.filter(e=>e.completed).length,"/",e.length]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Completed"})]})]}),a.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:["all","daily","weekly","special"].map(t=>a.jsxs("button",{onClick:()=>c(t),className:"px-3 py-1 text-sm rounded-lg whitespace-nowrap transition-colors "+(l===t?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:[t.charAt(0).toUpperCase()+t.slice(1),a.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(","all"===t?e.length:e.filter(e=>e.type===t).length,")"]})]},t))}),a.jsx("div",{className:"space-y-4",children:a.jsx(r,{mode:"popLayout",children:d.map((e,t)=>a.jsxs(n.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*t},className:"relative p-4 rounded-xl border-2 transition-all duration-300 "+(e.completed?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[a.jsx(r,{children:i===e.id&&a.jsxs(n.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[Array.from({length:12}).map((e,t)=>a.jsx(n.div,{className:"absolute w-1 h-1 rounded-full",style:{backgroundColor:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57"][t%5],left:"50%",top:"50%"},initial:{scale:0,x:0,y:0},animate:{scale:[0,1,0],x:200*(Math.random()-.5),y:200*(Math.random()-.5)},transition:{duration:1.5,delay:.1*t,ease:"easeOut"}},t)),a.jsxs(n.div,{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-lg font-bold text-sm",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,rotate:10},transition:{type:"spring",stiffness:500,damping:30},children:["+",e.xpReward," XP"]})]})}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(n.div,{className:"w-12 h-12 rounded-full flex items-center justify-center text-xl "+(e.completed?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-400"),animate:e.completed?{scale:[1,1.1,1]}:{},transition:{duration:.5},children:e.completed?"✓":e.icon})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold "+(e.completed?"text-green-700 dark:text-green-300":"text-gray-900 dark:text-gray-100"),children:e.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u(e.type)}`,children:e.type}),a.jsxs("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:[e.xpReward," XP"]})]})]}),!e.completed&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[e.progress,"/",e.maxProgress]})]}),a.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:a.jsx(n.div,{className:`h-full bg-gradient-to-r ${h(e.difficulty)} rounded-full`,initial:{width:0},animate:{width:e.progress/e.maxProgress*100+"%"},transition:{duration:1,ease:"easeInOut"},onAnimationComplete:()=>{var t;e.progress>=e.maxProgress&&!e.completed&&(t=e.id,o(t),s&&s(t),setTimeout(()=>{o(null)},2e3))}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded bg-gradient-to-r ${h(e.difficulty)} text-white font-medium`,children:e.difficulty}),e.expiresAt&&a.jsxs("span",{children:["Expires: ",e.expiresAt]})]}),e.completed&&a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"✓ Completed"})]})]})]})]},e.id))})}),0===d.length&&a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),a.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:["No ","all"===l?"":l," quests available"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back later for new challenges!"})]})]})},Ol=({trigger:e=!1,onComplete:t,className:s=""})=>{const[i,o]=p.useState(!1),l=p.useCallback(()=>{o(!0);try{const e=new Audio("/sounds/celebration.mp3");e.volume=.3,e.play().catch(()=>{})}catch(e){}setTimeout(()=>{o(!1),t&&t()},3e3)},[t]);return m.useEffect(()=>{e&&l()},[e,l]),a.jsxs("div",{className:`relative ${s}`,children:[a.jsxs(n.button,{onClick:l,className:"w-full py-4 bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},disabled:i,children:[a.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-red-500 via-pink-500 to-purple-500",animate:i?{x:["-100%","100%"]}:{},transition:{duration:.8,ease:"easeInOut"}}),a.jsx("span",{className:"relative z-10 flex items-center justify-center gap-2",children:i?a.jsxs(a.Fragment,{children:[a.jsx(n.span,{animate:{rotate:[0,360]},transition:{duration:1,repeat:1/0,ease:"linear"},children:"🎉"}),"Celebrating..."]}):a.jsx(a.Fragment,{children:"🎊 Celebrate Milestone 🎊"})})]}),a.jsx(r,{children:i&&a.jsxs(n.div,{className:"absolute inset-0 pointer-events-none overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[Array.from({length:50}).map((e,t)=>a.jsx(n.div,{className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#5f27cd","#00d2d3","#ff9f43","#10ac84","#ee5a24"][t%12],left:"50%",top:"50%"},initial:{scale:0,x:0,y:0,rotate:0},animate:{scale:[0,1,.8,0],x:400*(Math.random()-.5),y:400*(Math.random()-.5),rotate:720*Math.random()},transition:{duration:2.5,delay:.02*t,ease:"easeOut"}},`confetti-${t}`)),Array.from({length:20}).map((e,t)=>a.jsx(n.div,{className:"absolute w-1 h-1 bg-yellow-300 rounded-full",style:{left:100*Math.random()+"%",top:100*Math.random()+"%"},animate:{scale:[0,1,0],opacity:[0,1,0],rotate:[0,180,360]},transition:{duration:1.5,delay:2*Math.random(),repeat:2,ease:"easeInOut"}},`sparkle-${t}`)),a.jsxs(n.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-8 py-4 rounded-2xl font-bold text-2xl shadow-2xl z-10",initial:{scale:0,rotate:-10,y:0},animate:{scale:[0,1.2,1],rotate:[0,5,0],y:[-20,-40,-20]},exit:{scale:0,rotate:10},transition:{duration:.8,type:"spring",stiffness:500,damping:30},children:[a.jsx(n.div,{animate:{textShadow:["0 0 0px rgba(255,255,255,0)","0 0 20px rgba(255,255,255,0.8)","0 0 0px rgba(255,255,255,0)"]},transition:{duration:1,repeat:2},children:"🎉 MILESTONE UNLOCKED! 🎉"}),a.jsx("div",{className:"text-sm font-normal mt-1 text-center",children:"Amazing work, keep it up!"})]}),Array.from({length:3}).map((e,t)=>a.jsx(n.div,{className:"absolute",style:{left:20+30*t+"%",top:20+20*t+"%"},initial:{scale:0},animate:{scale:[0,1,0]},transition:{duration:1,delay:.5+.3*t,ease:"easeOut"},children:Array.from({length:8}).map((e,s)=>a.jsx(n.div,{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",initial:{x:0,y:0,scale:0},animate:{x:50*Math.cos(s*Math.PI*2/8),y:50*Math.sin(s*Math.PI*2/8),scale:[0,1,0]},transition:{duration:1,delay:.5+.3*t,ease:"easeOut"}},s))},`firework-${t}`)),a.jsx(n.div,{className:"absolute inset-0 bg-gradient-radial from-yellow-400/20 via-orange-500/10 to-transparent rounded-xl",animate:{scale:[.8,1.2,.8],opacity:[.3,.6,.3]},transition:{duration:2,repeat:1,ease:"easeInOut"}})]})})]})};function Ll(){const[e,t]=p.useState(!1);return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"🎮 Game Hub"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Track your progress, earn rewards, and compete with others"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[{title:"Total Points",value:12450,icon:"🏆",color:"#3b82f6",progress:75,tooltip:"Earn points by completing hackathon milestones",suffix:" pts"},{title:"Current Rank",value:12,icon:"📊",color:"#10b981",showProgress:!0,progress:88,prefix:"#"},{title:"Badges Earned",value:24,icon:"🎖️",color:"#f59e0b",progress:15,tooltip:"Unlock badges by achieving milestones"}].map((e,t)=>a.jsx(Ml,{...e},e.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsx(Pl,{currentXP:12450,level:22,xpToNextLevel:2550,totalXPForNextLevel:15e3,onLevelUp:e=>{}}),a.jsx(Il,{stages:[{id:"registration",name:"Registration",icon:"📝",completed:!0,progress:100,color:"#10b981"},{id:"team-formation",name:"Team Formation",icon:"👥",completed:!0,progress:100,color:"#3b82f6"},{id:"prototype",name:"Prototype Development",icon:"⚙️",completed:!1,progress:75,color:"#f59e0b"},{id:"submission",name:"Final Submission",icon:"🚀",completed:!1,progress:25,color:"#ef4444"}]}),a.jsx(Al,{quests:[{id:"daily-commit",title:"Daily Commit",description:"Make at least 3 commits today",type:"daily",progress:2,maxProgress:3,xpReward:100,completed:!1,icon:"💻",difficulty:"easy",expiresAt:"11:59 PM"},{id:"team-collaboration",title:"Team Collaboration",description:"Review 5 pull requests from teammates",type:"weekly",progress:3,maxProgress:5,xpReward:500,completed:!1,icon:"🤝",difficulty:"medium",expiresAt:"Sunday"},{id:"innovation-challenge",title:"Innovation Challenge",description:"Implement a unique feature using AI",type:"special",progress:1,maxProgress:1,xpReward:1e3,completed:!0,icon:"🚀",difficulty:"hard"}],onQuestComplete:e=>{}}),a.jsx(Ol,{trigger:e,onComplete:()=>t(!1)})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(Tl,{streakCount:14}),a.jsx(El,{entries:[{id:"1",name:"Alex Chen",score:15420,level:28,badge:"👑",change:2,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face"},{id:"2",name:"Sarah Kumar",score:14890,level:26,badge:"🥈",change:-1},{id:"3",name:"Mike Johnson",score:14250,level:25,badge:"🥉",change:1},{id:"4",name:"You",score:12450,level:22,badge:"⭐",change:3},{id:"5",name:"Emma Wilson",score:11890,level:21,change:0}]})]})]}),a.jsxs("div",{className:"mt-12",children:[a.jsx(n.h2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"🏆 Achievements"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{id:"first-commit",title:"First Commit",description:"Made your first code commit",icon:"💻",rarity:"common",unlocked:!0,unlockedAt:"2 days ago"},{id:"team-player",title:"Team Player",description:"Collaborated with 5+ team members",icon:"🤝",rarity:"rare",unlocked:!0,unlockedAt:"1 week ago"},{id:"speed-demon",title:"Speed Demon",description:"Complete a challenge in under 1 hour",icon:"⚡",rarity:"epic",unlocked:!1,progress:3,maxProgress:5},{id:"hackathon-legend",title:"Hackathon Legend",description:"Win 3 hackathons in a row",icon:"🏆",rarity:"legendary",unlocked:!1,progress:1,maxProgress:3}].map((e,t)=>a.jsx(_l,{achievement:e,onClick:()=>{}},e.id))})]}),a.jsx("div",{className:"mt-12",children:a.jsx(Dl,{badges:[{id:"early-bird",name:"Early Bird",icon:"🐦",description:"Registered within first 24 hours",unlocked:!0,category:"participation",rarity:"common",unlockedAt:"3 days ago"},{id:"code-ninja",name:"Code Ninja",icon:"🥷",description:"Wrote 1000+ lines of code",unlocked:!0,category:"coding",rarity:"rare",unlockedAt:"1 day ago"},{id:"bug-hunter",name:"Bug Hunter",icon:"🐛",description:"Fixed 10 critical bugs",unlocked:!1,category:"debugging",rarity:"epic"},{id:"innovation-master",name:"Innovation Master",icon:"💡",description:"Created groundbreaking solution",unlocked:!1,category:"innovation",rarity:"legendary"}]})})]})})}function Rl(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function zl(e,t){void 0===e&&(e={}),void 0===t&&(t={});const s=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>s.indexOf(e)<0).forEach(s=>{void 0===e[s]?e[s]=t[s]:Rl(t[s])&&Rl(e[s])&&Object.keys(t[s]).length>0&&zl(e[s],t[s])})}const Bl={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Fl(){const e="undefined"!=typeof document?document:{};return zl(e,Bl),e}const Hl={document:Bl,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function Wl(){const e="undefined"!=typeof window?window:{};return zl(e,Hl),e}function $l(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Gl(){return Date.now()}function Vl(e,t){void 0===t&&(t="x");const s=Wl();let i,a,n;const r=function(e){const t=Wl();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?(a=r.transform||r.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(e=>e.replace(",",".")).join(", ")),n=new s.WebKitCSSMatrix("none"===a?"":a)):(n=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=n.toString().split(",")),"x"===t&&(a=s.WebKitCSSMatrix?n.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(a=s.WebKitCSSMatrix?n.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),a||0}function Ul(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function ql(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function Yl(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){const i=s<0||arguments.length<=s?void 0:arguments[s];if(null!=i&&!ql(i)){const s=Object.keys(Object(i)).filter(e=>t.indexOf(e)<0);for(let t=0,a=s.length;t<a;t+=1){const a=s[t],n=Object.getOwnPropertyDescriptor(i,a);void 0!==n&&n.enumerable&&(Ul(e[a])&&Ul(i[a])?i[a].__swiper__?e[a]=i[a]:Yl(e[a],i[a]):!Ul(e[a])&&Ul(i[a])?(e[a]={},i[a].__swiper__?e[a]=i[a]:Yl(e[a],i[a])):e[a]=i[a])}}}return e}function Xl(e,t,s){e.style.setProperty(t,s)}function Jl(e){let{swiper:t,targetPosition:s,side:i}=e;const a=Wl(),n=-t.translate;let r,o=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(t.cssModeFrameID);const c=s>n?"next":"prev",d=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,h=()=>{r=(new Date).getTime(),null===o&&(o=r);const e=Math.max(Math.min((r-o)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let u=n+c*(s-n);if(d(u,s)&&(u=s),t.wrapperEl.scrollTo({[i]:u}),d(u,s))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:u})}),void a.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=a.requestAnimationFrame(h)};h()}function Kl(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function Ql(e,t){void 0===t&&(t="");const s=Wl(),i=[...e.children];return s.HTMLSlotElement&&e instanceof HTMLSlotElement&&i.push(...e.assignedElements()),t?i.filter(e=>e.matches(t)):i}function Zl(e){try{return}catch(t){}}function ec(e,t){void 0===t&&(t=[]);const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter(e=>!!e.trim())}(t)),s}function tc(e,t){return Wl().getComputedStyle(e,null).getPropertyValue(t)}function sc(e){let t,s=e;if(s){for(t=0;null!==(s=s.previousSibling);)1===s.nodeType&&(t+=1);return t}}function ic(e,t){const s=[];let i=e.parentElement;for(;i;)t?i.matches(t)&&s.push(i):s.push(i),i=i.parentElement;return s}function ac(e,t,s){const i=Wl();return e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom"))}function nc(e){return(Array.isArray(e)?e:[e]).filter(e=>!!e)}function rc(e,t){void 0===t&&(t=""),"undefined"!=typeof trustedTypes?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):e.innerHTML=t}let oc,lc,cc;function dc(){return oc||(oc=function(){const e=Wl(),t=Fl();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),oc}function hc(e){return void 0===e&&(e={}),lc||(lc=function(e){let{userAgent:t}=void 0===e?{}:e;const s=dc(),i=Wl(),a=i.navigator.platform,n=t||i.navigator.userAgent,r={ios:!1,android:!1},o=i.screen.width,l=i.screen.height,c=n.match(/(Android);?[\s\/]+([\d.]+)?/);let d=n.match(/(iPad).*OS\s([\d_]+)/);const h=n.match(/(iPod)(.*OS\s([\d_]+))?/),u=!d&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===a;let m="MacIntel"===a;return!d&&m&&s.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${l}`)>=0&&(d=n.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),c&&!p&&(r.os="android",r.android=!0),(d||u||h)&&(r.os="ios",r.ios=!0),r}(e)),lc}function uc(){return cc||(cc=function(){const e=Wl(),t=hc();let s=!1;function i(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(i()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,i]=t.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));s=e<16||16===e&&i<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),n=i();return{isSafari:s||n,needPerspectiveFix:s,need3dFix:n||a&&t.ios,isWebView:a}}()),cc}const pc=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)};const mc=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)};const gc=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(s){let t=s.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(s.shadowRoot?t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())})),t&&t.remove()}},xc=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},fc=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const i="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),a=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const s=a,n=[s-t];return n.push(...Array.from({length:t}).map((e,t)=>s+i+t)),void e.slides.forEach((t,s)=>{n.includes(t.column)&&xc(e,s)})}const n=a+i-1;if(e.params.rewind||e.params.loop)for(let r=a-t;r<=n+t;r+=1){const t=(r%s+s)%s;(t<a||t>n)&&xc(e,t)}else for(let r=Math.max(a-t,0);r<=Math.min(n+t,s-1);r+=1)r!==a&&(r>n||r<a)&&xc(e,r)};var bc={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:s,translate:i,wrapperEl:a}=this;if(t.virtualTranslate)return s?-i:i;if(t.cssMode)return i;let n=Vl(a,e);return n+=this.cssOverflowAdjustment(),s&&(n=-n),n||0},setTranslate:function(e,t){const s=this,{rtlTranslate:i,params:a,wrapperEl:n,progress:r}=s;let o,l=0,c=0;s.isHorizontal()?l=i?-e:e:c=e,a.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?l:c,a.cssMode?n[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-l:-c:a.virtualTranslate||(s.isHorizontal()?l-=s.cssOverflowAdjustment():c-=s.cssOverflowAdjustment(),n.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const d=s.maxTranslate()-s.minTranslate();o=0===d?0:(e-s.minTranslate())/d,o!==r&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,s,i,a){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),void 0===i&&(i=!0);const n=this,{params:r,wrapperEl:o}=n;if(n.animating&&r.preventInteractionOnTransition)return!1;const l=n.minTranslate(),c=n.maxTranslate();let d;if(d=i&&e>l?l:i&&e<c?c:e,n.updateProgress(d),r.cssMode){const e=n.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-d;else{if(!n.support.smoothScroll)return Jl({swiper:n,targetPosition:-d,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===t?(n.setTransition(0),n.setTranslate(d),s&&(n.emit("beforeTransitionStart",t,a),n.emit("transitionEnd"))):(n.setTransition(t),n.setTranslate(d),s&&(n.emit("beforeTransitionStart",t,a),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(e){n&&!n.destroyed&&e.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,n.animating=!1,s&&n.emit("transitionEnd"))}),n.wrapperEl.addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd))),!0}};function vc(e){let{swiper:t,runCallbacks:s,direction:i,step:a}=e;const{activeIndex:n,previousIndex:r}=t;let o=i;o||(o=n>r?"next":n<r?"prev":"reset"),t.emit(`transition${a}`),s&&"reset"===o?t.emit(`slideResetTransition${a}`):s&&n!==r&&(t.emit(`slideChangeTransition${a}`),"next"===o?t.emit(`slideNextTransition${a}`):t.emit(`slidePrevTransition${a}`))}function yc(e,t,s){const i=Wl(),{params:a}=e,n=a.edgeSwipeDetection,r=a.edgeSwipeThreshold;return!n||!(s<=r||s>=i.innerWidth-r)||"prevent"===n&&(t.preventDefault(),!0)}function wc(e){const t=this,s=Fl();let i=e;i.originalEvent&&(i=i.originalEvent);const a=t.touchEventsData;if("pointerdown"===i.type){if(null!==a.pointerId&&a.pointerId!==i.pointerId)return;a.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(a.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void yc(t,i,i.targetTouches[0].pageX);const{params:n,touches:r,enabled:o}=t;if(!o)return;if(!n.simulateTouch&&"mouse"===i.pointerType)return;if(t.animating&&n.preventInteractionOnTransition)return;!t.animating&&n.cssMode&&n.loop&&t.loopFix();let l=i.target;if("wrapper"===n.touchEventsTarget&&!function(e,t){const s=Wl();let i=t.contains(e);!i&&s.HTMLSlotElement&&t instanceof HTMLSlotElement&&(i=[...t.assignedElements()].includes(e),i||(i=function(e,t){const s=[t];for(;s.length>0;){const t=s.shift();if(e===t)return!0;s.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t)));return i}(l,t.wrapperEl))return;if("which"in i&&3===i.which)return;if("button"in i&&i.button>0)return;if(a.isTouched&&a.isMoved)return;const c=!!n.noSwipingClass&&""!==n.noSwipingClass,d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);const h=n.noSwipingSelector?n.noSwipingSelector:`.${n.noSwipingClass}`,u=!(!i.target||!i.target.shadowRoot);if(n.noSwiping&&(u?function(e,t){return void 0===t&&(t=this),function t(s){if(!s||s===Fl()||s===Wl())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(e);return i||s.getRootNode?i||t(s.getRootNode().host):null}(t)}(h,l):l.closest(h)))return void(t.allowClick=!0);if(n.swipeHandler&&!l.closest(n.swipeHandler))return;r.currentX=i.pageX,r.currentY=i.pageY;const p=r.currentX,m=r.currentY;if(!yc(t,i,p))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),r.startX=p,r.startY=m,a.touchStartTime=Gl(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,n.threshold>0&&(a.allowThresholdMove=!1);let g=!0;l.matches(a.focusableElements)&&(g=!1,"SELECT"===l.nodeName&&(a.isTouched=!1)),s.activeElement&&s.activeElement.matches(a.focusableElements)&&s.activeElement!==l&&("mouse"===i.pointerType||"mouse"!==i.pointerType&&!l.matches(a.focusableElements))&&s.activeElement.blur();const x=g&&t.allowTouchMove&&n.touchStartPreventDefault;!n.touchStartForcePreventDefault&&!x||l.isContentEditable||i.preventDefault(),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.animating&&!n.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function jc(e){const t=Fl(),s=this,i=s.touchEventsData,{params:a,touches:n,rtlTranslate:r,enabled:o}=s;if(!o)return;if(!a.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==i.touchId)return;if(c.pointerId!==i.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find(e=>e.identifier===i.touchId),!l||l.identifier!==i.touchId)return}else l=c;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&s.emit("touchMoveOpposite",c));const d=l.pageX,h=l.pageY;if(c.preventedByNestedSwiper)return n.startX=d,void(n.startY=h);if(!s.allowTouchMove)return c.target.matches(i.focusableElements)||(s.allowClick=!1),void(i.isTouched&&(Object.assign(n,{startX:d,startY:h,currentX:d,currentY:h}),i.touchStartTime=Gl()));if(a.touchReleaseOnEdges&&!a.loop)if(s.isVertical()){if(h<n.startY&&s.translate<=s.maxTranslate()||h>n.startY&&s.translate>=s.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else{if(r&&(d>n.startX&&-s.translate<=s.maxTranslate()||d<n.startX&&-s.translate>=s.minTranslate()))return;if(!r&&(d<n.startX&&s.translate<=s.maxTranslate()||d>n.startX&&s.translate>=s.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(i.focusableElements))return i.isMoved=!0,void(s.allowClick=!1);i.allowTouchCallbacks&&s.emit("touchMove",c),n.previousX=n.currentX,n.previousY=n.currentY,n.currentX=d,n.currentY=h;const u=n.currentX-n.startX,p=n.currentY-n.startY;if(s.params.threshold&&Math.sqrt(u**2+p**2)<s.params.threshold)return;if(void 0===i.isScrolling){let e;s.isHorizontal()&&n.currentY===n.startY||s.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:u*u+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(u))/Math.PI,i.isScrolling=s.isHorizontal()?e>a.touchAngle:90-e>a.touchAngle)}if(i.isScrolling&&s.emit("touchMoveOpposite",c),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling||"touchmove"===c.type&&i.preventTouchMoveFromPointerMove)return void(i.isTouched=!1);if(!i.startMoving)return;s.allowClick=!1,!a.cssMode&&c.cancelable&&c.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&c.stopPropagation();let m=s.isHorizontal()?u:p,g=s.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;a.oneWayMovement&&(m=Math.abs(m)*(r?1:-1),g=Math.abs(g)*(r?1:-1)),n.diff=m,m*=a.touchRatio,r&&(m=-m,g=-g);const x=s.touchesDirection;s.swipeDirection=m>0?"prev":"next",s.touchesDirection=g>0?"prev":"next";const f=s.params.loop&&!a.cssMode,b="next"===s.touchesDirection&&s.allowSlideNext||"prev"===s.touchesDirection&&s.allowSlidePrev;if(!i.isMoved){if(f&&b&&s.loopFix({direction:s.swipeDirection}),i.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});s.wrapperEl.dispatchEvent(e)}i.allowMomentumBounce=!1,!a.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==a._loopSwapReset&&i.isMoved&&i.allowThresholdMove&&x!==s.touchesDirection&&f&&b&&Math.abs(m)>=1)return Object.assign(n,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);s.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=m+i.startTranslate;let v=!0,y=a.resistanceRatio;if(a.touchReleaseOnEdges&&(y=0),m>0?(f&&b&&i.allowThresholdMove&&i.currentTranslate>(a.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]-("auto"!==a.slidesPerView&&s.slides.length-a.slidesPerView>=2?s.slidesSizesGrid[s.activeIndex+1]+s.params.spaceBetween:0)-s.params.spaceBetween:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>s.minTranslate()&&(v=!1,a.resistance&&(i.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+i.startTranslate+m)**y))):m<0&&(f&&b&&i.allowThresholdMove&&i.currentTranslate<(a.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween+("auto"!==a.slidesPerView&&s.slides.length-a.slidesPerView>=2?s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween:0):s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-("auto"===a.slidesPerView?s.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),i.currentTranslate<s.maxTranslate()&&(v=!1,a.resistance&&(i.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-i.startTranslate-m)**y))),v&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),s.allowSlidePrev||s.allowSlideNext||(i.currentTranslate=i.startTranslate),a.threshold>0){if(!(Math.abs(m)>a.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=s.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}a.followFinger&&!a.cssMode&&((a.freeMode&&a.freeMode.enabled&&s.freeMode||a.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(i.currentTranslate),s.setTranslate(i.currentTranslate))}function Nc(e){const t=this,s=t.touchEventsData;let i,a=e;a.originalEvent&&(a=a.originalEvent);if("touchend"===a.type||"touchcancel"===a.type){if(i=[...a.changedTouches].find(e=>e.identifier===s.touchId),!i||i.identifier!==s.touchId)return}else{if(null!==s.touchId)return;if(a.pointerId!==s.pointerId)return;i=a}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(a.type)){if(!(["pointercancel","contextmenu"].includes(a.type)&&(t.browser.isSafari||t.browser.isWebView)))return}s.pointerId=null,s.touchId=null;const{params:n,touches:r,rtlTranslate:o,slidesGrid:l,enabled:c}=t;if(!c)return;if(!n.simulateTouch&&"mouse"===a.pointerType)return;if(s.allowTouchCallbacks&&t.emit("touchEnd",a),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&n.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);n.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=Gl(),h=d-s.touchStartTime;if(t.allowClick){const e=a.path||a.composedPath&&a.composedPath();t.updateClickedSlide(e&&e[0]||a.target,e),t.emit("tap click",a),h<300&&d-s.lastClickTime<300&&t.emit("doubleTap doubleClick",a)}if(s.lastClickTime=Gl(),$l(()=>{t.destroyed||(t.allowClick=!0)}),!s.isTouched||!s.isMoved||!t.swipeDirection||0===r.diff&&!s.loopSwapReset||s.currentTranslate===s.startTranslate&&!s.loopSwapReset)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let u;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,u=n.followFinger?o?t.translate:-t.translate:-s.currentTranslate,n.cssMode)return;if(n.freeMode&&n.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:u});const p=u>=-t.maxTranslate()&&!t.params.loop;let m=0,g=t.slidesSizesGrid[0];for(let y=0;y<l.length;y+=y<n.slidesPerGroupSkip?1:n.slidesPerGroup){const e=y<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;void 0!==l[y+e]?(p||u>=l[y]&&u<l[y+e])&&(m=y,g=l[y+e]-l[y]):(p||u>=l[y])&&(m=y,g=l[l.length-1]-l[l.length-2])}let x=null,f=null;n.rewind&&(t.isBeginning?f=n.virtual&&n.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(x=0));const b=(u-l[m])/g,v=m<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(h>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(b>=n.longSwipesRatio?t.slideTo(n.rewind&&t.isEnd?x:m+v):t.slideTo(m)),"prev"===t.swipeDirection&&(b>1-n.longSwipesRatio?t.slideTo(m+v):null!==f&&b<0&&Math.abs(b)>n.longSwipesRatio?t.slideTo(f):t.slideTo(m))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(a.target===t.navigation.nextEl||a.target===t.navigation.prevEl)?a.target===t.navigation.nextEl?t.slideTo(m+v):t.slideTo(m):("next"===t.swipeDirection&&t.slideTo(null!==x?x:m+v),"prev"===t.swipeDirection&&t.slideTo(null!==f?f:m))}}function kc(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:a,snapGrid:n}=e,r=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const o=r&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!r?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=a,e.allowSlideNext=i,e.params.watchOverflow&&n!==e.snapGrid&&e.checkOverflow()}function Sc(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Cc(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:i}=e;if(!i)return;let a;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const n=e.maxTranslate()-e.minTranslate();a=0===n?0:(e.translate-e.minTranslate())/n,a!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function Mc(e){const t=this;gc(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function Ic(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Tc=(e,t)=>{const s=Fl(),{params:i,el:a,wrapperEl:n,device:r}=e,o=!!i.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;a&&"string"!=typeof a&&(s[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:o}),a[l]("touchstart",e.onTouchStart,{passive:!1}),a[l]("pointerdown",e.onTouchStart,{passive:!1}),s[l]("touchmove",e.onTouchMove,{passive:!1,capture:o}),s[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),s[l]("touchend",e.onTouchEnd,{passive:!0}),s[l]("pointerup",e.onTouchEnd,{passive:!0}),s[l]("pointercancel",e.onTouchEnd,{passive:!0}),s[l]("touchcancel",e.onTouchEnd,{passive:!0}),s[l]("pointerout",e.onTouchEnd,{passive:!0}),s[l]("pointerleave",e.onTouchEnd,{passive:!0}),s[l]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&a[l]("click",e.onClick,!0),i.cssMode&&n[l]("scroll",e.onScroll),i.updateOnWindowResize?e[c](r.ios||r.android?"resize orientationchange observerUpdate":"resize observerUpdate",kc,!0):e[c]("observerUpdate",kc,!0),a[l]("load",e.onLoad,{capture:!0}))};const Ec=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var _c={setBreakpoint:function(){const e=this,{realIndex:t,initialized:s,params:i,el:a}=e,n=i.breakpoints;if(!n||n&&0===Object.keys(n).length)return;const r=Fl(),o="window"!==i.breakpointsBase&&i.breakpointsBase?"container":i.breakpointsBase,l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?e.el:r.querySelector(i.breakpointsBase),c=e.getBreakpoint(n,o,l);if(!c||e.currentBreakpoint===c)return;const d=(c in n?n[c]:void 0)||e.originalParams,h=Ec(e,i),u=Ec(e,d),p=e.params.grabCursor,m=d.grabCursor,g=i.enabled;h&&!u?(a.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!h&&u&&(a.classList.add(`${i.containerModifierClass}grid`),(d.grid.fill&&"column"===d.grid.fill||!d.grid.fill&&"column"===i.grid.fill)&&a.classList.add(`${i.containerModifierClass}grid-column`),e.emitContainerClasses()),p&&!m?e.unsetGrabCursor():!p&&m&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===d[t])return;const s=i[t]&&i[t].enabled,a=d[t]&&d[t].enabled;s&&!a&&e[t].disable(),!s&&a&&e[t].enable()});const x=d.direction&&d.direction!==i.direction,f=i.loop&&(d.slidesPerView!==i.slidesPerView||x),b=i.loop;x&&s&&e.changeDirection(),Yl(e.params,d);const v=e.params.enabled,y=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),g&&!v?e.disable():!g&&v&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",d),s&&(f?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!b&&y?(e.loopCreate(t),e.updateSlides()):b&&!y&&e.loopDestroy()),e.emit("breakpoint",d)},getBreakpoint:function(e,t,s){if(void 0===t&&(t="window"),!e||"container"===t&&!s)return;let i=!1;const a=Wl(),n="window"===t?a.innerHeight:s.clientHeight,r=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:n*t,point:e}}return{value:e,point:e}});r.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let o=0;o<r.length;o+=1){const{point:e,value:n}=r[o];"window"===t?a.matchMedia(`(min-width: ${n}px)`).matches&&(i=e):n<=s.clientWidth&&(i=e)}return i||"max"}};var Dc={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Pc(e,t){return function(s){void 0===s&&(s={});const i=Object.keys(s)[0],a=s[i];"object"==typeof a&&null!==a?(!0===e[i]&&(e[i]={enabled:!0}),"navigation"===i&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),i in e&&"enabled"in a?("object"!=typeof e[i]||"enabled"in e[i]||(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),Yl(t,s)):Yl(t,s)):Yl(t,s)}}const Ac={eventsEmitter:{on(e,t,s){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;const a=s?"unshift":"push";return e.split(" ").forEach(e=>{i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][a](t)}),i},once(e,t,s){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;function a(){i.off(e,a),a.__emitterProxy&&delete a.__emitterProxy;for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];t.apply(i,n)}return a.__emitterProxy=t,i.on(e,a,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof e)return s;const i=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[i](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed?s:s.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach((i,a)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&s.eventsListeners[e].splice(a,1)})}),s):s},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,s,i;for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];"string"==typeof n[0]||Array.isArray(n[0])?(t=n[0],s=n.slice(1,n.length),i=e):(t=n[0].events,s=n[0].data,i=n[0].context||e),s.unshift(i);return(Array.isArray(t)?t:t.split(" ")).forEach(t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(e=>{e.apply(i,[t,...s])}),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach(e=>{e.apply(i,s)})}),e}},update:{updateSize:function(){const e=this;let t,s;const i=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:i.clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:i.clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(tc(i,"padding-left")||0,10)-parseInt(tc(i,"padding-right")||0,10),s=s-parseInt(tc(i,"padding-top")||0,10)-parseInt(tc(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t,s){return parseFloat(t.getPropertyValue(e.getDirectionLabel(s))||0)}const s=e.params,{wrapperEl:i,slidesEl:a,size:n,rtlTranslate:r,wrongRTL:o}=e,l=e.virtual&&s.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,d=Ql(a,`.${e.params.slideClass}, swiper-slide`),h=l?e.virtual.slides.length:d.length;let u=[];const p=[],m=[];let g=s.slidesOffsetBefore;"function"==typeof g&&(g=s.slidesOffsetBefore.call(e));let x=s.slidesOffsetAfter;"function"==typeof x&&(x=s.slidesOffsetAfter.call(e));const f=e.snapGrid.length,b=e.slidesGrid.length;let v=s.spaceBetween,y=-g,w=0,j=0;if(void 0===n)return;"string"==typeof v&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*n:"string"==typeof v&&(v=parseFloat(v)),e.virtualSize=-v,d.forEach(e=>{r?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),s.centeredSlides&&s.cssMode&&(Xl(i,"--swiper-centered-offset-before",""),Xl(i,"--swiper-centered-offset-after",""));const N=s.grid&&s.grid.rows>1&&e.grid;let k;N?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();const S="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(e=>void 0!==s.breakpoints[e].slidesPerView).length>0;for(let C=0;C<h;C+=1){let i;if(k=0,d[C]&&(i=d[C]),N&&e.grid.updateSlide(C,i,d),!d[C]||"none"!==tc(i,"display")){if("auto"===s.slidesPerView){S&&(d[C].style[e.getDirectionLabel("width")]="");const a=getComputedStyle(i),n=i.style.transform,r=i.style.webkitTransform;if(n&&(i.style.transform="none"),r&&(i.style.webkitTransform="none"),s.roundLengths)k=e.isHorizontal()?ac(i,"width"):ac(i,"height");else{const e=t(a,"width"),s=t(a,"padding-left"),n=t(a,"padding-right"),r=t(a,"margin-left"),o=t(a,"margin-right"),l=a.getPropertyValue("box-sizing");if(l&&"border-box"===l)k=e+r+o;else{const{clientWidth:t,offsetWidth:a}=i;k=e+s+n+r+o+(a-t)}}n&&(i.style.transform=n),r&&(i.style.webkitTransform=r),s.roundLengths&&(k=Math.floor(k))}else k=(n-(s.slidesPerView-1)*v)/s.slidesPerView,s.roundLengths&&(k=Math.floor(k)),d[C]&&(d[C].style[e.getDirectionLabel("width")]=`${k}px`);d[C]&&(d[C].swiperSlideSize=k),m.push(k),s.centeredSlides?(y=y+k/2+w/2+v,0===w&&0!==C&&(y=y-n/2-v),0===C&&(y=y-n/2-v),Math.abs(y)<.001&&(y=0),s.roundLengths&&(y=Math.floor(y)),j%s.slidesPerGroup===0&&u.push(y),p.push(y)):(s.roundLengths&&(y=Math.floor(y)),(j-Math.min(e.params.slidesPerGroupSkip,j))%e.params.slidesPerGroup===0&&u.push(y),p.push(y),y=y+k+v),e.virtualSize+=k+v,w=k,j+=1}}if(e.virtualSize=Math.max(e.virtualSize,n)+x,r&&o&&("slide"===s.effect||"coverflow"===s.effect)&&(i.style.width=`${e.virtualSize+v}px`),s.setWrapperSize&&(i.style[e.getDirectionLabel("width")]=`${e.virtualSize+v}px`),N&&e.grid.updateWrapperSize(k,u),!s.centeredSlides){const t=[];for(let i=0;i<u.length;i+=1){let a=u[i];s.roundLengths&&(a=Math.floor(a)),u[i]<=e.virtualSize-n&&t.push(a)}u=t,Math.floor(e.virtualSize-n)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-n)}if(l&&s.loop){const t=m[0]+v;if(s.slidesPerGroup>1){const i=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/s.slidesPerGroup),a=t*s.slidesPerGroup;for(let e=0;e<i;e+=1)u.push(u[u.length-1]+a)}for(let i=0;i<e.virtual.slidesBefore+e.virtual.slidesAfter;i+=1)1===s.slidesPerGroup&&u.push(u[u.length-1]+t),p.push(p[p.length-1]+t),e.virtualSize+=t}if(0===u.length&&(u=[0]),0!==v){const t=e.isHorizontal()&&r?"marginLeft":e.getDirectionLabel("marginRight");d.filter((e,t)=>!(s.cssMode&&!s.loop)||t!==d.length-1).forEach(e=>{e.style[t]=`${v}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let e=0;m.forEach(t=>{e+=t+(v||0)}),e-=v;const t=e>n?e-n:0;u=u.map(e=>e<=0?-g:e>t?t+x:e)}if(s.centerInsufficientSlides){let e=0;m.forEach(t=>{e+=t+(v||0)}),e-=v;const t=(s.slidesOffsetBefore||0)+(s.slidesOffsetAfter||0);if(e+t<n){const s=(n-e-t)/2;u.forEach((e,t)=>{u[t]=e-s}),p.forEach((e,t)=>{p[t]=e+s})}}if(Object.assign(e,{slides:d,snapGrid:u,slidesGrid:p,slidesSizesGrid:m}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){Xl(i,"--swiper-centered-offset-before",-u[0]+"px"),Xl(i,"--swiper-centered-offset-after",e.size/2-m[m.length-1]/2+"px");const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+s)}if(h!==c&&e.emit("slidesLengthChange"),u.length!==f&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==b&&e.emit("slidesGridLengthChange"),s.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||s.cssMode||"slide"!==s.effect&&"fade"!==s.effect)){const t=`${s.containerModifierClass}backface-hidden`,i=e.el.classList.contains(t);h<=s.maxBackfaceHiddenSlides?i||e.el.classList.add(t):i&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,s=[],i=t.virtual&&t.params.virtual.enabled;let a,n=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const r=e=>i?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(e=>{s.push(e)});else for(a=0;a<Math.ceil(t.params.slidesPerView);a+=1){const e=t.activeIndex+a;if(e>t.slides.length&&!i)break;s.push(r(e))}else s.push(r(t.activeIndex));for(a=0;a<s.length;a+=1)if(void 0!==s[a]){const e=s[a].offsetHeight;n=e>n?e:n}(n||0===n)&&(t.wrapperEl.style.height=`${n}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-s-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,s=t.params,{slides:i,rtlTranslate:a,snapGrid:n}=t;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();let r=-e;a&&(r=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=s.spaceBetween;"string"==typeof o&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:"string"==typeof o&&(o=parseFloat(o));for(let l=0;l<i.length;l+=1){const e=i[l];let c=e.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(c-=i[0].swiperSlideOffset);const d=(r+(s.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),h=(r-n[0]+(s.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),u=-(r-c),p=u+t.slidesSizesGrid[l],m=u>=0&&u<=t.size-t.slidesSizesGrid[l],g=u>=0&&u<t.size-1||p>1&&p<=t.size||u<=0&&p>=t.size;g&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l)),pc(e,g,s.slideVisibleClass),pc(e,m,s.slideFullyVisibleClass),e.progress=a?-d:d,e.originalProgress=a?-h:h}},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:a,isBeginning:n,isEnd:r,progressLoop:o}=t;const l=n,c=r;if(0===i)a=0,n=!0,r=!0;else{a=(e-t.minTranslate())/i;const s=Math.abs(e-t.minTranslate())<1,o=Math.abs(e-t.maxTranslate())<1;n=s||a<=0,r=o||a>=1,s&&(a=0),o&&(a=1)}if(s.loop){const s=t.getSlideIndexByData(0),i=t.getSlideIndexByData(t.slides.length-1),a=t.slidesGrid[s],n=t.slidesGrid[i],r=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);o=l>=a?(l-a)/r:(l+r-n)/r,o>1&&(o-=1)}Object.assign(t,{progress:a,progressLoop:o,isBeginning:n,isEnd:r}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),n&&!l&&t.emit("reachBeginning toEdge"),r&&!c&&t.emit("reachEnd toEdge"),(l&&!n||c&&!r)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,slidesEl:i,activeIndex:a}=e,n=e.virtual&&s.virtual.enabled,r=e.grid&&s.grid&&s.grid.rows>1,o=e=>Ql(i,`.${s.slideClass}${e}, swiper-slide${e}`)[0];let l,c,d;if(n)if(s.loop){let t=a-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=o(`[data-swiper-slide-index="${t}"]`)}else l=o(`[data-swiper-slide-index="${a}"]`);else r?(l=t.find(e=>e.column===a),d=t.find(e=>e.column===a+1),c=t.find(e=>e.column===a-1)):l=t[a];l&&(r||(d=function(e,t){const s=[];for(;e.nextElementSibling;){const i=e.nextElementSibling;t?i.matches(t)&&s.push(i):s.push(i),e=i}return s}(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!d&&(d=t[0]),c=function(e,t){const s=[];for(;e.previousElementSibling;){const i=e.previousElementSibling;t?i.matches(t)&&s.push(i):s.push(i),e=i}return s}(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(e=>{mc(e,e===l,s.slideActiveClass),mc(e,e===d,s.slideNextClass),mc(e,e===c,s.slidePrevClass)}),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:a,activeIndex:n,realIndex:r,snapIndex:o}=t;let l,c=e;const d=e=>{let s=e-t.virtual.slidesBefore;return s<0&&(s=t.virtual.slides.length+s),s>=t.virtual.slides.length&&(s-=t.virtual.slides.length),s};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:s}=e,i=e.rtlTranslate?e.translate:-e.translate;let a;for(let n=0;n<t.length;n+=1)void 0!==t[n+1]?i>=t[n]&&i<t[n+1]-(t[n+1]-t[n])/2?a=n:i>=t[n]&&i<t[n+1]&&(a=n+1):i>=t[n]&&(a=n);return s.normalizeSlideIndex&&(a<0||void 0===a)&&(a=0),a}(t)),i.indexOf(s)>=0)l=i.indexOf(s);else{const e=Math.min(a.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/a.slidesPerGroup)}if(l>=i.length&&(l=i.length-1),c===n&&!t.params.loop)return void(l!==o&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===n&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=d(c));const h=t.grid&&a.grid&&a.grid.rows>1;let u;if(t.virtual&&a.virtual.enabled&&a.loop)u=d(c);else if(h){const e=t.slides.find(e=>e.column===c);let s=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(s)&&(s=Math.max(t.slides.indexOf(e),0)),u=Math.floor(s/a.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");u=e?parseInt(e,10):c}else u=c;Object.assign(t,{previousSnapIndex:o,snapIndex:l,previousRealIndex:r,realIndex:u,previousIndex:n,activeIndex:c}),t.initialized&&fc(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(r!==u&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const s=this,i=s.params;let a=e.closest(`.${i.slideClass}, swiper-slide`);!a&&s.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(e=>{!a&&e.matches&&e.matches(`.${i.slideClass}, swiper-slide`)&&(a=e)});let n,r=!1;if(a)for(let o=0;o<s.slides.length;o+=1)if(s.slides[o]===a){r=!0,n=o;break}if(!a||!r)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);s.clickedSlide=a,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=n,i.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}},translate:bc,transition:{setTransition:function(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`,s.wrapperEl.style.transitionDelay=0===e?"0ms":""),s.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const s=this,{params:i}=s;i.cssMode||(i.autoHeight&&s.updateAutoHeight(),vc({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const s=this,{params:i}=s;s.animating=!1,i.cssMode||(s.setTransition(0),vc({swiper:s,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(e,t,s,i,a){void 0===e&&(e=0),void 0===s&&(s=!0),"string"==typeof e&&(e=parseInt(e,10));const n=this;let r=e;r<0&&(r=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:h,rtlTranslate:u,wrapperEl:p,enabled:m}=n;if(!m&&!i&&!a||n.destroyed||n.animating&&o.preventInteractionOnTransition)return!1;void 0===t&&(t=n.params.speed);const g=Math.min(n.params.slidesPerGroupSkip,r);let x=g+Math.floor((r-g)/n.params.slidesPerGroup);x>=l.length&&(x=l.length-1);const f=-l[x];if(o.normalizeSlideIndex)for(let w=0;w<c.length;w+=1){const e=-Math.floor(100*f),t=Math.floor(100*c[w]),s=Math.floor(100*c[w+1]);void 0!==c[w+1]?e>=t&&e<s-(s-t)/2?r=w:e>=t&&e<s&&(r=w+1):e>=t&&(r=w)}if(n.initialized&&r!==h){if(!n.allowSlideNext&&(u?f>n.translate&&f>n.minTranslate():f<n.translate&&f<n.minTranslate()))return!1;if(!n.allowSlidePrev&&f>n.translate&&f>n.maxTranslate()&&(h||0)!==r)return!1}let b;r!==(d||0)&&s&&n.emit("beforeSlideChangeStart"),n.updateProgress(f),b=r>h?"next":r<h?"prev":"reset";const v=n.virtual&&n.params.virtual.enabled;if(!(v&&a)&&(u&&-f===n.translate||!u&&f===n.translate))return n.updateActiveIndex(r),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),"slide"!==o.effect&&n.setTranslate(f),"reset"!==b&&(n.transitionStart(s,b),n.transitionEnd(s,b)),!1;if(o.cssMode){const e=n.isHorizontal(),s=u?f:-f;if(0===t)v&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),v&&!n._cssModeVirtualInitialSet&&n.params.initialSlide>0?(n._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[e?"scrollLeft":"scrollTop"]=s})):p[e?"scrollLeft":"scrollTop"]=s,v&&requestAnimationFrame(()=>{n.wrapperEl.style.scrollSnapType="",n._immediateVirtual=!1});else{if(!n.support.smoothScroll)return Jl({swiper:n,targetPosition:s,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:s,behavior:"smooth"})}return!0}const y=uc().isSafari;return v&&!a&&y&&n.isElement&&n.virtual.update(!1,!1,r),n.setTransition(t),n.setTranslate(f),n.updateActiveIndex(r),n.updateSlidesClasses(),n.emit("beforeTransitionStart",t,i),n.transitionStart(s,b),0===t?n.transitionEnd(s,b):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(e){n&&!n.destroyed&&e.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(s,b))}),n.wrapperEl.addEventListener("transitionend",n.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,s,i){if(void 0===e&&(e=0),void 0===s&&(s=!0),"string"==typeof e){e=parseInt(e,10)}const a=this;if(a.destroyed)return;void 0===t&&(t=a.params.speed);const n=a.grid&&a.params.grid&&a.params.grid.rows>1;let r=e;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)r+=a.virtual.slidesBefore;else{let e;if(n){const t=r*a.params.grid.rows;e=a.slides.find(e=>1*e.getAttribute("data-swiper-slide-index")===t).column}else e=a.getSlideIndexByData(r);const t=n?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:s}=a.params;let o=a.params.slidesPerView;"auto"===o?o=a.slidesPerViewDynamic():(o=Math.ceil(parseFloat(a.params.slidesPerView,10)),s&&o%2==0&&(o+=1));let l=t-e<o;if(s&&(l=l||e<Math.ceil(o/2)),i&&s&&"auto"!==a.params.slidesPerView&&!n&&(l=!1),l){const i=s?e<a.activeIndex?"prev":"next":e-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:i,slideTo:!0,activeSlideIndex:"next"===i?e+1:e-t+1,slideRealIndex:"next"===i?a.realIndex:void 0})}if(n){const e=r*a.params.grid.rows;r=a.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e).column}else r=a.getSlideIndexByData(r)}return requestAnimationFrame(()=>{a.slideTo(r,t,s,i)}),a},slideNext:function(e,t,s){void 0===t&&(t=!0);const i=this,{enabled:a,params:n,animating:r}=i;if(!a||i.destroyed)return i;void 0===e&&(e=i.params.speed);let o=n.slidesPerGroup;"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<n.slidesPerGroupSkip?1:o,c=i.virtual&&n.virtual.enabled;if(n.loop){if(r&&!c&&n.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&n.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,e,t,s)}),!0}return n.rewind&&i.isEnd?i.slideTo(0,e,t,s):i.slideTo(i.activeIndex+l,e,t,s)},slidePrev:function(e,t,s){void 0===t&&(t=!0);const i=this,{params:a,snapGrid:n,slidesGrid:r,rtlTranslate:o,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;void 0===e&&(e=i.params.speed);const d=i.virtual&&a.virtual.enabled;if(a.loop){if(c&&!d&&a.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function h(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const u=h(o?i.translate:-i.translate),p=n.map(e=>h(e)),m=a.freeMode&&a.freeMode.enabled;let g=n[p.indexOf(u)-1];if(void 0===g&&(a.cssMode||m)){let e;n.forEach((t,s)=>{u>=t&&(e=s)}),void 0!==e&&(g=m?n[e]:n[e>0?e-1:e])}let x=0;if(void 0!==g&&(x=r.indexOf(g),x<0&&(x=i.activeIndex-1),"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(x=x-i.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),a.rewind&&i.isBeginning){const a=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(a,e,t,s)}return a.loop&&0===i.activeIndex&&a.cssMode?(requestAnimationFrame(()=>{i.slideTo(x,e,t,s)}),!0):i.slideTo(x,e,t,s)},slideReset:function(e,t,s){void 0===t&&(t=!0);const i=this;if(!i.destroyed)return void 0===e&&(e=i.params.speed),i.slideTo(i.activeIndex,e,t,s)},slideToClosest:function(e,t,s,i){void 0===t&&(t=!0),void 0===i&&(i=.5);const a=this;if(a.destroyed)return;void 0===e&&(e=a.params.speed);let n=a.activeIndex;const r=Math.min(a.params.slidesPerGroupSkip,n),o=r+Math.floor((n-r)/a.params.slidesPerGroup),l=a.rtlTranslate?a.translate:-a.translate;if(l>=a.snapGrid[o]){const e=a.snapGrid[o];l-e>(a.snapGrid[o+1]-e)*i&&(n+=a.params.slidesPerGroup)}else{const e=a.snapGrid[o-1];l-e<=(a.snapGrid[o]-e)*i&&(n-=a.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,a.slidesGrid.length-1),a.slideTo(n,e,t,s)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:s}=e,i="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let a,n=e.getSlideIndexWhenGrid(e.clickedIndex);const r=e.isElement?"swiper-slide":`.${t.slideClass}`,o=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;a=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(a):n>(o?(e.slides.length-i)/2-(e.params.grid.rows-1):e.slides.length-i)?(e.loopFix(),n=e.getSlideIndex(Ql(s,`${r}[data-swiper-slide-index="${a}"]`)[0]),$l(()=>{e.slideTo(n)})):e.slideTo(n)}else e.slideTo(n)}},loop:{loopCreate:function(e,t){const s=this,{params:i,slidesEl:a}=s;if(!i.loop||s.virtual&&s.params.virtual.enabled)return;const n=()=>{Ql(a,`.${i.slideClass}, swiper-slide`).forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})},r=s.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||r)&&(()=>{const e=Ql(a,`.${i.slideBlankClass}`);e.forEach(e=>{e.remove()}),e.length>0&&(s.recalcSlides(),s.updateSlides())})();const o=i.slidesPerGroup*(r?i.grid.rows:1),l=s.slides.length%o!==0,c=r&&s.slides.length%i.grid.rows!==0,d=e=>{for(let t=0;t<e;t+=1){const e=s.isElement?ec("swiper-slide",[i.slideBlankClass]):ec("div",[i.slideClass,i.slideBlankClass]);s.slidesEl.append(e)}};if(l){if(i.loopAddBlankSlides){d(o-s.slides.length%o),s.recalcSlides(),s.updateSlides()}else Zl();n()}else if(c){if(i.loopAddBlankSlides){d(i.grid.rows-s.slides.length%i.grid.rows),s.recalcSlides(),s.updateSlides()}else Zl();n()}else n();s.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next",initial:t})},loopFix:function(e){let{slideRealIndex:t,slideTo:s=!0,direction:i,setTranslate:a,activeSlideIndex:n,initial:r,byController:o,byMousewheel:l}=void 0===e?{}:e;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:u,slidesEl:p,params:m}=c,{centeredSlides:g,initialSlide:x}=m;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&m.virtual.enabled)return s&&(m.centeredSlides||0!==c.snapIndex?m.centeredSlides&&c.snapIndex<m.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0):c.slideTo(c.virtual.slides.length,0,!1,!0)),c.allowSlidePrev=h,c.allowSlideNext=u,void c.emit("loopFix");let f=m.slidesPerView;"auto"===f?f=c.slidesPerViewDynamic():(f=Math.ceil(parseFloat(m.slidesPerView,10)),g&&f%2==0&&(f+=1));const b=m.slidesPerGroupAuto?f:m.slidesPerGroup;let v=g?Math.max(b,Math.ceil(f/2)):b;v%b!==0&&(v+=b-v%b),v+=m.loopAdditionalSlides,c.loopedSlides=v;const y=c.grid&&m.grid&&m.grid.rows>1;(d.length<f+v||"cards"===c.params.effect&&d.length<f+2*v||y&&"row"===m.grid.fill)&&Zl();const w=[],j=[],N=y?Math.ceil(d.length/m.grid.rows):d.length,k=r&&N-x<f&&!g;let S=k?x:c.activeIndex;void 0===n?n=c.getSlideIndex(d.find(e=>e.classList.contains(m.slideActiveClass))):S=n;const C="next"===i||!i,M="prev"===i||!i;let I=0,T=0;const E=(y?d[n].column:n)+(g&&void 0===a?-f/2+.5:0);if(E<v){I=Math.max(v-E,b);for(let e=0;e<v-E;e+=1){const t=e-Math.floor(e/N)*N;if(y){const e=N-t-1;for(let t=d.length-1;t>=0;t-=1)d[t].column===e&&w.push(t)}else w.push(N-t-1)}}else if(E+f>N-v){T=Math.max(E-(N-2*v),b),k&&(T=Math.max(T,f-N+x+1));for(let e=0;e<T;e+=1){const t=e-Math.floor(e/N)*N;y?d.forEach((e,s)=>{e.column===t&&j.push(s)}):j.push(t)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),"cards"===c.params.effect&&d.length<f+2*v&&(j.includes(n)&&j.splice(j.indexOf(n),1),w.includes(n)&&w.splice(w.indexOf(n),1)),M&&w.forEach(e=>{d[e].swiperLoopMoveDOM=!0,p.prepend(d[e]),d[e].swiperLoopMoveDOM=!1}),C&&j.forEach(e=>{d[e].swiperLoopMoveDOM=!0,p.append(d[e]),d[e].swiperLoopMoveDOM=!1}),c.recalcSlides(),"auto"===m.slidesPerView?c.updateSlides():y&&(w.length>0&&M||j.length>0&&C)&&c.slides.forEach((e,t)=>{c.grid.updateSlide(t,e,c.slides)}),m.watchSlidesProgress&&c.updateSlidesOffset(),s)if(w.length>0&&M){if(void 0===t){const e=c.slidesGrid[S],t=c.slidesGrid[S+I]-e;l?c.setTranslate(c.translate-t):(c.slideTo(S+Math.ceil(I),0,!1,!0),a&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else if(a){const e=y?w.length/m.grid.rows:w.length;c.slideTo(c.activeIndex+e,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(j.length>0&&C)if(void 0===t){const e=c.slidesGrid[S],t=c.slidesGrid[S-T]-e;l?c.setTranslate(c.translate-t):(c.slideTo(S-T,0,!1,!0),a&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else{const e=y?j.length/m.grid.rows:j.length;c.slideTo(c.activeIndex-e,0,!1,!0)}if(c.allowSlidePrev=h,c.allowSlideNext=u,c.controller&&c.controller.control&&!o){const e={slideRealIndex:t,direction:i,setTranslate:a,activeSlideIndex:n,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===m.slidesPerView&&s})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...e,slideTo:c.controller.control.params.slidesPerView===m.slidesPerView&&s})}c.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||!s||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const i=[];e.slides.forEach(e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;i[t]=e}),e.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),i.forEach(e=>{s.append(e)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}},grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=wc.bind(e),e.onTouchMove=jc.bind(e),e.onTouchEnd=Nc.bind(e),e.onDocumentTouchStart=Ic.bind(e),t.cssMode&&(e.onScroll=Cc.bind(e)),e.onClick=Sc.bind(e),e.onLoad=Mc.bind(e),Tc(e,"on")},detachEvents:function(){Tc(this,"off")}},breakpoints:_c,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:i}=s;if(i){const t=e.slides.length-1,s=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*i;e.isLocked=e.size>s}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:s,rtl:i,el:a,device:n}=e,r=function(e,t){const s=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(i=>{e[i]&&s.push(t+i)}):"string"==typeof e&&s.push(t+e)}),s}(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:i},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:n.android},{ios:n.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...r),a.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},Oc={};let Lc=class e{constructor(){let t,s;for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];1===a.length&&a[0].constructor&&"Object"===Object.prototype.toString.call(a[0]).slice(8,-1)?s=a[0]:[t,s]=a,s||(s={}),s=Yl({},s),t&&!s.el&&(s.el=t);const r=Fl();if(s.el&&"string"==typeof s.el&&r.querySelectorAll(s.el).length>1){const t=[];return r.querySelectorAll(s.el).forEach(i=>{const a=Yl({},s,{el:i});t.push(new e(a))}),t}const o=this;o.__swiper__=!0,o.support=dc(),o.device=hc({userAgent:s.userAgent}),o.browser=uc(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],s.modules&&Array.isArray(s.modules)&&o.modules.push(...s.modules);const l={};o.modules.forEach(e=>{e({params:s,swiper:o,extendParams:Pc(s,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=Yl({},Dc,l);return o.params=Yl({},c,Oc,s),o.originalParams=Yl({},o.params),o.passedParams=Yl({},s),o.params&&o.params.on&&Object.keys(o.params.on).forEach(e=>{o.on(e,o.params.on[e])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,i=sc(Ql(t,`.${s.slideClass}, swiper-slide`)[0]);return sc(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&("column"===this.params.grid.fill?e=Math.floor(e/this.params.grid.rows):"row"===this.params.grid.fill&&(e%=Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=Ql(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),a=(s.maxTranslate()-i)*e+i;s.translateTo(a,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);t.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:s,slides:i,slidesGrid:a,slidesSizesGrid:n,size:r,activeIndex:o}=this;let l=1;if("number"==typeof s.slidesPerView)return s.slidesPerView;if(s.centeredSlides){let e,t=i[o]?Math.ceil(i[o].swiperSlideSize):0;for(let s=o+1;s<i.length;s+=1)i[s]&&!e&&(t+=Math.ceil(i[s].swiperSlideSize),l+=1,t>r&&(e=!0));for(let s=o-1;s>=0;s-=1)i[s]&&!e&&(t+=i[s].swiperSlideSize,l+=1,t>r&&(e=!0))}else if("current"===e)for(let c=o+1;c<i.length;c+=1){(t?a[c]+n[c]-a[o]<r:a[c]-a[o]<r)&&(l+=1)}else for(let c=o-1;c>=0;c-=1){a[o]-a[c]<r&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;function i(){const t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&gc(e,t)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if(("auto"===s.slidesPerView||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const t=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(t.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const s=this,i=s.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if("string"==typeof s&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>{if(s&&s.shadowRoot&&s.shadowRoot.querySelector){return s.shadowRoot.querySelector(i())}return Ql(s,i())[0]})();return!a&&t.params.createElements&&(a=ec("div",t.params.wrapperClass),s.append(a),Ql(s,`.${t.params.slideClass}`).forEach(e=>{a.append(e)})),Object.assign(t,{el:s,wrapperEl:a,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:a,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:"rtl"===s.dir.toLowerCase()||"rtl"===tc(s,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===s.dir.toLowerCase()||"rtl"===tc(s,"direction")),wrongRTL:"-webkit-box"===tc(a,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(e=>{e.complete?gc(t,e):e.addEventListener("load",e=>{gc(t,e.target)})}),fc(t),t.initialized=!0,fc(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const s=this,{params:i,el:a,wrapperEl:n,slides:r}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),t&&(s.removeClasses(),a&&"string"!=typeof a&&a.removeAttribute("style"),n&&n.removeAttribute("style"),r&&r.length&&r.forEach(e=>{e.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(e=>{s.off(e)}),!1!==e&&(s.el&&"string"!=typeof s.el&&(s.el.swiper=null),function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(s){}try{delete t[e]}catch(s){}})}(s)),s.destroyed=!0),null}static extendDefaults(e){Yl(Oc,e)}static get extendedDefaults(){return Oc}static get defaults(){return Dc}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);const s=e.prototype.__modules__;"function"==typeof t&&s.indexOf(t)<0&&s.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>e.installModule(t)),e):(e.installModule(t),e)}};Object.keys(Ac).forEach(e=>{Object.keys(Ac[e]).forEach(t=>{Lc.prototype[t]=Ac[e][t]})}),Lc.use([function(e){let{swiper:t,on:s,emit:i}=e;const a=Wl();let n=null,r=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(i("beforeResize"),i("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&i("orientationchange")};s("init",()=>{t.params.resizeObserver&&void 0!==a.ResizeObserver?t&&!t.destroyed&&t.initialized&&(n=new ResizeObserver(e=>{r=a.requestAnimationFrame(()=>{const{width:s,height:i}=t;let a=s,n=i;e.forEach(e=>{let{contentBoxSize:s,contentRect:i,target:r}=e;r&&r!==t.el||(a=i?i.width:(s[0]||s).inlineSize,n=i?i.height:(s[0]||s).blockSize)}),a===s&&n===i||o()})}),n.observe(t.el)):(a.addEventListener("resize",o),a.addEventListener("orientationchange",l))}),s("destroy",()=>{r&&a.cancelAnimationFrame(r),n&&n.unobserve&&t.el&&(n.unobserve(t.el),n=null),a.removeEventListener("resize",o),a.removeEventListener("orientationchange",l)})},function(e){let{swiper:t,extendParams:s,on:i,emit:a}=e;const n=[],r=Wl(),o=function(e,s){void 0===s&&(s={});const i=new(r.MutationObserver||r.WebkitMutationObserver)(e=>{if(t.__preventObserver__)return;if(1===e.length)return void a("observerUpdate",e[0]);const s=function(){a("observerUpdate",e[0])};r.requestAnimationFrame?r.requestAnimationFrame(s):r.setTimeout(s,0)});i.observe(e,{attributes:void 0===s.attributes||s.attributes,childList:t.isElement||(void 0===s.childList||s).childList,characterData:void 0===s.characterData||s.characterData}),n.push(i)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(t.params.observer){if(t.params.observeParents){const e=ic(t.hostEl);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}}),i("destroy",()=>{n.forEach(e=>{e.disconnect()}),n.splice(0,n.length)})}]);const Rc=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function zc(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function Bc(e,t){const s=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>s.indexOf(e)<0).forEach(s=>{void 0===e[s]?e[s]=t[s]:zc(t[s])&&zc(e[s])&&Object.keys(t[s]).length>0?t[s].__swiper__?e[s]=t[s]:Bc(e[s],t[s]):e[s]=t[s]})}function Fc(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function Hc(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function Wc(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function $c(e){void 0===e&&(e="");const t=e.split(" ").map(e=>e.trim()).filter(e=>!!e),s=[];return t.forEach(e=>{s.indexOf(e)<0&&s.push(e)}),s.join(" ")}function Gc(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Vc.apply(this,arguments)}function Uc(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function qc(e){const t=[];return m.Children.toArray(e).forEach(e=>{Uc(e)?t.push(e):e.props&&e.props.children&&qc(e.props.children).forEach(e=>t.push(e))}),t}function Yc(e){const t=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return m.Children.toArray(e).forEach(e=>{if(Uc(e))t.push(e);else if(e.props&&e.props.slot&&s[e.props.slot])s[e.props.slot].push(e);else if(e.props&&e.props.children){const i=qc(e.props.children);i.length>0?i.forEach(e=>t.push(e)):s["container-end"].push(e)}else s["container-end"].push(e)}),{slides:t,slots:s}}function Xc(e,t){return"undefined"==typeof window?p.useEffect(e,t):p.useLayoutEffect(e,t)}const Jc=p.createContext(null),Kc=p.createContext(null),Qc=p.forwardRef(function(e,t){let{className:s,tag:i="div",wrapperTag:a="div",children:n,onSwiper:r,...o}=void 0===e?{}:e,l=!1;const[c,d]=p.useState("swiper"),[h,u]=p.useState(null),[g,x]=p.useState(!1),f=p.useRef(!1),b=p.useRef(null),v=p.useRef(null),y=p.useRef(null),w=p.useRef(null),j=p.useRef(null),N=p.useRef(null),k=p.useRef(null),S=p.useRef(null),{params:C,passedParams:M,rest:I,events:T}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);const s={on:{}},i={},a={};Bc(s,Dc),s._emitClasses=!0,s.init=!1;const n={},r=Rc.map(e=>e.replace(/_/,"")),o=Object.assign({},e);return Object.keys(o).forEach(o=>{void 0!==e[o]&&(r.indexOf(o)>=0?zc(e[o])?(s[o]={},a[o]={},Bc(s[o],e[o]),Bc(a[o],e[o])):(s[o]=e[o],a[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"==typeof e[o]?t?i[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:s.on[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:n[o]=e[o])}),["navigation","pagination","scrollbar"].forEach(e=>{!0===s[e]&&(s[e]={}),!1===s[e]&&delete s[e]}),{params:s,passedParams:a,rest:n,events:i}}(o),{slides:E,slots:_}=Yc(n),D=()=>{x(!g)};Object.assign(C.on,{_containerClasses(e,t){d(t)}});const P=()=>{Object.assign(C.on,T),l=!0;const e={...C};if(delete e.wrapperClass,v.current=new Lc(e),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=E;const e={cache:!1,slides:E,renderExternal:u,renderExternalUpdate:!1};Bc(v.current.params.virtual,e),Bc(v.current.originalParams.virtual,e)}};b.current||P(),v.current&&v.current.on("_beforeBreakpoint",D);return p.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",D)}),p.useEffect(()=>{!f.current&&v.current&&(v.current.emitSlidesClasses(),f.current=!0)}),Xc(()=>{if(t&&(t.current=b.current),b.current)return v.current.destroyed&&P(),function(e,t){let{el:s,nextEl:i,prevEl:a,paginationEl:n,scrollbarEl:r,swiper:o}=e;Fc(t)&&i&&a&&(o.params.navigation.nextEl=i,o.originalParams.navigation.nextEl=i,o.params.navigation.prevEl=a,o.originalParams.navigation.prevEl=a),Hc(t)&&n&&(o.params.pagination.el=n,o.originalParams.pagination.el=n),Wc(t)&&r&&(o.params.scrollbar.el=r,o.originalParams.scrollbar.el=r),o.init(s)}({el:b.current,nextEl:j.current,prevEl:N.current,paginationEl:k.current,scrollbarEl:S.current,swiper:v.current},C),r&&!v.current.destroyed&&r(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),Xc(()=>{!l&&T&&v.current&&Object.keys(T).forEach(e=>{v.current.on(e,T[e])});const e=function(e,t,s,i,a){const n=[];if(!t)return n;const r=e=>{n.indexOf(e)<0&&n.push(e)};if(s&&i){const e=i.map(a),t=s.map(a);e.join("")!==t.join("")&&r("children"),i.length!==s.length&&r("children")}return Rc.filter(e=>"_"===e[0]).map(e=>e.replace(/_/,"")).forEach(s=>{if(s in e&&s in t)if(zc(e[s])&&zc(t[s])){const i=Object.keys(e[s]),a=Object.keys(t[s]);i.length!==a.length?r(s):(i.forEach(i=>{e[s][i]!==t[s][i]&&r(s)}),a.forEach(i=>{e[s][i]!==t[s][i]&&r(s)}))}else e[s]!==t[s]&&r(s)}),n}(M,y.current,E,w.current,e=>e.key);return y.current=M,w.current=E,e.length&&v.current&&!v.current.destroyed&&function(e){let{swiper:t,slides:s,passedParams:i,changedParams:a,nextEl:n,prevEl:r,scrollbarEl:o,paginationEl:l}=e;const c=a.filter(e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e),{params:d,pagination:h,navigation:u,scrollbar:p,virtual:m,thumbs:g}=t;let x,f,b,v,y,w,j,N;a.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(x=!0),a.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(f=!0),a.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(d.pagination||!1===d.pagination)&&h&&!h.el&&(b=!0),a.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||o)&&(d.scrollbar||!1===d.scrollbar)&&p&&!p.el&&(v=!0),a.includes("navigation")&&i.navigation&&(i.navigation.prevEl||r)&&(i.navigation.nextEl||n)&&(d.navigation||!1===d.navigation)&&u&&!u.prevEl&&!u.nextEl&&(y=!0);const k=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),d[e].prevEl=void 0,d[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),d[e].el=void 0,t[e].el=void 0))};a.includes("loop")&&t.isElement&&(d.loop&&!i.loop?w=!0:!d.loop&&i.loop?j=!0:N=!0),c.forEach(e=>{if(zc(d[e])&&zc(i[e]))Object.assign(d[e],i[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in i[e])||i[e].enabled||k(e);else{const t=i[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?d[e]=i[e]:!1===t&&k(e)}}),c.includes("controller")&&!f&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),a.includes("children")&&s&&m&&d.virtual.enabled?(m.slides=s,m.update(!0)):a.includes("virtual")&&m&&d.virtual.enabled&&(s&&(m.slides=s),m.update(!0)),a.includes("children")&&s&&d.loop&&(N=!0),x&&g.init()&&g.update(!0);f&&(t.controller.control=d.controller.control),b&&(!t.isElement||l&&"string"!=typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(d.pagination.el=l),h.init(),h.render(),h.update()),v&&(!t.isElement||o&&"string"!=typeof o||(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(d.scrollbar.el=o),p.init(),p.updateSize(),p.setTranslate()),y&&(t.isElement&&(n&&"string"!=typeof n||(n=document.createElement("div"),n.classList.add("swiper-button-next"),rc(n,t.hostEl.constructor.nextButtonSvg),n.part.add("button-next"),t.el.appendChild(n)),r&&"string"!=typeof r||(r=document.createElement("div"),r.classList.add("swiper-button-prev"),rc(r,t.hostEl.constructor.prevButtonSvg),r.part.add("button-prev"),t.el.appendChild(r))),n&&(d.navigation.nextEl=n),r&&(d.navigation.prevEl=r),u.init(),u.update()),a.includes("allowSlideNext")&&(t.allowSlideNext=i.allowSlideNext),a.includes("allowSlidePrev")&&(t.allowSlidePrev=i.allowSlidePrev),a.includes("direction")&&t.changeDirection(i.direction,!1),(w||N)&&t.loopDestroy(),(j||N)&&t.loopCreate(),t.update()}({swiper:v.current,slides:E,passedParams:M,changedParams:e,nextEl:j.current,prevEl:N.current,scrollbarEl:S.current,paginationEl:k.current}),()=>{T&&v.current&&Object.keys(T).forEach(e=>{v.current.off(e,T[e])})}}),Xc(()=>{var e;!(e=v.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},[h]),m.createElement(i,Vc({ref:b,className:$c(`${c}${s?` ${s}`:""}`)},I),m.createElement(Kc.Provider,{value:v.current},_["container-start"],m.createElement(a,{className:Gc(C.wrapperClass)},_["wrapper-start"],C.virtual?function(e,t,s){if(!s)return null;const i=e=>{let s=e;return e<0?s=t.length+e:s>=t.length&&(s-=t.length),s},a=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`},{from:n,to:r}=s,o=e.params.loop?-t.length:0,l=e.params.loop?2*t.length:t.length,c=[];for(let d=o;d<l;d+=1)d>=n&&d<=r&&c.push(t[i(d)]);return c.map((t,s)=>m.cloneElement(t,{swiper:e,style:a,key:t.props.virtualIndex||t.key||`slide-${s}`}))}(v.current,E,h):E.map((e,t)=>m.cloneElement(e,{swiper:v.current,swiperSlideIndex:t})),_["wrapper-end"]),Fc(C)&&m.createElement(m.Fragment,null,m.createElement("div",{ref:N,className:"swiper-button-prev"}),m.createElement("div",{ref:j,className:"swiper-button-next"})),Wc(C)&&m.createElement("div",{ref:S,className:"swiper-scrollbar"}),Hc(C)&&m.createElement("div",{ref:k,className:"swiper-pagination"}),_["container-end"]))});Qc.displayName="Swiper";const Zc=p.forwardRef(function(e,t){let{tag:s="div",children:i,className:a="",swiper:n,zoom:r,lazy:o,virtualIndex:l,swiperSlideIndex:c,...d}=void 0===e?{}:e;const h=p.useRef(null),[u,g]=p.useState("swiper-slide"),[x,f]=p.useState(!1);function b(e,t,s){t===h.current&&g(s)}Xc(()=>{if(void 0!==c&&(h.current.swiperSlideIndex=c),t&&(t.current=h.current),h.current&&n){if(!n.destroyed)return n.on("_slideClass",b),()=>{n&&n.off("_slideClass",b)};"swiper-slide"!==u&&g("swiper-slide")}}),Xc(()=>{n&&h.current&&!n.destroyed&&g(n.getSlideClasses(h.current))},[n]);const v={isActive:u.indexOf("swiper-slide-active")>=0,isVisible:u.indexOf("swiper-slide-visible")>=0,isPrev:u.indexOf("swiper-slide-prev")>=0,isNext:u.indexOf("swiper-slide-next")>=0},y=()=>"function"==typeof i?i(v):i;return m.createElement(s,Vc({ref:h,className:$c(`${u}${a?` ${a}`:""}`),"data-swiper-slide-index":l,onLoad:()=>{f(!0)}},d),r&&m.createElement(Jc.Provider,{value:v},m.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof r?r:void 0},y(),o&&!x&&m.createElement("div",{className:"swiper-lazy-preloader"}))),!r&&m.createElement(Jc.Provider,{value:v},y(),o&&!x&&m.createElement("div",{className:"swiper-lazy-preloader"})))});function ed(e,t,s,i){return e.params.createElements&&Object.keys(i).forEach(a=>{if(!s[a]&&!0===s.auto){let n=Ql(e.el,`.${i[a]}`)[0];n||(n=ec("div",i[a]),n.className=i[a],e.el.append(n)),s[a]=n,t[a]=n}}),s}function td(e){let{swiper:t,extendParams:s,on:i,emit:a}=e;function n(e){let s;return e&&"string"==typeof e&&t.isElement&&(s=t.el.querySelector(e)||t.hostEl.querySelector(e),s)?s:(e&&("string"==typeof e&&(s=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&s&&s.length>1&&1===t.el.querySelectorAll(e).length?s=t.el.querySelector(e):s&&1===s.length&&(s=s[0])),e&&!s?e:s)}function r(e,s){const i=t.params.navigation;(e=nc(e)).forEach(e=>{e&&(e.classList[s?"add":"remove"](...i.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=s),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](i.lockClass))})}function o(){const{nextEl:e,prevEl:s}=t.navigation;if(t.params.loop)return r(s,!1),void r(e,!1);r(s,t.isBeginning&&!t.params.rewind),r(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),a("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),a("navigationNext"))}function d(){const e=t.params.navigation;if(t.params.navigation=ed(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let s=n(e.nextEl),i=n(e.prevEl);Object.assign(t.navigation,{nextEl:s,prevEl:i}),s=nc(s),i=nc(i);const a=(s,i)=>{s&&s.addEventListener("click","next"===i?c:l),!t.enabled&&s&&s.classList.add(...e.lockClass.split(" "))};s.forEach(e=>a(e,"next")),i.forEach(e=>a(e,"prev"))}function h(){let{nextEl:e,prevEl:s}=t.navigation;e=nc(e),s=nc(s);const i=(e,s)=>{e.removeEventListener("click","next"===s?c:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach(e=>i(e,"next")),s.forEach(e=>i(e,"prev"))}s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},i("init",()=>{!1===t.params.navigation.enabled?u():(d(),o())}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:e,prevEl:s}=t.navigation;e=nc(e),s=nc(s),t.enabled?o():[...e,...s].filter(e=>!!e).forEach(e=>e.classList.add(t.params.navigation.lockClass))}),i("click",(e,s)=>{let{nextEl:i,prevEl:n}=t.navigation;i=nc(i),n=nc(n);const r=s.target;let o=n.includes(r)||i.includes(r);if(t.isElement&&!o){const e=s.path||s.composedPath&&s.composedPath();e&&(o=e.find(e=>i.includes(e)||n.includes(e)))}if(t.params.navigation.hideOnClick&&!o){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===r||t.pagination.el.contains(r)))return;let e;i.length?e=i[0].classList.contains(t.params.navigation.hiddenClass):n.length&&(e=n[0].classList.contains(t.params.navigation.hiddenClass)),a(!0===e?"navigationShow":"navigationHide"),[...i,...n].filter(e=>!!e).forEach(e=>e.classList.toggle(t.params.navigation.hiddenClass))}});const u=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),o()},disable:u,update:o,init:d,destroy:h})}function sd(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function id(e){let{swiper:t,extendParams:s,on:i,emit:a}=e;const n="swiper-pagination";let r;s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${n}-bullet`,bulletActiveClass:`${n}-bullet-active`,modifierClass:`${n}-`,currentClass:`${n}-current`,totalClass:`${n}-total`,hiddenClass:`${n}-hidden`,progressbarFillClass:`${n}-progressbar-fill`,progressbarOppositeClass:`${n}-progressbar-opposite`,clickableClass:`${n}-clickable`,lockClass:`${n}-lock`,horizontalClass:`${n}-horizontal`,verticalClass:`${n}-vertical`,paginationDisabledClass:`${n}-disabled`}}),t.pagination={el:null,bullets:[]};let o=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,s){const{bulletActiveClass:i}=t.params.pagination;e&&(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${i}-${s}`),(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&e.classList.add(`${i}-${s}-${s}`))}function d(e){const s=e.target.closest(sd(t.params.pagination.bulletClass));if(!s)return;e.preventDefault();const i=sc(s)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===i)return;const e=(a=t.realIndex,n=i,r=t.slides.length,(n%=r)===1+(a%=r)?"next":n===a-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(i)}else t.slideTo(i);var a,n,r}function h(){const e=t.rtl,s=t.params.pagination;if(l())return;let i,n,d=t.pagination.el;d=nc(d);const h=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,u=t.params.loop?Math.ceil(h/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(n=t.previousRealIndex||0,i=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(i=t.snapIndex,n=t.previousSnapIndex):(n=t.previousIndex||0,i=t.activeIndex||0),"bullets"===s.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const a=t.pagination.bullets;let l,h,u;if(s.dynamicBullets&&(r=ac(a[0],t.isHorizontal()?"width":"height"),d.forEach(e=>{e.style[t.isHorizontal()?"width":"height"]=r*(s.dynamicMainBullets+4)+"px"}),s.dynamicMainBullets>1&&void 0!==n&&(o+=i-(n||0),o>s.dynamicMainBullets-1?o=s.dynamicMainBullets-1:o<0&&(o=0)),l=Math.max(i-o,0),h=l+(Math.min(a.length,s.dynamicMainBullets)-1),u=(h+l)/2),a.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${s.bulletActiveClass}${e}`)].map(e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),d.length>1)a.forEach(e=>{const a=sc(e);a===i?e.classList.add(...s.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),s.dynamicBullets&&(a>=l&&a<=h&&e.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),a===l&&c(e,"prev"),a===h&&c(e,"next"))});else{const e=a[i];if(e&&e.classList.add(...s.bulletActiveClass.split(" ")),t.isElement&&a.forEach((e,t)=>{e.setAttribute("part",t===i?"bullet-active":"bullet")}),s.dynamicBullets){const e=a[l],t=a[h];for(let i=l;i<=h;i+=1)a[i]&&a[i].classList.add(...`${s.bulletActiveClass}-main`.split(" "));c(e,"prev"),c(t,"next")}}if(s.dynamicBullets){const i=Math.min(a.length,s.dynamicMainBullets+4),n=(r*i-r)/2-u*r,o=e?"right":"left";a.forEach(e=>{e.style[t.isHorizontal()?o:"top"]=`${n}px`})}}d.forEach((e,n)=>{if("fraction"===s.type&&(e.querySelectorAll(sd(s.currentClass)).forEach(e=>{e.textContent=s.formatFractionCurrent(i+1)}),e.querySelectorAll(sd(s.totalClass)).forEach(e=>{e.textContent=s.formatFractionTotal(u)})),"progressbar"===s.type){let a;a=s.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const n=(i+1)/u;let r=1,o=1;"horizontal"===a?r=n:o=n,e.querySelectorAll(sd(s.progressbarFillClass)).forEach(e=>{e.style.transform=`translate3d(0,0,0) scaleX(${r}) scaleY(${o})`,e.style.transitionDuration=`${t.params.speed}ms`})}"custom"===s.type&&s.renderCustom?(rc(e,s.renderCustom(t,i+1,u)),0===n&&a("paginationRender",e)):(0===n&&a("paginationRender",e),a("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](s.lockClass)})}function u(){const e=t.params.pagination;if(l())return;const s=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let i=t.pagination.el;i=nc(i);let n="";if("bullets"===e.type){let i=t.params.loop?Math.ceil(s/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&i>s&&(i=s);for(let s=0;s<i;s+=1)e.renderBullet?n+=e.renderBullet.call(t,s,e.bulletClass):n+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(n=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(n=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],i.forEach(s=>{"custom"!==e.type&&rc(s,n||""),"bullets"===e.type&&t.pagination.bullets.push(...s.querySelectorAll(sd(e.bulletClass)))}),"custom"!==e.type&&a("paginationRender",i[0])}function p(){t.params.pagination=ed(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let s;"string"==typeof e.el&&t.isElement&&(s=t.el.querySelector(e.el)),s||"string"!=typeof e.el||(s=[...document.querySelectorAll(e.el)]),s||(s=e.el),s&&0!==s.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(s)&&s.length>1&&(s=[...t.el.querySelectorAll(e.el)],s.length>1&&(s=s.find(e=>ic(e,".swiper")[0]===t.el))),Array.isArray(s)&&1===s.length&&(s=s[0]),Object.assign(t.pagination,{el:s}),s=nc(s),s.forEach(s=>{"bullets"===e.type&&e.clickable&&s.classList.add(...(e.clickableClass||"").split(" ")),s.classList.add(e.modifierClass+e.type),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(s.classList.add(`${e.modifierClass}${e.type}-dynamic`),o=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&s.classList.add(e.progressbarOppositeClass),e.clickable&&s.addEventListener("click",d),t.enabled||s.classList.add(e.lockClass)}))}function m(){const e=t.params.pagination;if(l())return;let s=t.pagination.el;s&&(s=nc(s),s.forEach(s=>{s.classList.remove(e.hiddenClass),s.classList.remove(e.modifierClass+e.type),s.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(s.classList.remove(...(e.clickableClass||"").split(" ")),s.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(t=>t.classList.remove(...e.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:s}=t.pagination;s=nc(s),s.forEach(s=>{s.classList.remove(e.horizontalClass,e.verticalClass),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)})}),i("init",()=>{!1===t.params.pagination.enabled?g():(p(),u(),h())}),i("activeIndexChange",()=>{void 0===t.snapIndex&&h()}),i("snapIndexChange",()=>{h()}),i("snapGridLengthChange",()=>{u(),h()}),i("destroy",()=>{m()}),i("enable disable",()=>{let{el:e}=t.pagination;e&&(e=nc(e),e.forEach(e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),i("lock unlock",()=>{h()}),i("click",(e,s)=>{const i=s.target,n=nc(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&n&&n.length>0&&!i.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&i===t.navigation.nextEl||t.navigation.prevEl&&i===t.navigation.prevEl))return;const e=n[0].classList.contains(t.params.pagination.hiddenClass);a(!0===e?"paginationShow":"paginationHide"),n.forEach(e=>e.classList.toggle(t.params.pagination.hiddenClass))}});const g=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=nc(e),e.forEach(e=>e.classList.add(t.params.pagination.paginationDisabledClass))),m()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=nc(e),e.forEach(e=>e.classList.remove(t.params.pagination.paginationDisabledClass))),p(),u(),h()},disable:g,render:u,update:h,init:p,destroy:m})}function ad(e){let t,s,{swiper:i,extendParams:a,on:n,emit:r,params:o}=e;i.autoplay={running:!1,paused:!1,timeLeft:0},a({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,d,h,u,p,m,g,x=o&&o.autoplay?o.autoplay.delay:3e3,f=o&&o.autoplay?o.autoplay.delay:3e3,b=(new Date).getTime();function v(e){i&&!i.destroyed&&i.wrapperEl&&e.target===i.wrapperEl&&(i.wrapperEl.removeEventListener("transitionend",v),g||e.detail&&e.detail.bySwiperTouchMove||S())}const y=()=>{if(i.destroyed||!i.autoplay.running)return;i.autoplay.paused?c=!0:c&&(f=l,c=!1);const e=i.autoplay.paused?l:b+f-(new Date).getTime();i.autoplay.timeLeft=e,r("autoplayTimeLeft",e,e/x),s=requestAnimationFrame(()=>{y()})},w=e=>{if(i.destroyed||!i.autoplay.running)return;cancelAnimationFrame(s),y();let a=void 0===e?i.params.autoplay.delay:e;x=i.params.autoplay.delay,f=i.params.autoplay.delay;const n=(()=>{let e;if(e=i.virtual&&i.params.virtual.enabled?i.slides.find(e=>e.classList.contains("swiper-slide-active")):i.slides[i.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(n)&&n>0&&void 0===e&&(a=n,x=n,f=n),l=a;const o=i.params.speed,c=()=>{i&&!i.destroyed&&(i.params.autoplay.reverseDirection?!i.isBeginning||i.params.loop||i.params.rewind?(i.slidePrev(o,!0,!0),r("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(i.slides.length-1,o,!0,!0),r("autoplay")):!i.isEnd||i.params.loop||i.params.rewind?(i.slideNext(o,!0,!0),r("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(0,o,!0,!0),r("autoplay")),i.params.cssMode&&(b=(new Date).getTime(),requestAnimationFrame(()=>{w()})))};return a>0?(clearTimeout(t),t=setTimeout(()=>{c()},a)):requestAnimationFrame(()=>{c()}),a},j=()=>{b=(new Date).getTime(),i.autoplay.running=!0,w(),r("autoplayStart")},N=()=>{i.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(s),r("autoplayStop")},k=(e,s)=>{if(i.destroyed||!i.autoplay.running)return;clearTimeout(t),e||(m=!0);const a=()=>{r("autoplayPause"),i.params.autoplay.waitForTransition?i.wrapperEl.addEventListener("transitionend",v):S()};if(i.autoplay.paused=!0,s)return p&&(l=i.params.autoplay.delay),p=!1,void a();const n=l||i.params.autoplay.delay;l=n-((new Date).getTime()-b),i.isEnd&&l<0&&!i.params.loop||(l<0&&(l=0),a())},S=()=>{i.isEnd&&l<0&&!i.params.loop||i.destroyed||!i.autoplay.running||(b=(new Date).getTime(),m?(m=!1,w(l)):w(),i.autoplay.paused=!1,r("autoplayResume"))},C=()=>{if(i.destroyed||!i.autoplay.running)return;const e=Fl();"hidden"===e.visibilityState&&(m=!0,k(!0)),"visible"===e.visibilityState&&S()},M=e=>{"mouse"===e.pointerType&&(m=!0,g=!0,i.animating||i.autoplay.paused||k(!0))},I=e=>{"mouse"===e.pointerType&&(g=!1,i.autoplay.paused&&S())};n("init",()=>{i.params.autoplay.enabled&&(i.params.autoplay.pauseOnMouseEnter&&(i.el.addEventListener("pointerenter",M),i.el.addEventListener("pointerleave",I)),Fl().addEventListener("visibilitychange",C),j())}),n("destroy",()=>{i.el&&"string"!=typeof i.el&&(i.el.removeEventListener("pointerenter",M),i.el.removeEventListener("pointerleave",I)),Fl().removeEventListener("visibilitychange",C),i.autoplay.running&&N()}),n("_freeModeStaticRelease",()=>{(h||m)&&S()}),n("_freeModeNoMomentumRelease",()=>{i.params.autoplay.disableOnInteraction?N():k(!0,!0)}),n("beforeTransitionStart",(e,t,s)=>{!i.destroyed&&i.autoplay.running&&(s||!i.params.autoplay.disableOnInteraction?k(!0,!0):N())}),n("sliderFirstMove",()=>{!i.destroyed&&i.autoplay.running&&(i.params.autoplay.disableOnInteraction?N():(d=!0,h=!1,m=!1,u=setTimeout(()=>{m=!0,h=!0,k(!0)},200)))}),n("touchEnd",()=>{if(!i.destroyed&&i.autoplay.running&&d){if(clearTimeout(u),clearTimeout(t),i.params.autoplay.disableOnInteraction)return h=!1,void(d=!1);h&&i.params.cssMode&&S(),h=!1,d=!1}}),n("slideChange",()=>{!i.destroyed&&i.autoplay.running&&(p=!0)}),Object.assign(i.autoplay,{start:j,stop:N,pause:k,resume:S})}function nd(e,t){const s=Kl(t);return s!==t&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}function rd(e){let{swiper:t,extendParams:s,on:i}=e;s({fadeEffect:{crossFade:!1}});!function(e){const{effect:t,swiper:s,on:i,setTranslate:a,setTransition:n,overwriteParams:r,perspective:o,recreateShadows:l,getEffectParams:c}=e;let d;i("beforeInit",()=>{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),o&&o()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=r?r():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)}),i("setTranslate _virtualUpdated",()=>{s.params.effect===t&&a()}),i("setTransition",(e,i)=>{s.params.effect===t&&n(i)}),i("transitionEnd",()=>{if(s.params.effect===t&&l){if(!c||!c().slideShadows)return;s.slides.forEach(e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(e=>e.remove())}),l()}}),i("virtualUpdate",()=>{s.params.effect===t&&(s.slides.length||(d=!0),requestAnimationFrame(()=>{d&&s.slides&&s.slides.length&&(a(),d=!1)}))})}({effect:"fade",swiper:t,on:i,setTranslate:()=>{const{slides:e}=t;t.params.fadeEffect;for(let s=0;s<e.length;s+=1){const e=t.slides[s];let i=-e.swiperSlideOffset;t.params.virtualTranslate||(i-=t.translate);let a=0;t.isHorizontal()||(a=i,i=0);const n=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e.progress),0):1+Math.min(Math.max(e.progress,-1),0),r=nd(0,e);r.style.opacity=n,r.style.transform=`translate3d(${i}px, ${a}px, 0px)`}},setTransition:e=>{const s=t.slides.map(e=>Kl(e));s.forEach(t=>{t.style.transitionDuration=`${e}ms`}),function(e){let{swiper:t,duration:s,transformElements:i}=e;const{activeIndex:a}=t;if(t.params.virtualTranslate&&0!==s){let e,s=!1;e=i,e.forEach(e=>{!function(e,t){t&&e.addEventListener("transitionend",function s(i){i.target===e&&(t.call(e,i),e.removeEventListener("transitionend",s))})}(e,()=>{if(s)return;if(!t||t.destroyed)return;s=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)})})}}({swiper:t,duration:e,transformElements:s})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function od({images:e}){return 1===e.length?a.jsx("div",{className:"relative aspect-video",children:a.jsx("img",{src:e[0],alt:"Project",className:"w-full h-full object-cover"})}):a.jsxs("div",{className:"relative aspect-video",children:[a.jsxs(Qc,{modules:[td,id,ad,rd],spaceBetween:0,slidesPerView:1,navigation:{nextEl:".swiper-button-next-custom",prevEl:".swiper-button-prev-custom"},pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet-custom",bulletActiveClass:"swiper-pagination-bullet-active-custom"},autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},effect:"fade",fadeEffect:{crossFade:!0},loop:!0,className:"w-full h-full",children:[e.map((e,t)=>a.jsx(Zc,{children:a.jsx("img",{src:e,alt:`Project ${t+1}`,className:"w-full h-full object-cover"})},t)),a.jsx("div",{className:"swiper-button-prev-custom absolute left-2 top-1/2 transform -translate-y-1/2 z-10 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer hover:bg-black/70",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"swiper-button-next-custom absolute right-2 top-1/2 transform -translate-y-1/2 z-10 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer hover:bg-black/70",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("style",{children:"\n        .swiper-pagination-bullet-custom {\n          width: 8px;\n          height: 8px;\n          background: rgba(255, 255, 255, 0.5);\n          border-radius: 50%;\n          margin: 0 4px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .swiper-pagination-bullet-active-custom {\n          background: #3b5cff;\n          transform: scale(1.2);\n        }\n        \n        .swiper-pagination {\n          bottom: 12px !important;\n        }\n      "})]})}function ld({project:e,index:t,viewMode:s,onClick:i}){const r=p.useRef(null);p.useEffect(()=>{if("grid"===s&&r.current){const e=r.current,t=e.offsetHeight,s=Math.ceil((t+20)/20);e.style.setProperty("--row-span",s.toString())}},[s,e]);const o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,delay:.1*t}}};return"list"===s?a.jsx(n.div,{variants:o,initial:"hidden",animate:"visible",className:"card p-6 hover:scale-[1.02] transition-transform duration-300",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("div",{className:"md:w-1/3",children:a.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden",children:[a.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-full object-cover"}),e.featured&&a.jsxs("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-amber-400 to-orange-500 text-white px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[a.jsx(le,{className:"w-3 h-3"}),"Featured"]})]})}),a.jsxs("div",{className:"md:w-2/3 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:e.title}),a.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:e.description})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>a.jsx("span",{className:"badge text-xs",children:e},e))}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ce,{className:"w-4 h-4"}),e.teamSize," members"]}),a.jsx("span",{className:"badge",children:e.category})]}),a.jsxs("button",{onClick:i,className:"btn-primary py-2 px-4 text-sm inline-flex items-center gap-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),"View Details"]})]})]})]})}):a.jsx(n.div,{ref:r,variants:o,initial:"hidden",animate:"visible",className:"masonry-item",children:a.jsx("div",{className:"flip-card h-full",children:a.jsxs("div",{className:"flip-card-inner",children:[a.jsxs("div",{className:"flip-card-front project-card relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md",children:[a.jsxs("div",{className:"relative",children:[a.jsx(od,{images:e.images}),e.featured&&a.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-amber-400 to-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 z-10",children:[a.jsx(le,{className:"w-3 h-3"}),"Featured"]}),e.prize&&a.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-brand-500 to-purple-600 text-white px-3 py-1 rounded-full text-xs font-semibold z-10",children:e.prize})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-2",children:e.title}),a.jsx("p",{className:"text-slate-300 text-sm line-clamp-3",children:e.description})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tags.slice(0,3).map(e=>a.jsx("span",{className:"badge text-xs",children:e},e)),e.tags.length>3&&a.jsxs("span",{className:"badge text-xs",children:["+",e.tags.length-3]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[a.jsx(ce,{className:"w-4 h-4"}),e.teamSize]}),a.jsx("span",{className:"badge",children:e.category})]})]}),a.jsxs("div",{className:"project-overlay",children:[a.jsxs(n.button,{onClick:i,className:"btn-primary mb-4",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(Ae,{className:"w-4 h-4 mr-2"}),"View Details"]}),a.jsxs("div",{className:"flex gap-3",children:[e.demoUrl&&a.jsx(n.a,{href:e.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Oe,{className:"w-5 h-5 text-white"})}),e.githubUrl&&a.jsx(n.a,{href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(be,{className:"w-5 h-5 text-white"})})]})]})]}),a.jsx("div",{className:"flip-card-back relative overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-brand-500/20 via-purple-500/20 to-pink-500/20 backdrop-blur-md p-6",children:a.jsxs("div",{className:"h-full flex flex-col justify-between",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:e.title}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-200 mb-2",children:"Technologies"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologies.map(e=>a.jsx("span",{className:"px-2 py-1 bg-white/10 rounded-md text-xs text-white",children:e},e))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-200 mb-2",children:"Team Info"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-white",children:[a.jsx(ce,{className:"w-4 h-4"}),e.teamSize," team members"]})]}),e.prize&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-200 mb-2",children:"Achievement"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-white",children:[a.jsx(le,{className:"w-4 h-4 text-amber-400"}),e.prize]})]})]}),a.jsx("div",{className:"flex gap-2 mt-4",children:a.jsx(n.button,{onClick:i,className:"btn-primary flex-1 text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"View Details"})})]})})]})})})}function cd({categories:e,activeCategory:t,onCategoryChange:s}){return a.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:e.map(e=>a.jsxs(n.button,{onClick:()=>s(e),className:"filter-tab px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 "+(t===e?"bg-brand-500 text-white shadow-lg shadow-brand-500/25 active":"bg-white/10 text-slate-300 hover:bg-white/20 hover:text-white"),whileHover:{scale:1.05},whileTap:{scale:.95},layout:!0,children:[e,t===e&&a.jsx(n.div,{className:"absolute inset-0 bg-brand-500 rounded-full -z-10",layoutId:"activeTab",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},e))})}function dd({project:e,onClose:t}){const[s,i]=p.useState(0);p.useEffect(()=>(e?(i(0),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const o=()=>{e&&i(t=>(t+1)%e.images.length)},l=()=>{e&&i(t=>(t-1+e.images.length)%e.images.length)},c=e=>{"Escape"===e.key&&t(),"ArrowRight"===e.key&&o(),"ArrowLeft"===e.key&&l()};return p.useEffect(()=>{if(e)return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e]),e?a.jsx(r,{children:a.jsx(n.div,{className:"zoom-modal active fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:a.jsxs(n.div,{className:"zoom-modal-content bg-white/10 backdrop-blur-xl rounded-2xl border border-white/20 max-w-6xl w-full max-h-[90vh] overflow-hidden",initial:{scale:.8,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:20},onClick:e=>e.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:e.title}),e.featured&&a.jsxs("div",{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[a.jsx(le,{className:"w-3 h-3"}),"Featured"]}),e.prize&&a.jsx("div",{className:"bg-gradient-to-r from-brand-500 to-purple-600 text-white px-3 py-1 rounded-full text-xs font-semibold",children:e.prize})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(re,{className:"w-6 h-6 text-white"})})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row max-h-[calc(90vh-80px)]",children:[a.jsxs("div",{className:"lg:w-2/3 relative",children:[a.jsxs("div",{className:"relative aspect-video bg-black/20",children:[a.jsx(r,{mode:"wait",children:a.jsx(n.img,{src:e.images[s],alt:`${e.title} - Image ${s+1}`,className:"w-full h-full object-cover",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3}},s)}),e.images.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:l,className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-2 bg-black/50 hover:bg-black/70 rounded-full text-white transition-colors",children:a.jsx(ke,{className:"w-6 h-6"})}),a.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-2 bg-black/50 hover:bg-black/70 rounded-full text-white transition-colors",children:a.jsx(Se,{className:"w-6 h-6"})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:e.images.map((e,t)=>a.jsx("button",{onClick:()=>i(t),className:"w-2 h-2 rounded-full transition-colors "+(t===s?"bg-white":"bg-white/50")},t))})]})]}),e.images.length>1&&a.jsx("div",{className:"flex gap-2 p-4 overflow-x-auto",children:e.images.map((e,t)=>a.jsx("button",{onClick:()=>i(t),className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors "+(t===s?"border-brand-400":"border-white/20"),children:a.jsx("img",{src:e,alt:`Thumbnail ${t+1}`,className:"w-full h-full object-cover"})},t))})]}),a.jsxs("div",{className:"lg:w-1/3 p-6 space-y-6 overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Description"}),a.jsx("p",{className:"text-slate-300 leading-relaxed",children:e.description})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Technologies"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologies.map(e=>a.jsx("span",{className:"px-3 py-1 bg-brand-500/20 text-brand-200 rounded-full text-sm border border-brand-500/30",children:e},e))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>a.jsx("span",{className:"badge text-sm",children:e},e))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-200 mb-1",children:"Category"}),a.jsx("p",{className:"text-white",children:e.category})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-200 mb-1",children:"Team Size"}),a.jsxs("div",{className:"flex items-center gap-1 text-white",children:[a.jsx(ce,{className:"w-4 h-4"}),e.teamSize," members"]})]})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t border-white/10",children:[e.demoUrl&&a.jsxs(n.a,{href:e.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-primary w-full justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(Oe,{className:"w-4 h-4 mr-2"}),"View Live Demo"]}),e.githubUrl&&a.jsxs(n.a,{href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-primary bg-white/10 hover:bg-white/20 w-full justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(be,{className:"w-4 h-4 mr-2"}),"View Source Code"]})]})]})]})]})})}):null}function hd(){const e=Math.floor(200*Math.random())+300;return a.jsx("div",{className:"masonry-item",style:{"--row-span":Math.ceil((e+20)/20)},children:a.jsxs("div",{className:"card p-0 overflow-hidden",style:{height:e},children:[a.jsx("div",{className:"skeleton h-48 w-full"}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"skeleton h-6 w-3/4 rounded"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"skeleton h-4 w-full rounded"}),a.jsx("div",{className:"skeleton h-4 w-5/6 rounded"}),a.jsx("div",{className:"skeleton h-4 w-4/6 rounded"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"skeleton h-6 w-16 rounded-full"}),a.jsx("div",{className:"skeleton h-6 w-20 rounded-full"}),a.jsx("div",{className:"skeleton h-6 w-14 rounded-full"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"skeleton h-4 w-20 rounded"}),a.jsx("div",{className:"skeleton h-6 w-16 rounded-full"})]})]})]})})}Zc.displayName="SwiperSlide";const ud=[{id:"1",title:"AI-Powered Healthcare Assistant",description:"Revolutionary healthcare chatbot using machine learning to provide instant medical advice and symptom analysis.",category:"AI/ML",tags:["Healthcare","Machine Learning","Chatbot"],images:["https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400","https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=400"],technologies:["Python","TensorFlow","React","Node.js"],teamSize:4,prize:"1st Place",featured:!0},{id:"2",title:"Smart City Traffic Optimizer",description:"IoT-based traffic management system that reduces congestion using real-time data analytics.",category:"IoT",tags:["Smart City","Traffic","Analytics"],images:["https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400"],technologies:["Arduino","Python","MongoDB","React"],teamSize:3,featured:!1},{id:"3",title:"Blockchain Voting Platform",description:"Secure and transparent voting system built on blockchain technology ensuring election integrity.",category:"Blockchain",tags:["Voting","Security","Democracy"],images:["https://images.unsplash.com/photo-1541746972996-4e0b0f93e586?w=400","https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=400"],technologies:["Solidity","Web3.js","React","Ethereum"],teamSize:5,prize:"2nd Place"},{id:"4",title:"AR Learning Experience",description:"Immersive augmented reality application for interactive learning in STEM subjects.",category:"AR/VR",tags:["Education","AR","STEM"],images:["https://images.unsplash.com/photo-1592478411213-6153e4ebc696?w=400"],technologies:["Unity","C#","ARCore","Blender"],teamSize:4},{id:"5",title:"Sustainable Energy Monitor",description:"Real-time energy consumption tracking with AI-powered optimization suggestions.",category:"Sustainability",tags:["Energy","Sustainability","Monitoring"],images:["https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=400","https://images.unsplash.com/photo-1466611653911-95081537e5b7?w=400"],technologies:["React Native","Firebase","Python","TensorFlow"],teamSize:3,prize:"3rd Place"},{id:"6",title:"Mental Health Companion",description:"AI-driven mental health support app with mood tracking and personalized recommendations.",category:"Healthcare",tags:["Mental Health","AI","Wellness"],images:["https://images.unsplash.com/photo-1559757175-0eb30cd8c063?w=400"],technologies:["Flutter","Firebase","Python","NLP"],teamSize:4,featured:!0}];function pd(){const[e,t]=p.useState([]),[s,i]=p.useState(!0),[o,l]=p.useState(""),[c,d]=p.useState("All"),[h,u]=p.useState(null),[m,g]=p.useState("grid"),[x,f]=p.useState(1),[b,v]=p.useState(!0);p.useEffect(()=>{(async()=>{i(!0),await new Promise(e=>setTimeout(e,1500)),t(ud),i(!1)})()},[]);const y=p.useMemo(()=>e.filter(e=>{const t="All"===c||e.category===c,s=""===o||e.title.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(o.toLowerCase()));return t&&s}),[e,c,o]);p.useEffect(()=>{const e=()=>{window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||s||(b&&x<3?f(e=>e+1):v(!1))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[s,b,x]);const w=(e,t)=>{if(!t.trim())return e;const s=new RegExp(`(${t})`,"gi");return e.split(s).map((e,t)=>s.test(e)?a.jsx("span",{className:"search-highlight",children:e},t):e)};return a.jsxs("div",{className:"min-h-screen py-8 px-4",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(n.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 bg-gradient-to-r from-brand-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Project Showcase"}),a.jsx("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:"Discover amazing projects built by talented developers in hackathons around the world"})]}),a.jsxs(n.div,{className:"mb-8 space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsxs("div",{className:"relative max-w-md mx-auto",children:[a.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search projects, technologies, or tags...",value:o,onChange:e=>l(e.target.value),className:"input pl-10 pr-4 w-full"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4",children:[a.jsx(cd,{categories:["All","AI/ML","IoT","Blockchain","AR/VR","Healthcare","Sustainability"],activeCategory:c,onCategoryChange:d}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>g("grid"),className:"p-2 rounded-lg transition-colors "+("grid"===m?"bg-brand-500 text-white":"bg-white/10 text-slate-300 hover:bg-white/20"),children:a.jsx(Le,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>g("list"),className:"p-2 rounded-lg transition-colors "+("list"===m?"bg-brand-500 text-white":"bg-white/10 text-slate-300 hover:bg-white/20"),children:a.jsx(Re,{className:"w-5 h-5"})})]})]})]}),a.jsx(r,{mode:"wait",children:s?a.jsx(n.div,{className:"masonry-grid",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:Array.from({length:6}).map((e,t)=>a.jsx(hd,{},t))},"loading"):a.jsx(n.div,{className:"grid"===m?"masonry-grid":"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:y.map((e,t)=>a.jsx(ld,{project:{...e,title:w(e.title,o),description:w(e.description,o)},index:t,viewMode:m,onClick:()=>u(e)},e.id))},"projects")}),!s&&0===y.length&&a.jsxs(n.div,{className:"text-center py-16",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No projects found"}),a.jsx("p",{className:"text-slate-400",children:"Try adjusting your search or filter criteria"})]}),!s&&b&&y.length>0&&a.jsx("div",{className:"flex justify-center mt-8",children:a.jsx("div",{className:"flex space-x-2",children:Array.from({length:3}).map((e,t)=>a.jsx("div",{className:"w-3 h-3 bg-brand-400 rounded-full animate-bounce",style:{animationDelay:.2*t+"s"}},t))})})]}),a.jsx(dd,{project:h,onClose:()=>u(null)})]})}function md(){return a.jsx(pd,{})}function gd({skills:e,showLabels:t=!0,compact:s=!1}){const[i,r]=p.useState(!1);p.useEffect(()=>{r(!0)},[]);const o=e=>e>=90?"from-emerald-400 to-emerald-600":e>=75?"from-blue-400 to-blue-600":e>=60?"from-yellow-400 to-yellow-600":"from-red-400 to-red-600";return s?a.jsx("div",{className:"space-y-2",children:e.map((e,t)=>a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs font-medium text-white truncate",children:e.name}),a.jsxs("span",{className:"text-xs text-slate-400",children:[e.level,"%"]})]}),a.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:a.jsx(n.div,{className:`h-full bg-gradient-to-r ${o(e.level)} skill-bar`,style:{"--skill-level":`${e.level}%`,"--animation-delay":.1*t+"s"},initial:{width:0},animate:{width:i?`${e.level}%`:0},transition:{duration:1,delay:.1*t,ease:"easeOut"}})})]})},e.name))}):a.jsx("div",{className:"space-y-4",children:e.map((e,s)=>{const r=(l=e.level)>=90?{label:"Expert",color:"text-emerald-400"}:l>=75?{label:"Advanced",color:"text-blue-400"}:l>=60?{label:"Intermediate",color:"text-yellow-400"}:{label:"Beginner",color:"text-red-400"};var l;return a.jsxs(n.div,{className:"space-y-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:e.name}),t&&a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full bg-white/10 ${r.color}`,children:r.label})]}),a.jsxs("span",{className:"text-sm font-bold text-brand-200",children:[e.level,"%"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:a.jsx(n.div,{className:`h-full bg-gradient-to-r ${o(e.level)} relative overflow-hidden`,initial:{width:0},animate:{width:i?`${e.level}%`:0},transition:{duration:1.5,delay:.2*s,ease:"easeOut"},children:a.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1.5,delay:.2*s+.5,ease:"easeInOut"}})})}),a.jsx(n.div,{className:"absolute top-0 h-2 w-1 bg-white rounded-full shadow-lg",style:{left:`${e.level}%`},initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.2*s+1.2}})]})]},e.name)})})}function xd({members:e,onLike:t,onAddToTeam:s,currentTeam:i}){const[r,o]=p.useState(0),[d,h]=p.useState(null),u=c(0),m=l(u,[-200,200],[-25,25]),g=l(u,[-200,-100,0,100,200],[0,1,1,1,0]),x=e[r],f=()=>{setTimeout(()=>{o(t=>(t+1)%e.length),h(null),u.set(0)},300)};if(!x)return a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"You've seen everyone!"}),a.jsx("p",{className:"text-slate-400",children:"Check back later for new team members"})]})});const b=i.some(e=>e.id===x.id);return a.jsxs("div",{className:"relative max-w-md mx-auto",children:[a.jsxs("div",{className:"relative h-[600px] perspective-1000",children:[e[r+1]&&a.jsx(n.div,{className:"absolute inset-0 glassmorphism rounded-3xl p-6 transform scale-95 opacity-50",initial:{scale:.95,opacity:.5},animate:{scale:.95,opacity:.5},children:a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("img",{src:e[r+1].avatar,alt:e[r+1].name,className:"w-16 h-16 rounded-full object-cover"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:e[r+1].name}),a.jsx("p",{className:"text-slate-300",children:e[r+1].role})]})]})}),a.jsxs(n.div,{className:"swipe-card glassmorphism profile-card",style:{x:u,rotate:m,opacity:g},drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(e,s)=>{s.offset.x>100?(h("right"),t(x),f()):s.offset.x<-100?(h("left"),f()):u.set(0)},animate:d?{x:"right"===d?300:-300,opacity:0,scale:.8}:{},transition:{type:"spring",stiffness:300,damping:30},children:[a.jsxs("div",{className:"p-6 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:x.avatar,alt:x.name,className:"w-20 h-20 rounded-full object-cover border-2 border-white/20"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:x.name}),a.jsx("p",{className:"text-brand-200",children:x.role}),a.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-400",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ze,{className:"w-3 h-3"}),x.location]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ce,{className:"w-3 h-3"}),x.availability]})]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:x.bio})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-200 mb-3",children:"Skills"}),a.jsx(gd,{skills:x.skills})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-200 mb-3",children:"Interests"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.interests.map((e,t)=>a.jsx(n.span,{className:"skill-tag px-3 py-1 bg-white/10 rounded-full text-xs text-white",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*t},children:e},e))})]}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[x.github&&a.jsx(n.a,{href:x.github,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(be,{className:"w-4 h-4 text-white"})}),x.linkedin&&a.jsx(n.a,{href:x.linkedin,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Be,{className:"w-4 h-4 text-white"})}),x.portfolio&&a.jsx(n.a,{href:x.portfolio,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Oe,{className:"w-4 h-4 text-white"})})]}),a.jsx("div",{className:"mt-auto",children:a.jsxs("div",{className:"text-center text-sm text-slate-400",children:[x.experience," experience"]})})]}),a.jsx(n.div,{className:"absolute top-8 left-8 bg-red-500 text-white px-4 py-2 rounded-full font-bold transform -rotate-12",style:{opacity:l(u,[-100,-50,0],[1,.5,0])},children:"PASS"}),a.jsx(n.div,{className:"absolute top-8 right-8 bg-green-500 text-white px-4 py-2 rounded-full font-bold transform rotate-12",style:{opacity:l(u,[0,50,100],[0,.5,1])},children:"LIKE"})]})]}),a.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[a.jsx(n.button,{onClick:()=>{h("left"),f()},className:"w-14 h-14 bg-red-500/20 hover:bg-red-500/30 rounded-full flex items-center justify-center border border-red-500/30 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(re,{className:"w-6 h-6 text-red-400"})}),a.jsx(n.button,{onClick:()=>{s(x)},disabled:b||i.length>=5,className:"w-14 h-14 rounded-full flex items-center justify-center border transition-colors "+(b||i.length>=5?"bg-gray-500/20 border-gray-500/30 cursor-not-allowed":"bg-blue-500/20 hover:bg-blue-500/30 border-blue-500/30"),whileHover:!b&&i.length<5?{scale:1.1}:{},whileTap:!b&&i.length<5?{scale:.9}:{},children:a.jsx(Fe,{className:"w-6 h-6 "+(b||i.length>=5?"text-gray-400":"text-blue-400")})}),a.jsx(n.button,{onClick:()=>{h("right"),t(x),f()},className:"w-14 h-14 bg-green-500/20 hover:bg-green-500/30 rounded-full flex items-center justify-center border border-green-500/30 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(he,{className:"w-6 h-6 text-green-400"})})]}),a.jsx("div",{className:"text-center mt-6 text-sm text-slate-400",children:"Swipe right to like • Swipe left to pass • Tap + to add to team"})]})}function fd(e){return(fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bd(e){var t=function(e,t){if("object"!=fd(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t);if("object"!=fd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fd(t)?t:t+""}function vd(e,t,s){return(t=bd(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function yd(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function wd(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yd(Object(s),!0).forEach(function(t){vd(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yd(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function jd(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Nd="function"==typeof Symbol&&Symbol.observable||"@@observable",kd=function(){return Math.random().toString(36).substring(7).split("").join(".")},Sd={INIT:"@@redux/INIT"+kd(),REPLACE:"@@redux/REPLACE"+kd()};function Cd(e,t,s){var i;if("function"==typeof t&&"function"==typeof s||"function"==typeof s&&"function"==typeof arguments[3])throw new Error(jd(0));if("function"==typeof t&&void 0===s&&(s=t,t=void 0),void 0!==s){if("function"!=typeof s)throw new Error(jd(1));return s(Cd)(e,t)}if("function"!=typeof e)throw new Error(jd(2));var a=e,n=t,r=[],o=r,l=!1;function c(){o===r&&(o=r.slice())}function d(){if(l)throw new Error(jd(3));return n}function h(e){if("function"!=typeof e)throw new Error(jd(4));if(l)throw new Error(jd(5));var t=!0;return c(),o.push(e),function(){if(t){if(l)throw new Error(jd(6));t=!1,c();var s=o.indexOf(e);o.splice(s,1),r=null}}}function u(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(jd(7));if(void 0===e.type)throw new Error(jd(8));if(l)throw new Error(jd(9));try{l=!0,n=a(n,e)}finally{l=!1}for(var t=r=o,s=0;s<t.length;s++){(0,t[s])()}return e}return u({type:Sd.INIT}),(i={dispatch:u,subscribe:h,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(jd(10));a=e,u({type:Sd.REPLACE})}})[Nd]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(jd(11));function s(){e.next&&e.next(d())}return s(),{unsubscribe:t(s)}}})[Nd]=function(){return this},e},i}function Md(e,t){return function(){return t(e.apply(this,arguments))}}function Id(e,t){if("function"==typeof e)return Md(e,t);if("object"!=typeof e||null===e)throw new Error(jd(16));var s={};for(var i in e){var a=e[i];"function"==typeof a&&(s[i]=Md(a,t))}return s}function Td(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var Ed=m.createContext(null);var _d=function(e){e()};function Dd(){var e=_d,t=null,s=null;return{clear:function(){t=null,s=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],s=t;s;)e.push(s),s=s.next;return e},subscribe:function(e){var i=!0,a=s={callback:e,next:null,prev:s};return a.prev?a.prev.next=a:t=a,function(){i&&null!==t&&(i=!1,a.next?a.next.prev=a.prev:s=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Pd={notify:function(){},get:function(){return[]}};function Ad(e,t){var s,i=Pd;function a(){r.onStateChange&&r.onStateChange()}function n(){s||(s=t?t.addNestedSub(a):e.subscribe(a),i=Dd())}var r={addNestedSub:function(e){return n(),i.subscribe(e)},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(s)},trySubscribe:n,tryUnsubscribe:function(){s&&(s(),s=void 0,i.clear(),i=Pd)},getListeners:function(){return i}};return r}var Od="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?p.useLayoutEffect:p.useEffect;function Ld(e){var t=e.store,s=e.context,i=e.children,a=p.useMemo(function(){var e=Ad(t);return{store:t,subscription:e}},[t]),n=p.useMemo(function(){return t.getState()},[t]);Od(function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),n!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[a,n]);var r=s||Ed;return m.createElement(r.Provider,{value:a},i)}var Rd={exports:{}},zd={},Bd="function"==typeof Symbol&&Symbol.for,Fd=Bd?Symbol.for("react.element"):60103,Hd=Bd?Symbol.for("react.portal"):60106,Wd=Bd?Symbol.for("react.fragment"):60107,$d=Bd?Symbol.for("react.strict_mode"):60108,Gd=Bd?Symbol.for("react.profiler"):60114,Vd=Bd?Symbol.for("react.provider"):60109,Ud=Bd?Symbol.for("react.context"):60110,qd=Bd?Symbol.for("react.async_mode"):60111,Yd=Bd?Symbol.for("react.concurrent_mode"):60111,Xd=Bd?Symbol.for("react.forward_ref"):60112,Jd=Bd?Symbol.for("react.suspense"):60113,Kd=Bd?Symbol.for("react.suspense_list"):60120,Qd=Bd?Symbol.for("react.memo"):60115,Zd=Bd?Symbol.for("react.lazy"):60116,eh=Bd?Symbol.for("react.block"):60121,th=Bd?Symbol.for("react.fundamental"):60117,sh=Bd?Symbol.for("react.responder"):60118,ih=Bd?Symbol.for("react.scope"):60119;function ah(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Fd:switch(e=e.type){case qd:case Yd:case Wd:case Gd:case $d:case Jd:return e;default:switch(e=e&&e.$$typeof){case Ud:case Xd:case Zd:case Qd:case Vd:return e;default:return t}}case Hd:return t}}}function nh(e){return ah(e)===Yd}zd.AsyncMode=qd,zd.ConcurrentMode=Yd,zd.ContextConsumer=Ud,zd.ContextProvider=Vd,zd.Element=Fd,zd.ForwardRef=Xd,zd.Fragment=Wd,zd.Lazy=Zd,zd.Memo=Qd,zd.Portal=Hd,zd.Profiler=Gd,zd.StrictMode=$d,zd.Suspense=Jd,zd.isAsyncMode=function(e){return nh(e)||ah(e)===qd},zd.isConcurrentMode=nh,zd.isContextConsumer=function(e){return ah(e)===Ud},zd.isContextProvider=function(e){return ah(e)===Vd},zd.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Fd},zd.isForwardRef=function(e){return ah(e)===Xd},zd.isFragment=function(e){return ah(e)===Wd},zd.isLazy=function(e){return ah(e)===Zd},zd.isMemo=function(e){return ah(e)===Qd},zd.isPortal=function(e){return ah(e)===Hd},zd.isProfiler=function(e){return ah(e)===Gd},zd.isStrictMode=function(e){return ah(e)===$d},zd.isSuspense=function(e){return ah(e)===Jd},zd.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Wd||e===Yd||e===Gd||e===$d||e===Jd||e===Kd||"object"==typeof e&&null!==e&&(e.$$typeof===Zd||e.$$typeof===Qd||e.$$typeof===Vd||e.$$typeof===Ud||e.$$typeof===Xd||e.$$typeof===th||e.$$typeof===sh||e.$$typeof===ih||e.$$typeof===eh)},zd.typeOf=ah,Rd.exports=zd;var rh=Rd.exports,oh={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lh={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ch={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dh={};function hh(e){return rh.isMemo(e)?ch:dh[e.$$typeof]||oh}dh[rh.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dh[rh.Memo]=ch;var uh=Object.defineProperty,ph=Object.getOwnPropertyNames,mh=Object.getOwnPropertySymbols,gh=Object.getOwnPropertyDescriptor,xh=Object.getPrototypeOf,fh=Object.prototype;var bh=function e(t,s,i){if("string"!=typeof s){if(fh){var a=xh(s);a&&a!==fh&&e(t,a,i)}var n=ph(s);mh&&(n=n.concat(mh(s)));for(var r=hh(t),o=hh(s),l=0;l<n.length;++l){var c=n[l];if(!(lh[c]||i&&i[c]||o&&o[c]||r&&r[c])){var d=gh(s,c);try{uh(t,c,d)}catch(h){}}}}return t};const vh=g(bh);var yh={exports:{}},wh={},jh=60103,Nh=60106,kh=60107,Sh=60108,Ch=60114,Mh=60109,Ih=60110,Th=60112,Eh=60113,_h=60120,Dh=60115,Ph=60116,Ah=60121,Oh=60122,Lh=60117,Rh=60129,zh=60131;if("function"==typeof Symbol&&Symbol.for){var Bh=Symbol.for;jh=Bh("react.element"),Nh=Bh("react.portal"),kh=Bh("react.fragment"),Sh=Bh("react.strict_mode"),Ch=Bh("react.profiler"),Mh=Bh("react.provider"),Ih=Bh("react.context"),Th=Bh("react.forward_ref"),Eh=Bh("react.suspense"),_h=Bh("react.suspense_list"),Dh=Bh("react.memo"),Ph=Bh("react.lazy"),Ah=Bh("react.block"),Oh=Bh("react.server.block"),Lh=Bh("react.fundamental"),Rh=Bh("react.debug_trace_mode"),zh=Bh("react.legacy_hidden")}function Fh(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case jh:switch(e=e.type){case kh:case Ch:case Sh:case Eh:case _h:return e;default:switch(e=e&&e.$$typeof){case Ih:case Th:case Ph:case Dh:case Mh:return e;default:return t}}case Nh:return t}}}var Hh=Mh,Wh=jh,$h=Th,Gh=kh,Vh=Ph,Uh=Dh,qh=Nh,Yh=Ch,Xh=Sh,Jh=Eh;wh.ContextConsumer=Ih,wh.ContextProvider=Hh,wh.Element=Wh,wh.ForwardRef=$h,wh.Fragment=Gh,wh.Lazy=Vh,wh.Memo=Uh,wh.Portal=qh,wh.Profiler=Yh,wh.StrictMode=Xh,wh.Suspense=Jh,wh.isAsyncMode=function(){return!1},wh.isConcurrentMode=function(){return!1},wh.isContextConsumer=function(e){return Fh(e)===Ih},wh.isContextProvider=function(e){return Fh(e)===Mh},wh.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===jh},wh.isForwardRef=function(e){return Fh(e)===Th},wh.isFragment=function(e){return Fh(e)===kh},wh.isLazy=function(e){return Fh(e)===Ph},wh.isMemo=function(e){return Fh(e)===Dh},wh.isPortal=function(e){return Fh(e)===Nh},wh.isProfiler=function(e){return Fh(e)===Ch},wh.isStrictMode=function(e){return Fh(e)===Sh},wh.isSuspense=function(e){return Fh(e)===Eh},wh.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===kh||e===Ch||e===Rh||e===Sh||e===Eh||e===_h||e===zh||"object"==typeof e&&null!==e&&(e.$$typeof===Ph||e.$$typeof===Dh||e.$$typeof===Mh||e.$$typeof===Ih||e.$$typeof===Th||e.$$typeof===Lh||e.$$typeof===Ah||e[0]===Oh)},wh.typeOf=Fh,yh.exports=wh;var Kh=yh.exports,Qh=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Zh=["reactReduxForwardedRef"],eu=[],tu=[null,null];function su(e,t){var s=e[1];return[t.payload,s+1]}function iu(e,t,s){Od(function(){return e.apply(void 0,t)},s)}function au(e,t,s,i,a,n,r){e.current=i,t.current=a,s.current=!1,n.current&&(n.current=null,r())}function nu(e,t,s,i,a,n,r,o,l,c){if(e){var d=!1,h=null,u=function(){if(!d){var e,s,u=t.getState();try{e=i(u,a.current)}catch(p){s=p,h=p}s||(h=null),e===n.current?r.current||l():(n.current=e,o.current=e,r.current=!0,c({type:"STORE_UPDATED",payload:{error:s}}))}};s.onStateChange=u,s.trySubscribe(),u();return function(){if(d=!0,s.tryUnsubscribe(),s.onStateChange=null,h)throw h}}}var ru=function(){return[null,0]};function ou(e,t){void 0===t&&(t={});var s=t,i=s.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,n=s.methodName,r=void 0===n?"connectAdvanced":n,o=s.renderCountProp,l=void 0===o?void 0:o,c=s.shouldHandleStateChanges,d=void 0===c||c,h=s.storeKey,u=void 0===h?"store":h;s.withRef;var g=s.forwardRef,x=void 0!==g&&g,f=s.context,v=void 0===f?Ed:f,y=He(s,Qh),w=v;return function(t){var s=t.displayName||t.name||"Component",i=a(s),n=b({},y,{getDisplayName:a,methodName:r,renderCountProp:l,shouldHandleStateChanges:d,storeKey:u,displayName:i,wrappedComponentName:s,WrappedComponent:t}),o=y.pure;var c=o?p.useMemo:function(e){return e()};function h(s){var i=p.useMemo(function(){var e=s.reactReduxForwardedRef,t=He(s,Zh);return[s.context,e,t]},[s]),a=i[0],r=i[1],o=i[2],l=p.useMemo(function(){return a&&a.Consumer&&Kh.isContextConsumer(m.createElement(a.Consumer,null))?a:w},[a,w]),h=p.useContext(l),u=Boolean(s.store)&&Boolean(s.store.getState)&&Boolean(s.store.dispatch);Boolean(h)&&Boolean(h.store);var g=u?s.store:h.store,x=p.useMemo(function(){return function(t){return e(t.dispatch,n)}(g)},[g]),f=p.useMemo(function(){if(!d)return tu;var e=Ad(g,u?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[g,u,h]),v=f[0],y=f[1],j=p.useMemo(function(){return u?h:b({},h,{subscription:v})},[u,h,v]),N=p.useReducer(su,eu,ru),k=N[0][0],S=N[1];if(k&&k.error)throw k.error;var C=p.useRef(),M=p.useRef(o),I=p.useRef(),T=p.useRef(!1),E=c(function(){return I.current&&o===M.current?I.current:x(g.getState(),o)},[g,k,o]);iu(au,[M,C,T,o,E,I,y]),iu(nu,[d,g,v,x,M,C,T,I,y,S],[g,v,x]);var _=p.useMemo(function(){return m.createElement(t,b({},E,{ref:r}))},[r,t,E]);return p.useMemo(function(){return d?m.createElement(l.Provider,{value:j},_):_},[l,_,j])}var g=o?m.memo(h):h;if(g.WrappedComponent=t,g.displayName=h.displayName=i,x){var f=m.forwardRef(function(e,t){return m.createElement(g,b({},e,{reactReduxForwardedRef:t}))});return f.displayName=i,f.WrappedComponent=t,vh(f,t)}return vh(g,t)}}function lu(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function cu(e,t){if(lu(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(var a=0;a<s.length;a++)if(!Object.prototype.hasOwnProperty.call(t,s[a])||!lu(e[s[a]],t[s[a]]))return!1;return!0}function du(e){return function(t,s){var i=e(t,s);function a(){return i}return a.dependsOnOwnProps=!1,a}}function hu(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function uu(e,t){return function(t,s){s.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,s){i.mapToProps=e,i.dependsOnOwnProps=hu(e);var a=i(t,s);return"function"==typeof a&&(i.mapToProps=a,i.dependsOnOwnProps=hu(a),a=i(t,s)),a},i}}const pu=[function(e){return"function"==typeof e?uu(e):void 0},function(e){return e?void 0:du(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?du(function(t){return function(e,t){var s={},i=function(i){var a=e[i];"function"==typeof a&&(s[i]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)i(a);return s}(e,t)}):void 0}];const mu=[function(e){return"function"==typeof e?uu(e):void 0},function(e){return e?void 0:du(function(){return{}})}];function gu(e,t,s){return b({},s,e,t)}const xu=[function(e){return"function"==typeof e?function(e){return function(t,s){s.displayName;var i,a=s.pure,n=s.areMergedPropsEqual,r=!1;return function(t,s,o){var l=e(t,s,o);return r?a&&n(l,i)||(i=l):(r=!0,i=l),i}}}(e):void 0},function(e){return e?void 0:function(){return gu}}];var fu=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function bu(e,t,s,i){return function(a,n){return s(e(a,n),t(i,n),n)}}function vu(e,t,s,i,a){var n,r,o,l,c,d=a.areStatesEqual,h=a.areOwnPropsEqual,u=a.areStatePropsEqual,p=!1;function m(a,p){var m,g,x=!h(p,r),f=!d(a,n,p,r);return n=a,r=p,x&&f?(o=e(n,r),t.dependsOnOwnProps&&(l=t(i,r)),c=s(o,l,r)):x?(e.dependsOnOwnProps&&(o=e(n,r)),t.dependsOnOwnProps&&(l=t(i,r)),c=s(o,l,r)):f?(m=e(n,r),g=!u(m,o),o=m,g&&(c=s(o,l,r)),c):c}return function(a,d){return p?m(a,d):(o=e(n=a,r=d),l=t(i,r),c=s(o,l,r),p=!0,c)}}function yu(e,t){var s=t.initMapStateToProps,i=t.initMapDispatchToProps,a=t.initMergeProps,n=He(t,fu),r=s(e,n),o=i(e,n),l=a(e,n);return(n.pure?vu:bu)(r,o,l,e,n)}var wu=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ju(e,t,s){for(var i=t.length-1;i>=0;i--){var a=t[i](e);if(a)return a}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+s+" argument when connecting component "+i.wrappedComponentName+".")}}function Nu(e,t){return e===t}function ku(e){var t=void 0===e?{}:e,s=t.connectHOC,i=void 0===s?ou:s,a=t.mapStateToPropsFactories,n=void 0===a?mu:a,r=t.mapDispatchToPropsFactories,o=void 0===r?pu:r,l=t.mergePropsFactories,c=void 0===l?xu:l,d=t.selectorFactory,h=void 0===d?yu:d;return function(e,t,s,a){void 0===a&&(a={});var r=a,l=r.pure,d=void 0===l||l,u=r.areStatesEqual,p=void 0===u?Nu:u,m=r.areOwnPropsEqual,g=void 0===m?cu:m,x=r.areStatePropsEqual,f=void 0===x?cu:x,v=r.areMergedPropsEqual,y=void 0===v?cu:v,w=He(r,wu),j=ju(e,n,"mapStateToProps"),N=ju(t,o,"mapDispatchToProps"),k=ju(s,c,"mergeProps");return i(h,b({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:j,initMapDispatchToProps:N,initMergeProps:k,pure:d,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:f,areMergedPropsEqual:y},w))}}const Su=ku();var Cu;function Mu(e,t){var s=p.useState(function(){return{inputs:t,result:e()}})[0],i=p.useRef(!0),a=p.useRef(s),n=i.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return p.useEffect(function(){i.current=!1,a.current=n},[n]),n.result}Cu=x.unstable_batchedUpdates,_d=Cu;var Iu=Mu,Tu=function(e,t){return Mu(function(){return e},t)},Eu=function(e){var t=e.top,s=e.right,i=e.bottom,a=e.left;return{top:t,right:s,bottom:i,left:a,width:s-a,height:i-t,x:a,y:t,center:{x:(s+a)/2,y:(i+t)/2}}},_u=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Du=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Pu={top:0,right:0,bottom:0,left:0},Au=function(e){var t=e.borderBox,s=e.margin,i=void 0===s?Pu:s,a=e.border,n=void 0===a?Pu:a,r=e.padding,o=void 0===r?Pu:r,l=Eu(_u(t,i)),c=Eu(Du(t,n)),d=Eu(Du(c,o));return{marginBox:l,borderBox:Eu(t),paddingBox:c,contentBox:d,margin:i,border:n,padding:o}},Ou=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var s=Number(t);return isNaN(s)&&We(),s},Lu=function(e,t){var s,i,a=e.borderBox,n=e.border,r=e.margin,o=e.padding,l=(i=t,{top:(s=a).top+i.y,left:s.left+i.x,bottom:s.bottom+i.y,right:s.right+i.x});return Au({borderBox:l,border:n,margin:r,padding:o})},Ru=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Lu(e,t)},zu=function(e,t){var s={top:Ou(t.marginTop),right:Ou(t.marginRight),bottom:Ou(t.marginBottom),left:Ou(t.marginLeft)},i={top:Ou(t.paddingTop),right:Ou(t.paddingRight),bottom:Ou(t.paddingBottom),left:Ou(t.paddingLeft)},a={top:Ou(t.borderTopWidth),right:Ou(t.borderRightWidth),bottom:Ou(t.borderBottomWidth),left:Ou(t.borderLeftWidth)};return Au({borderBox:e,margin:s,padding:i,border:a})},Bu=function(e){var t=e.getBoundingClientRect(),s=window.getComputedStyle(e);return zu(t,s)},Fu=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Hu(e,t){return e===t||!(!Fu(e)||!Fu(t))}function Wu(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!Hu(e[s],t[s]))return!1;return!0}function $u(e,t){var s;void 0===t&&(t=Wu);var i,a=[],n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n&&s===this&&t(r,a)||(i=e.apply(this,r),n=!0,s=this,a=r),i}}var Gu=function(e){var t=[],s=null,i=function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];t=a,s||(s=requestAnimationFrame(function(){s=null,e.apply(void 0,t)}))};return i.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},i};function Vu(e,t){}function Uu(){}function qu(e,t,s){var i=t.map(function(t){var i,a,n=(i=s,a=t.options,b({},i,{},a));return e.addEventListener(t.eventName,t.fn,n),function(){e.removeEventListener(t.eventName,t.fn,n)}});return function(){i.forEach(function(e){e()})}}Vu.bind(null,"warn"),Vu.bind(null,"error");function Yu(e){this.message=e}function Xu(e,t){throw new Yu("Invariant failed")}Yu.prototype.toString=function(){return this.message};var Ju=function(e){function t(){for(var t,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).callbacks=null,t.unbind=Uu,t.onWindowError=function(e){var s=t.getCallbacks();s.isDragging()&&s.tryAbort(),e.error instanceof Yu&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}$e(t,e);var s=t.prototype;return s.componentDidMount=function(){this.unbind=qu(window,[{eventName:"error",fn:this.onWindowError}])},s.componentDidCatch=function(e){if(!(e instanceof Yu))throw e;this.setState({})},s.componentWillUnmount=function(){this.unbind()},s.render=function(){return this.props.children(this.setCallbacks)},t}(m.Component),Ku=function(e){return e+1},Qu=function(e,t){var s=e.droppableId===t.droppableId,i=Ku(e.index),a=Ku(t.index);return s?"\n      You have moved the item from position "+i+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+i+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},Zu=function(e,t,s){return t.droppableId===s.droppableId?"\n      The item "+e+"\n      has been combined with "+s.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+s.draggableId+"\n      in list "+s.droppableId+"\n    "},ep=function(e){return"\n  The item has returned to its starting position\n  of "+Ku(e.index)+"\n"},tp="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",sp=function(e){return"\n  You have lifted an item in position "+Ku(e.source.index)+"\n"},ip=function(e){var t=e.destination;if(t)return Qu(e.source,t);var s=e.combine;return s?Zu(e.draggableId,e.source,s):"You are over an area that cannot be dropped on"},ap=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+ep(e.source)+"\n    ";var t=e.destination,s=e.combine;return t?"\n      You have dropped the item.\n      "+Qu(e.source,t)+"\n    ":s?"\n      You have dropped the item.\n      "+Zu(e.draggableId,e.source,s)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+ep(e.source)+"\n  "},np={x:0,y:0},rp=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},op=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},lp=function(e,t){return e.x===t.x&&e.y===t.y},cp=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},dp=function(e,t,s){var i;return void 0===s&&(s=0),(i={})[e]=t,i["x"===e?"y":"x"]=s,i},hp=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},up=function(e,t){return Math.min.apply(Math,t.map(function(t){return hp(e,t)}))},pp=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},mp=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},gp=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},xp=function(e,t){return t&&t.shouldClipSubject?function(e,t){var s=Eu({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return s.width<=0||s.height<=0?null:s}(t.pageMarginBox,e):Eu(e)},fp=function(e){var t=e.page,s=e.withPlaceholder,i=e.axis,a=e.frame,n=function(e,t){return t?mp(e,t.scroll.diff.displacement):e}(t.marginBox,a),r=function(e,t,s){var i;return s&&s.increasedBy?b({},e,((i={})[t.end]=e[t.end]+s.increasedBy[t.line],i)):e}(n,i,s);return{page:t,withPlaceholder:s,active:xp(r,a)}},bp=function(e,t){e.frame||Xu();var s=e.frame,i=op(t,s.scroll.initial),a=cp(i),n=b({},s,{scroll:{initial:s.scroll.initial,current:t,diff:{value:i,displacement:a},max:s.scroll.max}}),r=fp({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:n});return b({},e,{frame:n,subject:r})};function vp(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function yp(e,t){if(e.findIndex)return e.findIndex(t);for(var s=0;s<e.length;s++)if(t(e[s]))return s;return-1}function wp(e,t){if(e.find)return e.find(t);var s=yp(e,t);return-1!==s?e[s]:void 0}function jp(e){return Array.prototype.slice.call(e)}var Np=$u(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),kp=$u(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),Sp=$u(function(e){return vp(e)}),Cp=$u(function(e){return vp(e)}),Mp=$u(function(e,t){return Cp(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index})});function Ip(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Tp(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Ep=$u(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),_p=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Dp={point:np,value:0},Pp={invisible:{},visible:{},all:[]},Ap={displaced:Pp,displacedBy:Dp,at:null},Op=function(e,t){return function(s){return e<=s&&s<=t}},Lp=function(e){var t=Op(e.top,e.bottom),s=Op(e.left,e.right);return function(i){if(t(i.top)&&t(i.bottom)&&s(i.left)&&s(i.right))return!0;var a=t(i.top)||t(i.bottom),n=s(i.left)||s(i.right);if(a&&n)return!0;var r=i.top<e.top&&i.bottom>e.bottom,o=i.left<e.left&&i.right>e.right;return!(!r||!o)||(r&&n||o&&a)}},Rp=function(e){var t=Op(e.top,e.bottom),s=Op(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&s(e.left)&&s(e.right)}},zp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Bp={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Fp=function(e){var t=e.target,s=e.destination,i=e.viewport,a=e.withDroppableDisplacement,n=e.isVisibleThroughFrameFn,r=a?function(e,t){var s=t.frame?t.frame.scroll.diff.displacement:np;return mp(e,s)}(t,s):t;return function(e,t,s){return!!t.subject.active&&s(t.subject.active)(e)}(r,s,n)&&function(e,t,s){return s(t)(e)}(r,i,n)},Hp=function(e){return Fp(b({},e,{isVisibleThroughFrameFn:Rp}))};function Wp(e){var t=e.afterDragging,s=e.destination,i=e.displacedBy,a=e.viewport,n=e.forceShouldAnimate,r=e.last;return t.reduce(function(e,t){var o=function(e,t){var s=e.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return Eu(_u(s,i))}(t,i),l=t.descriptor.id;if(e.all.push(l),!Fp(b({},{target:o,destination:s,viewport:a,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:Lp})))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,s){if("boolean"==typeof s)return s;if(!t)return!0;var i=t.invisible,a=t.visible;if(i[e])return!1;var n=a[e];return!n||n.shouldAnimate}(l,r,n),d={draggableId:l,shouldAnimate:c};return e.visible[l]=d,e},{all:[],visible:{},invisible:{}})}function $p(e){var t=e.insideDestination,s=e.inHomeList,i=e.displacedBy,a=e.destination,n=function(e,t){if(!e.length)return 0;var s=e[e.length-1].descriptor.index;return t.inHomeList?s:s+1}(t,{inHomeList:s});return{displaced:Pp,displacedBy:i,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:n}}}}function Gp(e){var t=e.draggable,s=e.insideDestination,i=e.destination,a=e.viewport,n=e.displacedBy,r=e.last,o=e.index,l=e.forceShouldAnimate,c=_p(t,i);if(null==o)return $p({insideDestination:s,inHomeList:c,displacedBy:n,destination:i});var d=wp(s,function(e){return e.descriptor.index===o});if(!d)return $p({insideDestination:s,inHomeList:c,displacedBy:n,destination:i});var h=Ep(t,s),u=s.indexOf(d);return{displaced:Wp({afterDragging:h.slice(u),destination:i,displacedBy:n,last:r,viewport:a.frame,forceShouldAnimate:l}),displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Vp(e,t){return Boolean(t.effected[e])}var Up=function(e){var t=e.isMovingForward,s=e.isInHomeList,i=e.draggable,a=e.draggables,n=e.destination,r=e.insideDestination,o=e.previousImpact,l=e.viewport,c=e.afterCritical,d=o.at;if(d||Xu(),"REORDER"===d.type){var h=function(e){var t=e.isMovingForward,s=e.isInHomeList,i=e.insideDestination,a=e.location;if(!i.length)return null;var n=a.index,r=t?n+1:n-1,o=i[0].descriptor.index,l=i[i.length-1].descriptor.index;return r<o||r>(s?l:l+1)?null:r}({isMovingForward:t,isInHomeList:s,location:d.destination,insideDestination:r});return null==h?null:Gp({draggable:i,insideDestination:r,destination:n,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})}var u=function(e){var t=e.isMovingForward,s=e.destination,i=e.draggables,a=e.combine,n=e.afterCritical;if(!s.isCombineEnabled)return null;var r=a.draggableId,o=i[r].descriptor.index;return Vp(r,n)?t?o:o-1:t?o+1:o}({isMovingForward:t,destination:n,displaced:o.displaced,draggables:a,combine:d.combine,afterCritical:c});return null==u?null:Gp({draggable:i,insideDestination:r,destination:n,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})},qp=function(e){var t=e.afterCritical,s=e.impact,i=e.draggables,a=Tp(s);a||Xu();var n=a.draggableId,r=i[n].page.borderBox.center,o=function(e){var t=e.displaced,s=e.afterCritical,i=e.combineWith,a=e.displacedBy,n=Boolean(t.visible[i]||t.invisible[i]);return Vp(i,s)?n?np:cp(a.point):n?a.point:np}({displaced:s.displaced,afterCritical:t,combineWith:n,displacedBy:s.displacedBy});return rp(r,o)},Yp=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Xp=function(e,t,s){return t[e.crossAxisStart]+s.margin[e.crossAxisStart]+s.borderBox[e.crossAxisSize]/2},Jp=function(e){var t=e.axis,s=e.moveRelativeTo,i=e.isMoving;return dp(t.line,s.marginBox[t.end]+Yp(t,i),Xp(t,s.marginBox,i))},Kp=function(e){var t=e.axis,s=e.moveRelativeTo,i=e.isMoving;return dp(t.line,s.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,i),Xp(t,s.marginBox,i))},Qp=function(e){var t=e.impact,s=e.draggable,i=e.draggables,a=e.droppable,n=e.afterCritical,r=Mp(a.descriptor.id,i),o=s.page,l=a.axis;if(!r.length)return function(e){var t=e.axis,s=e.moveInto,i=e.isMoving;return dp(t.line,s.contentBox[t.start]+Yp(t,i),Xp(t,s.contentBox,i))}({axis:l,moveInto:a.page,isMoving:o});var c=t.displaced,d=t.displacedBy,h=c.all[0];if(h){var u=i[h];if(Vp(h,n))return Kp({axis:l,moveRelativeTo:u.page,isMoving:o});var p=Lu(u.page,d.point);return Kp({axis:l,moveRelativeTo:p,isMoving:o})}var m=r[r.length-1];if(m.descriptor.id===s.descriptor.id)return o.borderBox.center;if(Vp(m.descriptor.id,n)){var g=Lu(m.page,cp(n.displacedBy.point));return Jp({axis:l,moveRelativeTo:g,isMoving:o})}return Jp({axis:l,moveRelativeTo:m.page,isMoving:o})},Zp=function(e,t){var s=e.frame;return s?rp(t,s.scroll.diff.displacement):t},em=function(e){var t=function(e){var t=e.impact,s=e.draggable,i=e.droppable,a=e.draggables,n=e.afterCritical,r=s.page.borderBox.center,o=t.at;return i&&o?"REORDER"===o.type?Qp({impact:t,draggable:s,draggables:a,droppable:i,afterCritical:n}):qp({impact:t,draggables:a,afterCritical:n}):r}(e),s=e.droppable;return s?Zp(s,t):t},tm=function(e,t){var s=op(t,e.scroll.initial),i=cp(s);return{frame:Eu({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:s,displacement:i}}}};function sm(e,t){return e.map(function(e){return t[e]})}var im=function(e){var t=e.pageBorderBoxCenter,s=e.draggable,i=function(e,t){return rp(e.scroll.diff.displacement,t)}(e.viewport,t),a=op(i,s.page.borderBox.center);return rp(s.client.borderBox.center,a)},am=function(e){var t=e.draggable,s=e.destination,i=e.newPageBorderBoxCenter,a=e.viewport,n=e.withDroppableDisplacement,r=e.onlyOnMainAxis,o=void 0!==r&&r,l=op(i,t.page.borderBox.center),c={target:mp(t.page.borderBox,l),destination:s,withDroppableDisplacement:n,viewport:a};return o?function(e){return Fp(b({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var s=Op(e.top,e.bottom),i=Op(e.left,e.right);return function(e){return t===zp?s(e.top)&&s(e.bottom):i(e.left)&&i(e.right)}})}));var t}(c):Hp(c)},nm=function(e){var t=e.isMovingForward,s=e.draggable,i=e.destination,a=e.draggables,n=e.previousImpact,r=e.viewport,o=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!i.isEnabled)return null;var d=Mp(i.descriptor.id,a),h=_p(s,i),u=function(e){var t=e.isMovingForward,s=e.draggable,i=e.destination,a=e.insideDestination,n=e.previousImpact;if(!i.isCombineEnabled)return null;if(!Ip(n))return null;function r(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:i.descriptor.id}};return b({},n,{at:t})}var o=n.displaced.all,l=o.length?o[0]:null;if(t)return l?r(l):null;var c=Ep(s,a);if(!l)return c.length?r(c[c.length-1].descriptor.id):null;var d=yp(c,function(e){return e.descriptor.id===l});-1===d&&Xu();var h=d-1;return h<0?null:r(c[h].descriptor.id)}({isMovingForward:t,draggable:s,destination:i,insideDestination:d,previousImpact:n})||Up({isMovingForward:t,isInHomeList:h,draggable:s,draggables:a,destination:i,insideDestination:d,previousImpact:n,viewport:r,afterCritical:c});if(!u)return null;var p=em({impact:u,draggable:s,droppable:i,draggables:a,afterCritical:c});if(am({draggable:s,destination:i,newPageBorderBoxCenter:p,viewport:r.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:im({pageBorderBoxCenter:p,draggable:s,viewport:r}),impact:u,scrollJumpRequest:null};var m=op(p,o),g=function(e){var t=e.impact,s=e.viewport,i=e.destination,a=e.draggables,n=e.maxScrollChange,r=tm(s,rp(s.scroll.current,n)),o=i.frame?bp(i,rp(i.frame.scroll.current,n)):i,l=t.displaced,c=Wp({afterDragging:sm(l.all,a),destination:i,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),d=Wp({afterDragging:sm(l.all,a),destination:o,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),h={},u={},p=[l,c,d];return l.all.forEach(function(e){var t=function(e,t){for(var s=0;s<t.length;s++){var i=t[s].visible[e];if(i)return i}return null}(e,p);t?u[e]=t:h[e]=!0}),b({},t,{displaced:{all:l.all,invisible:h,visible:u}})}({impact:u,viewport:r,destination:i,draggables:a,maxScrollChange:m});return{clientSelection:l,impact:g,scrollJumpRequest:m}},rm=function(e){var t=e.subject.active;return t||Xu(),t},om=function(e,t){var s=e.page.borderBox.center;return Vp(e.descriptor.id,t)?op(s,t.displacedBy.point):s},lm=function(e,t){var s=e.page.borderBox;return Vp(e.descriptor.id,t)?mp(s,cp(t.displacedBy.point)):s},cm=$u(function(e,t){var s=t[e.line];return{value:s,point:dp(e.line,s)}}),dm=function(e,t){return b({},e,{scroll:b({},e.scroll,{max:t})})},hm=function(e,t,s){var i=e.frame;_p(t,e)&&Xu(),e.subject.withPlaceholder&&Xu();var a=cm(e.axis,t.displaceBy).point,n=function(e,t,s){var i=e.axis;if("virtual"===e.descriptor.mode)return dp(i.line,t[i.line]);var a=e.subject.page.contentBox[i.size],n=Mp(e.descriptor.id,s).reduce(function(e,t){return e+t.client.marginBox[i.size]},0)+t[i.line]-a;return n<=0?null:dp(i.line,n)}(e,a,s),r={placeholderSize:a,increasedBy:n,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var o=fp({page:e.subject.page,withPlaceholder:r,axis:e.axis,frame:e.frame});return b({},e,{subject:o})}var l=n?rp(i.scroll.max,n):i.scroll.max,c=dm(i,l),d=fp({page:e.subject.page,withPlaceholder:r,axis:e.axis,frame:c});return b({},e,{subject:d,frame:c})},um=function(e){var t=e.isMovingForward,s=e.previousPageBorderBoxCenter,i=e.draggable,a=e.isOver,n=e.draggables,r=e.droppables,o=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,s=e.pageBorderBoxCenter,i=e.source,a=e.droppables,n=e.viewport,r=i.subject.active;if(!r)return null;var o=i.axis,l=Op(r[o.start],r[o.end]),c=Sp(a).filter(function(e){return e!==i}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return Lp(n.frame)(rm(e))}).filter(function(e){var s=rm(e);return t?r[o.crossAxisEnd]<s[o.crossAxisEnd]:s[o.crossAxisStart]<r[o.crossAxisStart]}).filter(function(e){var t=rm(e),s=Op(t[o.start],t[o.end]);return l(t[o.start])||l(t[o.end])||s(r[o.start])||s(r[o.end])}).sort(function(e,s){var i=rm(e)[o.crossAxisStart],a=rm(s)[o.crossAxisStart];return t?i-a:a-i}).filter(function(e,t,s){return rm(e)[o.crossAxisStart]===rm(s[0])[o.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var d=c.filter(function(e){return Op(rm(e)[o.start],rm(e)[o.end])(s[o.line])});return 1===d.length?d[0]:d.length>1?d.sort(function(e,t){return rm(e)[o.start]-rm(t)[o.start]})[0]:c.sort(function(e,t){var i=up(s,gp(rm(e))),a=up(s,gp(rm(t)));return i!==a?i-a:rm(e)[o.start]-rm(t)[o.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:s,source:a,droppables:r,viewport:o});if(!c)return null;var d=Mp(c.descriptor.id,n),h=function(e){var t=e.pageBorderBoxCenter,s=e.viewport,i=e.destination,a=e.insideDestination,n=e.afterCritical;return a.filter(function(e){return Hp({target:lm(e,n),destination:i,viewport:s.frame,withDroppableDisplacement:!0})}).sort(function(e,s){var a=hp(t,Zp(i,om(e,n))),r=hp(t,Zp(i,om(s,n)));return a<r?-1:r<a?1:e.descriptor.index-s.descriptor.index})[0]||null}({pageBorderBoxCenter:s,viewport:o,destination:c,insideDestination:d,afterCritical:l}),u=function(e){var t=e.previousPageBorderBoxCenter,s=e.moveRelativeTo,i=e.insideDestination,a=e.draggable,n=e.draggables,r=e.destination,o=e.viewport,l=e.afterCritical;if(!s){if(i.length)return null;var c={displaced:Pp,displacedBy:Dp,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:0}}},d=em({impact:c,draggable:a,droppable:r,draggables:n,afterCritical:l}),h=_p(a,r)?r:hm(r,a,n);return am({draggable:a,destination:h,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var u,p=Boolean(t[r.axis.line]<=s.page.borderBox.center[r.axis.line]),m=(u=s.descriptor.index,s.descriptor.id===a.descriptor.id||p?u:u+1),g=cm(r.axis,a.displaceBy);return Gp({draggable:a,insideDestination:i,destination:r,viewport:o,displacedBy:g,last:Pp,index:m})}({previousPageBorderBoxCenter:s,destination:c,draggable:i,draggables:n,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!u)return null;var p=em({impact:u,draggable:i,droppable:c,draggables:n,afterCritical:l});return{clientSelection:im({pageBorderBoxCenter:p,draggable:i,viewport:o}),impact:u,scrollJumpRequest:null}},pm=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},mm=function(e){var t=e.state,s=e.type,i=function(e,t){var s=pm(e);return s?t[s]:null}(t.impact,t.dimensions.droppables),a=Boolean(i),n=t.dimensions.droppables[t.critical.droppable.id],r=i||n,o=r.axis.direction,l="vertical"===o&&("MOVE_UP"===s||"MOVE_DOWN"===s)||"horizontal"===o&&("MOVE_LEFT"===s||"MOVE_RIGHT"===s);if(l&&!a)return null;var c="MOVE_DOWN"===s||"MOVE_RIGHT"===s,d=t.dimensions.draggables[t.critical.draggable.id],h=t.current.page.borderBoxCenter,u=t.dimensions,p=u.draggables,m=u.droppables;return l?nm({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:r,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):um({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:r,draggables:p,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function gm(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function xm(e){var t=Op(e.top,e.bottom),s=Op(e.left,e.right);return function(e){return t(e.y)&&s(e.x)}}function fm(e){var t=e.pageBorderBox,s=e.draggable,i=e.droppables,a=Sp(i).filter(function(e){if(!e.isEnabled)return!1;var s,i,a=e.subject.active;if(!a)return!1;if(i=a,!((s=t).left<i.right&&s.right>i.left&&s.top<i.bottom&&s.bottom>i.top))return!1;if(xm(a)(t.center))return!0;var n=e.axis,r=a.center[n.crossAxisLine],o=t[n.crossAxisStart],l=t[n.crossAxisEnd],c=Op(a[n.crossAxisStart],a[n.crossAxisEnd]),d=c(o),h=c(l);return!d&&!h||(d?o<r:l>r)});return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,s=e.draggable,i=e.candidates,a=s.page.borderBox.center,n=i.map(function(e){var s=e.axis,i=dp(e.axis.line,t.center[s.line],e.page.borderBox.center[s.crossAxisLine]);return{id:e.descriptor.id,distance:hp(a,i)}}).sort(function(e,t){return t.distance-e.distance});return n[0]?n[0].id:null}({pageBorderBox:t,draggable:s,candidates:a}):null}var bm=function(e,t){return Eu(mp(e,t))};function vm(e){var t=e.displaced,s=e.id;return Boolean(t.visible[s]||t.invisible[s])}var ym=function(e){var t=e.pageOffset,s=e.draggable,i=e.draggables,a=e.droppables,n=e.previousImpact,r=e.viewport,o=e.afterCritical,l=bm(s.page.borderBox,t),c=fm({pageBorderBox:l,draggable:s,droppables:a});if(!c)return Ap;var d,h,u=a[c],p=Mp(u.descriptor.id,i),m=(d=l,(h=u.frame)?bm(d,h.scroll.diff.value):d);return function(e){var t=e.draggable,s=e.pageBorderBoxWithDroppableScroll,i=e.previousImpact,a=e.destination,n=e.insideDestination,r=e.afterCritical;if(!a.isCombineEnabled)return null;var o=a.axis,l=cm(a.axis,t.displaceBy),c=l.value,d=s[o.start],h=s[o.end],u=wp(Ep(t,n),function(e){var t=e.descriptor.id,s=e.page.borderBox,a=s[o.size]/4,n=Vp(t,r),l=vm({displaced:i.displaced,id:t});return n?l?h>s[o.start]+a&&h<s[o.end]-a:d>s[o.start]-c+a&&d<s[o.end]-c-a:l?h>s[o.start]+c+a&&h<s[o.end]+c-a:d>s[o.start]+a&&d<s[o.end]-a});return u?{displacedBy:l,displaced:i.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:m,draggable:s,previousImpact:n,destination:u,insideDestination:p,afterCritical:o})||function(e){var t=e.pageBorderBoxWithDroppableScroll,s=e.draggable,i=e.destination,a=e.insideDestination,n=e.last,r=e.viewport,o=e.afterCritical,l=i.axis,c=cm(i.axis,s.displaceBy),d=c.value,h=t[l.start],u=t[l.end],p=function(e){var t=e.draggable,s=e.closest,i=e.inHomeList;return s?i&&s.descriptor.index>t.descriptor.index?s.descriptor.index-1:s.descriptor.index:null}({draggable:s,closest:wp(Ep(s,a),function(e){var t=e.descriptor.id,s=e.page.borderBox.center[l.line],i=Vp(t,o),a=vm({displaced:n,id:t});return i?a?u<=s:h<s-d:a?u<=s+d:h<s}),inHomeList:_p(s,i)});return Gp({draggable:s,insideDestination:a,destination:i,viewport:r,last:n,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:m,draggable:s,destination:u,insideDestination:p,last:n.displaced,viewport:r,afterCritical:o})},wm=function(e,t){var s;return b({},e,((s={})[t.descriptor.id]=t,s))},jm=function(e){var t=e.previousImpact,s=e.impact,i=e.droppables,a=pm(t),n=pm(s);if(!a)return i;if(a===n)return i;var r=i[a];if(!r.subject.withPlaceholder)return i;var o=function(e){var t=e.subject.withPlaceholder;t||Xu();var s=e.frame;if(!s){var i=fp({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return b({},e,{subject:i})}var a=t.oldFrameMaxScroll;a||Xu();var n=dm(s,a),r=fp({page:e.subject.page,axis:e.axis,frame:n,withPlaceholder:null});return b({},e,{subject:r,frame:n})}(r);return wm(i,o)},Nm=function(e){var t=e.state,s=e.clientSelection,i=e.dimensions,a=e.viewport,n=e.impact,r=e.scrollJumpRequest,o=a||t.viewport,l=i||t.dimensions,c=s||t.current.client.selection,d=op(c,t.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:rp(t.initial.client.borderBoxCenter,d)},u={selection:rp(h.selection,o.scroll.current),borderBoxCenter:rp(h.borderBoxCenter,o.scroll.current),offset:rp(h.offset,o.scroll.diff.value)},p={client:h,page:u};if("COLLECTING"===t.phase)return b({phase:"COLLECTING"},t,{dimensions:l,viewport:o,current:p});var m=l.draggables[t.critical.draggable.id],g=n||ym({pageOffset:u.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),x=function(e){var t=e.draggable,s=e.draggables,i=e.droppables,a=e.previousImpact,n=e.impact,r=jm({previousImpact:a,impact:n,droppables:i}),o=pm(n);if(!o)return r;var l=i[o];if(_p(t,l))return r;if(l.subject.withPlaceholder)return r;var c=hm(l,t,s);return wm(r,c)}({draggable:m,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return b({},t,{current:p,dimensions:{draggables:l.draggables,droppables:x},impact:g,viewport:o,scrollJumpRequest:r||null,forceShouldAnimate:!r&&null})};var km=function(e){var t=e.impact,s=e.viewport,i=e.draggables,a=e.destination,n=e.forceShouldAnimate,r=t.displaced,o=function(e,t){return e.map(function(e){return t[e]})}(r.all,i),l=Wp({afterDragging:o,destination:a,displacedBy:t.displacedBy,viewport:s.frame,forceShouldAnimate:n,last:r});return b({},t,{displaced:l})},Sm=function(e){var t=e.impact,s=e.draggable,i=e.droppable,a=e.draggables,n=e.viewport,r=e.afterCritical,o=em({impact:t,draggable:s,draggables:a,droppable:i,afterCritical:r});return im({pageBorderBoxCenter:o,draggable:s,viewport:n})},Cm=function(e){var t=e.state,s=e.dimensions,i=e.viewport;"SNAP"!==t.movementMode&&Xu();var a=t.impact,n=i||t.viewport,r=s||t.dimensions,o=r.draggables,l=r.droppables,c=o[t.critical.draggable.id],d=pm(a);d||Xu();var h=l[d],u=km({impact:a,viewport:n,destination:h,draggables:o}),p=Sm({impact:u,draggable:c,droppable:h,draggables:o,viewport:n,afterCritical:t.afterCritical});return Nm({impact:u,clientSelection:p,state:t,dimensions:r,viewport:n})},Mm=function(e){var t=e.draggable,s=e.home,i=e.draggables,a=e.viewport,n=cm(s.axis,t.displaceBy),r=Mp(s.descriptor.id,i),o=r.indexOf(t);-1===o&&Xu();var l,c=r.slice(o+1),d=c.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),h={inVirtualList:"virtual"===s.descriptor.mode,displacedBy:n,effected:d};return{impact:{displaced:Wp({afterDragging:c,destination:s,displacedBy:n,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:n,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:h}},Im=function(e){var t=e.additions,s=e.updatedDroppables,i=e.viewport,a=i.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,n=function(e){var t=e.frame;return t||Xu(),t}(s[t]).scroll.diff.value,r=function(e){var t=e.draggable,s=e.offset,i=e.initialWindowScroll,a=Lu(t.client,s),n=Ru(a,i);return b({},t,{placeholder:b({},t.placeholder,{client:a}),client:a,page:n})}({draggable:e,offset:rp(a,n),initialWindowScroll:i.scroll.initial});return r})},Tm=function(e){return"SNAP"===e.movementMode},Em=function(e,t,s){var i=function(e,t){return{draggables:e.draggables,droppables:wm(e.droppables,t)}}(e.dimensions,t);return!Tm(e)||s?Nm({state:e,dimensions:i}):Cm({state:e,dimensions:i})};function _m(e){return e.isDragging&&"SNAP"===e.movementMode?b({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Dm={phase:"IDLE",completed:null,shouldFlush:!1},Pm=function(e,t){if(void 0===e&&(e=Dm),"FLUSH"===t.type)return b({},Dm,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Xu();var s=t.payload,i=s.critical,a=s.clientSelection,n=s.viewport,r=s.dimensions,o=s.movementMode,l=r.draggables[i.draggable.id],c=r.droppables[i.droppable.id],d={selection:a,borderBoxCenter:l.client.borderBox.center,offset:np},h={client:d,page:{selection:rp(d.selection,n.scroll.initial),borderBoxCenter:rp(d.selection,n.scroll.initial),offset:rp(d.selection,n.scroll.diff.value)}},u=Sp(r.droppables).every(function(e){return!e.isFixedOnPage}),p=Mm({draggable:l,home:c,draggables:r.draggables,viewport:n}),m=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:i,movementMode:o,dimensions:r,initial:h,current:h,isWindowScrollAllowed:u,impact:m,afterCritical:p.afterCritical,onLiftImpact:m,viewport:n,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Xu(),b({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Xu(),function(e){var t=e.state,s=e.published,i=s.modified.map(function(e){var s=t.dimensions.droppables[e.droppableId];return bp(s,e.scroll)}),a=b({},t.dimensions.droppables,{},Np(i)),n=kp(Im({additions:s.additions,updatedDroppables:a,viewport:t.viewport})),r=b({},t.dimensions.draggables,{},n);s.removals.forEach(function(e){delete r[e]});var o={droppables:a,draggables:r},l=pm(t.impact),c=l?o.droppables[l]:null,d=o.draggables[t.critical.draggable.id],h=o.droppables[t.critical.droppable.id],u=Mm({draggable:d,home:h,draggables:r,viewport:t.viewport}),p=u.impact,m=u.afterCritical,g=c&&c.isCombineEnabled?t.impact:p,x=ym({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m}),f=b({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:o,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?f:b({phase:"DROP_PENDING"},f,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;gm(e)||Xu();var g=t.payload.client;return lp(g,e.current.client.selection)?e:Nm({state:e,clientSelection:g,impact:Tm(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return _m(e);if("COLLECTING"===e.phase)return _m(e);gm(e)||Xu();var x=t.payload,f=x.id,v=x.newScroll,y=e.dimensions.droppables[f];if(!y)return e;var w=bp(y,v);return Em(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;gm(e)||Xu();var j=t.payload,N=j.id,k=j.isEnabled,S=e.dimensions.droppables[N];S||Xu(),S.isEnabled===k&&Xu();var C=b({},S,{isEnabled:k});return Em(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;gm(e)||Xu();var M=t.payload,I=M.id,T=M.isCombineEnabled,E=e.dimensions.droppables[I];E||Xu(),E.isCombineEnabled===T&&Xu();var _=b({},E,{isCombineEnabled:T});return Em(e,_,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;gm(e)||Xu(),e.isWindowScrollAllowed||Xu();var D=t.payload.newScroll;if(lp(e.viewport.scroll.current,D))return _m(e);var P=tm(e.viewport,D);return Tm(e)?Cm({state:e,viewport:P}):Nm({state:e,viewport:P})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!gm(e))return e;var A=t.payload.maxScroll;if(lp(A,e.viewport.scroll.max))return e;var O=b({},e.viewport,{scroll:b({},e.viewport.scroll,{max:A})});return b({phase:"DRAGGING"},e,{viewport:O})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Xu();var L=mm({state:e,type:t.type});return L?Nm({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var R=t.payload.reason;return"COLLECTING"!==e.phase&&Xu(),b({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:R})}if("DROP_ANIMATE"===t.type){var z=t.payload,B=z.completed,F=z.dropDuration,H=z.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Xu(),{phase:"DROP_ANIMATING",completed:B,dropDuration:F,newHomeClientOffset:H,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Am=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Om=function(){return{type:"COLLECTION_STARTING",payload:null}},Lm=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Rm=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},zm=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Bm=function(e){return{type:"MOVE",payload:e}},Fm=function(){return{type:"MOVE_UP",payload:null}},Hm=function(){return{type:"MOVE_DOWN",payload:null}},Wm=function(){return{type:"MOVE_RIGHT",payload:null}},$m=function(){return{type:"MOVE_LEFT",payload:null}},Gm=function(e){return{type:"DROP_COMPLETE",payload:e}},Vm=function(e){return{type:"DROP",payload:e}},Um=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},qm="cubic-bezier(.2,1,.1,1)",Ym={drop:0,combining:.7},Xm={drop:.75},Jm=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Km={fluid:"opacity "+Jm,snap:"transform "+Jm+", opacity "+Jm,drop:function(e){var t=e+"s "+qm;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Jm,placeholder:"height "+Jm+", width "+Jm+", margin "+Jm},Qm=function(e){return lp(e,np)?null:"translate("+e.x+"px, "+e.y+"px)"},Zm=Qm,eg=function(e,t){var s=Qm(e);return s?t?s+" scale("+Xm.drop+")":s:null},tg=.33,sg=.55,ig=sg-tg,ag=function(e){var t=e.getState,s=e.dispatch;return function(e){return function(i){if("DROP"===i.type){var a=t(),n=i.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&Xu(),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Xu();var r=a.critical,o=a.dimensions,l=o.draggables[a.critical.draggable.id],c=function(e){var t=e.draggables,s=e.reason,i=e.lastImpact,a=e.home,n=e.viewport,r=e.onLiftImpact;return i.at&&"DROP"===s?"REORDER"===i.at.type?{impact:i,didDropInsideDroppable:!0}:{impact:b({},i,{displaced:Pp}),didDropInsideDroppable:!0}:{impact:km({draggables:t,impact:r,destination:a,viewport:n,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:n,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),d=c.impact,h=c.didDropInsideDroppable,u=h?Ip(d):null,p=h?Tp(d):null,m={index:r.draggable.index,droppableId:r.droppable.id},g={draggableId:l.descriptor.id,type:l.descriptor.type,source:m,reason:n,mode:a.movementMode,destination:u,combine:p},x=function(e){var t=e.impact,s=e.draggable,i=e.dimensions,a=e.viewport,n=e.afterCritical,r=i.draggables,o=i.droppables,l=pm(t),c=l?o[l]:null,d=o[s.descriptor.droppableId],h=Sm({impact:t,draggable:s,draggables:r,afterCritical:n,droppable:c||d,viewport:a});return op(h,s.client.borderBox.center)}({impact:d,draggable:l,dimensions:o,viewport:a.viewport,afterCritical:a.afterCritical}),f={critical:a.critical,afterCritical:a.afterCritical,result:g,impact:d};if(!lp(a.current.client.offset,x)||Boolean(g.combine)){var v=function(e){var t=e.current,s=e.destination,i=e.reason,a=hp(t,s);if(a<=0)return tg;if(a>=1500)return sg;var n=tg+ig*(a/1500);return Number(("CANCEL"===i?.6*n:n).toFixed(2))}({current:a.current.client.offset,destination:x,reason:n});s(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:x,dropDuration:v,completed:f}))}else s(Gm({completed:f}))}}else s(function(e){return{type:"DROP_PENDING",payload:e}}({reason:n}))}else e(i)}}},ng=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function rg(e){var t=e.onWindowScroll;var s,i=Gu(function(){t(ng())}),a=(s=i,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||s()}}),n=Uu;function r(){return n!==Uu}return{start:function(){r()&&Xu(),n=qu(window,[a])},stop:function(){r()||Xu(),i.cancel(),n(),n=Uu},isActive:r}}var og=function(e){var t=rg({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(s){t.isActive()||"INITIAL_PUBLISH"!==s.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(s)&&t.stop(),e(s)}}},lg=function(){var e=[];return{add:function(t){var s=setTimeout(function(){return function(t){var s=yp(e,function(e){return e.timerId===t});-1===s&&Xu(),e.splice(s,1)[0].callback()}(s)}),i={timerId:s,callback:t};e.push(i)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}},cg=function(e,t){t()},dg=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},hg=function(e,t,s,i){if(e){var a=function(e){var t=!1,s=!1,i=setTimeout(function(){s=!0}),a=function(a){t||s||(t=!0,e(a),clearTimeout(i))};return a.wasCalled=function(){return t},a}(s);e(t,{announce:a}),a.wasCalled()||s(i(t))}else s(i(t))},ug=function(e,t){var s=function(e,t){var s=lg(),i=null,a=function(s){i||Xu(),i=null,cg(0,function(){return hg(e().onDragEnd,s,t,ap)})};return{beforeCapture:function(t,s){i&&Xu(),cg(0,function(){var i=e().onBeforeCapture;i&&i({draggableId:t,mode:s})})},beforeStart:function(t,s){i&&Xu(),cg(0,function(){var i=e().onBeforeDragStart;i&&i(dg(t,s))})},start:function(a,n){i&&Xu();var r=dg(a,n);i={mode:n,lastCritical:a,lastLocation:r.source,lastCombine:null},s.add(function(){cg(0,function(){return hg(e().onDragStart,r,t,sp)})})},update:function(a,n){var r=Ip(n),o=Tp(n);i||Xu();var l=!function(e,t){if(e===t)return!0;var s=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,i=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return s&&i}(a,i.lastCritical);l&&(i.lastCritical=a);var c,d,h=(d=r,!(null==(c=i.lastLocation)&&null==d||null!=c&&null!=d&&c.droppableId===d.droppableId&&c.index===d.index));h&&(i.lastLocation=r);var u=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(i.lastCombine,o);if(u&&(i.lastCombine=o),l||h||u){var p=b({},dg(a,i.mode),{combine:o,destination:r});s.add(function(){cg(0,function(){return hg(e().onDragUpdate,p,t,ip)})})}},flush:function(){i||Xu(),s.flush()},drop:a,abort:function(){if(i){var e=b({},dg(i.lastCritical,i.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(i){if("BEFORE_INITIAL_CAPTURE"!==i.type){if("INITIAL_PUBLISH"===i.type){var a=i.payload.critical;return s.beforeStart(a,i.payload.movementMode),t(i),void s.start(a,i.payload.movementMode)}if("DROP_COMPLETE"===i.type){var n=i.payload.completed.result;return s.flush(),t(i),void s.drop(n)}if(t(i),"FLUSH"!==i.type){var r=e.getState();"DRAGGING"===r.phase&&s.update(r.critical,r.impact)}else s.abort()}else s.beforeCapture(i.payload.draggableId,i.payload.movementMode)}}}},pg=function(e){return function(t){return function(s){if("DROP_ANIMATION_FINISHED"===s.type){var i=e.getState();"DROP_ANIMATING"!==i.phase&&Xu(),e.dispatch(Gm({completed:i.completed}))}else t(s)}}},mg=function(e){var t=null,s=null;return function(i){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(s&&(cancelAnimationFrame(s),s=null),t&&(t(),t=null)),i(a),"DROP_ANIMATE"===a.type){var n={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};s=requestAnimationFrame(function(){s=null,t=qu(window,[n])})}}}},gg=function(e){return function(t){return function(s){if(t(s),"PUBLISH_WHILE_DRAGGING"===s.type){var i=e.getState();"DROP_PENDING"===i.phase&&(i.isWaiting||e.dispatch(Vm({reason:i.reason})))}}}},xg=Td,fg=function(e){var t,s=e.dimensionMarshal,i=e.focusMarshal,a=e.styleMarshal,n=e.getResponders,r=e.announce,o=e.autoScroller;return Cd(Pm,xg(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return function(){var s=e.apply(void 0,arguments),i=function(){throw new Error(jd(15))},a={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},n=t.map(function(e){return e(a)});return i=Td.apply(void 0,n)(s.dispatch),wd(wd({},s),{},{dispatch:i})}}}((t=a,function(){return function(e){return function(s){"INITIAL_PUBLISH"===s.type&&t.dragging(),"DROP_ANIMATE"===s.type&&t.dropping(s.payload.completed.result.reason),"FLUSH"!==s.type&&"DROP_COMPLETE"!==s.type||t.resting(),e(s)}}}),function(e){return function(){return function(t){return function(s){"DROP_COMPLETE"!==s.type&&"FLUSH"!==s.type&&"DROP_ANIMATE"!==s.type||e.stopPublishing(),t(s)}}}}(s),function(e){return function(t){var s=t.getState,i=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var n=a.payload,r=n.id,o=n.clientSelection,l=n.movementMode,c=s();"DROP_ANIMATING"===c.phase&&i(Gm({completed:c.completed})),"IDLE"!==s().phase&&Xu(),i({type:"FLUSH",payload:null}),i({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:r,movementMode:l}});var d={draggableId:r,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},h=e.startPublishing(d),u=h.critical,p=h.dimensions,m=h.viewport;i({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:p,clientSelection:o,movementMode:l,viewport:m}})}else t(a)}}}}(s),ag,pg,mg,gg,function(e){return function(t){return function(s){return function(i){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(i))return e.stop(),void s(i);if("INITIAL_PUBLISH"===i.type){s(i);var a=t.getState();return"DRAGGING"!==a.phase&&Xu(),void e.start(a)}s(i),e.scroll(t.getState())}}}}(o),og,function(e){var t=!1;return function(){return function(s){return function(i){if("INITIAL_PUBLISH"===i.type)return t=!0,e.tryRecordFocus(i.payload.critical.draggable.id),s(i),void e.tryRestoreFocusRecorded();if(s(i),t){if("FLUSH"===i.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===i.type){t=!1;var a=i.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(i),ug(n,r))))};var bg=function(e){var t=e.scrollHeight,s=e.scrollWidth,i=e.height,a=e.width,n=op({x:s,y:t},{x:a,y:i});return{x:Math.max(0,n.x),y:Math.max(0,n.y)}},vg=function(){var e=document.documentElement;return e||Xu(),e},yg=function(){var e=vg();return bg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},wg=function(e){var t,s,i,a,n,r,o,l=e.critical,c=e.scrollOptions,d=e.registry,h=(t=ng(),s=yg(),i=t.y,a=t.x,n=vg(),r=n.clientWidth,o=n.clientHeight,{frame:Eu({top:i,left:a,right:a+r,bottom:i+o}),scroll:{initial:t,current:t,max:s,diff:{value:np,displacement:np}}}),u=h.scroll.current,p=l.droppable,m=d.droppable.getAllByType(p.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(u,c)}),g=d.draggable.getAllByType(l.draggable.type).map(function(e){return e.getDimension(u)});return{dimensions:{draggables:kp(g),droppables:Np(m)},critical:l,viewport:h}};function jg(e,t,s){return s.descriptor.id!==t.id&&(s.descriptor.type===t.type&&"virtual"===e.droppable.getById(s.descriptor.droppableId).descriptor.mode)}var Ng,kg=function(e,t){var s=null,i=function(e){var t=e.registry,s=e.callbacks,i={additions:{},removals:{},modified:{}},a=null,n=function(){a||(s.collectionStarting(),a=requestAnimationFrame(function(){a=null;var e=i,n=e.additions,r=e.removals,o=e.modified,l=Object.keys(n).map(function(e){return t.draggable.getById(e).getDimension(np)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),c=Object.keys(o).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),d={additions:l,removals:Object.keys(r),modified:c};i={additions:{},removals:{},modified:{}},s.publish(d)}))};return{add:function(e){var t=e.descriptor.id;i.additions[t]=e,i.modified[e.descriptor.droppableId]=!0,i.removals[t]&&delete i.removals[t],n()},remove:function(e){var t=e.descriptor;i.removals[t.id]=!0,i.modified[t.droppableId]=!0,i.additions[t.id]&&delete i.additions[t.id],n()},stop:function(){a&&(cancelAnimationFrame(a),a=null,i={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){s||Xu();var a=s.critical.draggable;"ADDITION"===t.type&&jg(e,a,t.value)&&i.add(t.value),"REMOVAL"===t.type&&jg(e,a,t.value)&&i.remove(t.value)};return{updateDroppableIsEnabled:function(i,a){e.droppable.exists(i)||Xu(),s&&t.updateDroppableIsEnabled({id:i,isEnabled:a})},updateDroppableIsCombineEnabled:function(i,a){s&&(e.droppable.exists(i)||Xu(),t.updateDroppableIsCombineEnabled({id:i,isCombineEnabled:a}))},scrollDroppable:function(t,i){s&&e.droppable.getById(t).callbacks.scroll(i)},updateDroppableScroll:function(i,a){s&&(e.droppable.exists(i)||Xu(),t.updateDroppableScroll({id:i,newScroll:a}))},startPublishing:function(t){s&&Xu();var i=e.draggable.getById(t.draggableId),n=e.droppable.getById(i.descriptor.droppableId),r={draggable:i.descriptor,droppable:n.descriptor},o=e.subscribe(a);return s={critical:r,unsubscribe:o},wg({critical:r,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(s){i.stop();var t=s.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),s.unsubscribe(),s=null}}}},Sg=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},Cg=function(e){window.scrollBy(e.x,e.y)},Mg=$u(function(e){return Sp(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),Ig=function(e){var t=e.center,s=e.destination,i=e.droppables;if(s){var a=i[s];return a.frame?a:null}var n=function(e,t){return wp(Mg(t),function(t){return t.frame||Xu(),xm(t.frame.pageMarginBox)(e)})}(t,i);return n},Tg=.25,Eg=.05,_g=28,Dg=function(e){return Math.pow(e,2)},Pg={stopDampeningAt:1200,accelerateAt:360},Ag=function(e){var t=e.startOfRange,s=e.endOfRange,i=e.current,a=s-t;return 0===a?0:(i-t)/a},Og=Pg.accelerateAt,Lg=Pg.stopDampeningAt,Rg=function(e){var t=e.distanceToEdge,s=e.thresholds,i=e.dragStartTime,a=e.shouldUseTimeDampening,n=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return _g;if(e===t.startScrollingFrom)return 1;var s=Ag({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=_g*Dg(1-s);return Math.ceil(i)}(t,s);return 0===n?0:a?Math.max(function(e,t){var s=t,i=Lg,a=Date.now()-s;if(a>=Lg)return e;if(a<Og)return 1;var n=Ag({startOfRange:Og,endOfRange:i,current:a}),r=e*Dg(n);return Math.ceil(r)}(n,i),1):n},zg=function(e){var t=e.container,s=e.distanceToEdges,i=e.dragStartTime,a=e.axis,n=e.shouldUseTimeDampening,r=function(e,t){return{startScrollingFrom:e[t.size]*Tg,maxScrollValueAt:e[t.size]*Eg}}(t,a);return s[a.end]<s[a.start]?Rg({distanceToEdge:s[a.end],thresholds:r,dragStartTime:i,shouldUseTimeDampening:n}):-1*Rg({distanceToEdge:s[a.start],thresholds:r,dragStartTime:i,shouldUseTimeDampening:n})},Bg=pp(function(e){return 0===e?0:e}),Fg=function(e){var t=e.dragStartTime,s=e.container,i=e.subject,a=e.center,n=e.shouldUseTimeDampening,r={top:a.y-s.top,right:s.right-a.x,bottom:s.bottom-a.y,left:a.x-s.left},o=zg({container:s,distanceToEdges:r,dragStartTime:t,axis:zp,shouldUseTimeDampening:n}),l=zg({container:s,distanceToEdges:r,dragStartTime:t,axis:Bp,shouldUseTimeDampening:n}),c=Bg({x:l,y:o});if(lp(c,np))return null;var d=function(e){var t=e.container,s=e.subject,i=e.proposedScroll,a=s.height>t.height,n=s.width>t.width;return n||a?n&&a?null:{x:n?0:i.x,y:a?0:i.y}:i}({container:s,subject:i,proposedScroll:c});return d?lp(d,np)?null:d:null},Hg=pp(function(e){return 0===e?0:e>0?1:-1}),Wg=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var s=t.current,i=t.max,a=t.change,n=rp(s,a),r={x:e(n.x,i.x),y:e(n.y,i.y)};return lp(r,np)?null:r}}(),$g=function(e){var t=e.max,s=e.current,i=e.change,a={x:Math.max(s.x,t.x),y:Math.max(s.y,t.y)},n=Hg(i),r=Wg({max:a,current:s,change:n});return!r||(0!==n.x&&0===r.x||0!==n.y&&0===r.y)},Gg=function(e,t){return $g({current:e.scroll.current,max:e.scroll.max,change:t})},Vg=function(e,t){var s=e.frame;return!!s&&$g({current:s.scroll.current,max:s.scroll.max,change:t})},Ug=function(e){var t=e.state,s=e.dragStartTime,i=e.shouldUseTimeDampening,a=e.scrollWindow,n=e.scrollDroppable,r=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,s=e.subject,i=e.center,a=e.dragStartTime,n=e.shouldUseTimeDampening,r=Fg({dragStartTime:a,container:t.frame,subject:s,center:i,shouldUseTimeDampening:n});return r&&Gg(t,r)?r:null}({dragStartTime:s,viewport:t.viewport,subject:o,center:r,shouldUseTimeDampening:i});if(l)return void a(l)}var c=Ig({center:r,destination:pm(t.impact),droppables:t.dimensions.droppables});if(c){var d=function(e){var t=e.droppable,s=e.subject,i=e.center,a=e.dragStartTime,n=e.shouldUseTimeDampening,r=t.frame;if(!r)return null;var o=Fg({dragStartTime:a,container:r.pageMarginBox,subject:s,center:i,shouldUseTimeDampening:n});return o&&Vg(t,o)?o:null}({dragStartTime:s,droppable:c,subject:o,center:r,shouldUseTimeDampening:i});d&&n(c.descriptor.id,d)}},qg=function(e){var t=e.move,s=e.scrollDroppable,i=e.scrollWindow,a=function(e,t){if(!Vg(e,t))return t;var i=function(e,t){var s=e.frame;return s&&Vg(e,t)?Wg({current:s.scroll.current,max:s.scroll.max,change:t}):null}(e,t);if(!i)return s(e.descriptor.id,t),null;var a=op(t,i);return s(e.descriptor.id,a),op(t,a)},n=function(e,t,s){if(!e)return s;if(!Gg(t,s))return s;var a=function(e,t){if(!Gg(e,t))return null;var s=e.scroll.max,i=e.scroll.current;return Wg({current:i,max:s,change:t})}(t,s);if(!a)return i(s),null;var n=op(s,a);return i(n),op(s,n)};return function(e){var s=e.scrollJumpRequest;if(s){var i=pm(e.impact);i||Xu();var r=a(e.dimensions.droppables[i],s);if(r){var o=e.viewport,l=n(e.isWindowScrollAllowed,o,r);l&&function(e,s){var i=rp(e.current.client.selection,s);t({client:i})}(e,l)}}}},Yg=function(e){var t=e.scrollDroppable,s=e.scrollWindow,i=e.move,a=function(e){var t=e.scrollWindow,s=e.scrollDroppable,i=Gu(t),a=Gu(s),n=null,r=function(e){n||Xu();var t=n,s=t.shouldUseTimeDampening,r=t.dragStartTime;Ug({state:e,scrollWindow:i,scrollDroppable:a,dragStartTime:r,shouldUseTimeDampening:s})};return{start:function(e){n&&Xu();var t=Date.now(),s=!1,i=function(){s=!0};Ug({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:i,scrollDroppable:i}),n={dragStartTime:t,shouldUseTimeDampening:s},s&&r(e)},stop:function(){n&&(i.cancel(),a.cancel(),n=null)},scroll:r}}({scrollWindow:s,scrollDroppable:t}),n=qg({move:i,scrollWindow:s,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&n(e):a.scroll(e))},start:a.start,stop:a.stop}},Xg="data-rbd",Jg={base:Ng=Xg+"-drag-handle",draggableId:Ng+"-draggable-id",contextId:Ng+"-context-id"},Kg=function(){var e=Xg+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Qg=function(){var e=Xg+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Zg={contextId:Xg+"-scroll-container-context-id"},ex=function(e,t){return e.map(function(e){var s=e.styles[t];return s?e.selector+" { "+s+" }":""}).join(" ")},tx="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?p.useLayoutEffect:p.useEffect,sx=function(){var e=document.querySelector("head");return e||Xu(),e},ix=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function ax(e,t){var s=Iu(function(){return function(e){var t,s,i,a=(t=e,function(e){return"["+e+'="'+t+'"]'}),n=(s="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:a(Jg.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:s,dragging:"pointer-events: none;",dropAnimating:s}}),r=[(i="\n      transition: "+Km.outOfTheWay+";\n    ",{selector:a(Kg.contextId),styles:{dragging:i,dropAnimating:i,userCancel:i}}),n,{selector:a(Qg.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:ex(r,"always"),resting:ex(r,"resting"),dragging:ex(r,"dragging"),dropAnimating:ex(r,"dropAnimating"),userCancel:ex(r,"userCancel")}}(e)},[e]),i=p.useRef(null),a=p.useRef(null),n=Tu($u(function(e){var t=a.current;t||Xu(),t.textContent=e}),[]),r=Tu(function(e){var t=i.current;t||Xu(),t.textContent=e},[]);tx(function(){(i.current||a.current)&&Xu();var o=ix(t),l=ix(t);return i.current=o,a.current=l,o.setAttribute(Xg+"-always",e),l.setAttribute(Xg+"-dynamic",e),sx().appendChild(o),sx().appendChild(l),r(s.always),n(s.resting),function(){var e=function(e){var t=e.current;t||Xu(),sx().removeChild(t),e.current=null};e(i),e(a)}},[t,r,n,s.always,s.resting,e]);var o=Tu(function(){return n(s.dragging)},[n,s.dragging]),l=Tu(function(e){n("DROP"!==e?s.userCancel:s.dropAnimating)},[n,s.dropAnimating,s.userCancel]),c=Tu(function(){a.current&&n(s.resting)},[n,s.resting]);return Iu(function(){return{dragging:o,dropping:l,resting:c}},[o,l,c])}var nx=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function rx(e){return e instanceof nx(e).HTMLElement}function ox(e){var t=p.useRef({}),s=p.useRef(null),i=p.useRef(null),a=p.useRef(!1),n=Tu(function(e,s){var i={id:e,focus:s};return t.current[e]=i,function(){var s=t.current;s[e]!==i&&delete s[e]}},[]),r=Tu(function(t){var s=function(e,t){var s="["+Jg.contextId+'="'+e+'"]',i=jp(document.querySelectorAll(s));if(!i.length)return null;var a=wp(i,function(e){return e.getAttribute(Jg.draggableId)===t});return a&&rx(a)?a:null}(e,t);s&&s!==document.activeElement&&s.focus()},[e]),o=Tu(function(e,t){s.current===e&&(s.current=t)},[]),l=Tu(function(){i.current||a.current&&(i.current=requestAnimationFrame(function(){i.current=null;var e=s.current;e&&r(e)}))},[r]),c=Tu(function(e){s.current=null;var t=document.activeElement;t&&t.getAttribute(Jg.draggableId)===e&&(s.current=e)},[]);return tx(function(){return a.current=!0,function(){a.current=!1;var e=i.current;e&&cancelAnimationFrame(e)}},[]),Iu(function(){return{register:n,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:o}},[n,c,l,o])}function lx(){var e={draggables:{},droppables:{}},t=[];function s(e){t.length&&t.forEach(function(t){return t(e)})}function i(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,s({type:"ADDITION",value:t})},update:function(t,s){var i=e.draggables[s.descriptor.id];i&&i.uniqueId===t.uniqueId&&(delete e.draggables[s.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,n=i(a);n&&t.uniqueId===n.uniqueId&&(delete e.draggables[a],s({type:"REMOVAL",value:t}))},getById:function(e){var t=i(e);return t||Xu(),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return vp(e.draggables).filter(function(e){return e.descriptor.type===t})}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var s=a(t.descriptor.id);s&&t.uniqueId===s.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||Xu(),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return vp(e.droppables).filter(function(e){return e.descriptor.type===t})}},subscribe:function(e){return t.push(e),function(){var s=t.indexOf(e);-1!==s&&t.splice(s,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var cx=m.createContext(null),dx=function(){var e=document.body;return e||Xu(),e},hx={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var ux=0,px={separator:"::"};function mx(e,t){return void 0===t&&(t=px),Iu(function(){return""+e+t.separator+ux++},[t.separator,e])}var gx=m.createContext(null);function xx(e){var t=p.useRef(e);return p.useEffect(function(){t.current=e}),t}var fx,bx=((fx={})[13]=!0,fx[9]=!0,fx),vx=function(e){bx[e.keyCode]&&e.preventDefault()},yx=function(){var e="visibilitychange";return"undefined"==typeof document?e:wp([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}();var wx,jx={type:"IDLE"};function Nx(e){var t=e.cancel,s=e.completed,i=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,s=e.clientX,n=e.clientY;if(0===t){var r={x:s,y:n},o=i();if("DRAGGING"===o.type)return e.preventDefault(),void o.actions.move(r);"PENDING"!==o.type&&Xu();var l=o.point;if(c=l,d=r,Math.abs(d.x-c.x)>=5||Math.abs(d.y-c.y)>=5){var c,d;e.preventDefault();var h=o.actions.fluidLift(r);a({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(e){var a=i();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),s()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===i().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==i().type)return 27===e.keyCode?(e.preventDefault(),void t()):void vx(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===i().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var s=i();"IDLE"===s.type&&Xu(),s.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:yx,fn:t}]}function kx(){}var Sx=((wx={})[34]=!0,wx[33]=!0,wx[36]=!0,wx[35]=!0,wx);function Cx(e,t){function s(){t(),e.cancel()}return[{eventName:"keydown",fn:function(i){return 27===i.keyCode?(i.preventDefault(),void s()):32===i.keyCode?(i.preventDefault(),t(),void e.drop()):40===i.keyCode?(i.preventDefault(),void e.moveDown()):38===i.keyCode?(i.preventDefault(),void e.moveUp()):39===i.keyCode?(i.preventDefault(),void e.moveRight()):37===i.keyCode?(i.preventDefault(),void e.moveLeft()):void(Sx[i.keyCode]?i.preventDefault():vx(i))}},{eventName:"mousedown",fn:s},{eventName:"mouseup",fn:s},{eventName:"click",fn:s},{eventName:"touchstart",fn:s},{eventName:"resize",fn:s},{eventName:"wheel",fn:s,options:{passive:!0}},{eventName:yx,fn:s}]}var Mx={type:"IDLE"};var Ix={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Tx(e,t){if(null==t)return!1;if(Boolean(Ix[t.tagName.toLowerCase()]))return!0;var s=t.getAttribute("contenteditable");return"true"===s||""===s||t!==e&&Tx(e,t.parentElement)}function Ex(e,t){var s=t.target;return!!rx(s)&&Tx(e,s)}var _x=function(e){return Eu(e.getBoundingClientRect()).center};var Dx=function(){var e="matches";return"undefined"==typeof document?e:wp([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function Px(e,t){return null==e?null:e[Dx](t)?e:Px(e.parentElement,t)}function Ax(e,t){return e.closest?e.closest(t):Px(e,t)}function Ox(e,t){var s,i=t.target;if(!((s=i)instanceof nx(s).Element))return null;var a=function(e){return"["+Jg.contextId+'="'+e+'"]'}(e),n=Ax(i,a);return n&&rx(n)?n:null}function Lx(e){e.preventDefault()}function Rx(e){var t=e.expected,s=e.phase,i=e.isLockActive;return e.shouldWarn,!!i()&&t===s}function zx(e){var t=e.lockAPI,s=e.store,i=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var n=i.draggable.findById(a);return!!n&&(!!n.options.isEnabled&&!!Sg(s.getState(),a))}function Bx(e){var t=e.lockAPI,s=e.contextId,i=e.store,a=e.registry,n=e.draggableId,r=e.forceSensorStop,o=e.sourceEvent;if(!zx({lockAPI:t,store:i,registry:a,draggableId:n}))return null;var l=a.draggable.getById(n),c=function(e,t){var s="["+Kg.contextId+'="'+e+'"]',i=wp(jp(document.querySelectorAll(s)),function(e){return e.getAttribute(Kg.id)===t});return i&&rx(i)?i:null}(s,l.descriptor.id);if(!c)return null;if(o&&!l.options.canDragInteractiveElements&&Ex(c,o))return null;var d=t.claim(r||Uu),h="PRE_DRAG";function u(){return l.options.shouldRespectForcePress}function p(){return t.isActive(d)}var m=function(e,t){Rx({expected:e,phase:h,isLockActive:p,shouldWarn:!0})&&i.dispatch(t())}.bind(null,"DRAGGING");function g(e){function s(){t.release(),h="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var n=qu(window,[{eventName:"click",fn:Lx,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(n)}s(),i.dispatch(Vm({reason:t}))}return"PRE_DRAG"!==h&&(s(),"PRE_DRAG"!==h&&Xu()),i.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),h="DRAGGING",b({isActive:function(){return Rx({expected:"DRAGGING",phase:h,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:u,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}return{isActive:function(){return Rx({expected:"PRE_DRAG",phase:h,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:u,fluidLift:function(e){var t=Gu(function(e){m(function(){return Bm({client:e})})}),s=g({liftActionArgs:{id:n,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return b({},s,{move:t})},snapLift:function(){var e={moveUp:function(){return m(Fm)},moveRight:function(){return m(Wm)},moveDown:function(){return m(Hm)},moveLeft:function(){return m($m)}};return g({liftActionArgs:{id:n,clientSelection:_x(c),movementMode:"SNAP"},cleanup:Uu,actions:e})},abort:function(){Rx({expected:"PRE_DRAG",phase:h,isLockActive:p,shouldWarn:!0})&&t.release()}}}var Fx=[function(e){var t=p.useRef(jx),s=p.useRef(Uu),i=Iu(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var i=e.findClosestDraggableId(t);if(i){var a=e.tryGetLock(i,r,{sourceEvent:t});if(a){t.preventDefault();var n={x:t.clientX,y:t.clientY};s.current(),c(a,n)}}}}}},[e]),a=Iu(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var s=e.findClosestDraggableId(t);if(s){var i=e.findOptionsForDraggable(s);i&&(i.shouldRespectForcePress||e.canGetLock(s)&&t.preventDefault())}}}}},[e]),n=Tu(function(){s.current=qu(window,[a,i],{passive:!1,capture:!0})},[a,i]),r=Tu(function(){"IDLE"!==t.current.type&&(t.current=jx,s.current(),n())},[n]),o=Tu(function(){var e=t.current;r(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[r]),l=Tu(function(){var e=Nx({cancel:o,completed:r,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});s.current=qu(window,e,{capture:!0,passive:!1})},[o,r]),c=Tu(function(e,s){"IDLE"!==t.current.type&&Xu(),t.current={type:"PENDING",point:s,actions:e},l()},[l]);tx(function(){return n(),function(){s.current()}},[n])},function(e){var t=p.useRef(kx),s=Iu(function(){return{eventName:"keydown",fn:function(s){if(!s.defaultPrevented&&32===s.keyCode){var a=e.findClosestDraggableId(s);if(a){var n=e.tryGetLock(a,l,{sourceEvent:s});if(n){s.preventDefault();var r=!0,o=n.snapLift();t.current(),t.current=qu(window,Cx(o,l),{capture:!0,passive:!1})}}}function l(){r||Xu(),r=!1,t.current(),i()}}}},[e]),i=Tu(function(){t.current=qu(window,[s],{passive:!1,capture:!0})},[s]);tx(function(){return i(),function(){t.current()}},[i])},function(e){var t=p.useRef(Mx),s=p.useRef(Uu),i=Tu(function(){return t.current},[]),a=Tu(function(e){t.current=e},[]),n=Iu(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var i=e.findClosestDraggableId(t);if(i){var a=e.tryGetLock(i,o,{sourceEvent:t});if(a){var n=t.touches[0],r={x:n.clientX,y:n.clientY};s.current(),h(a,r)}}}}}},[e]),r=Tu(function(){s.current=qu(window,[n],{capture:!0,passive:!1})},[n]),o=Tu(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(Mx),s.current(),r())},[r,a]),l=Tu(function(){var e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[o]),c=Tu(function(){var e={capture:!0,passive:!1},t={cancel:l,completed:o,getPhase:i},a=qu(window,function(e){var t=e.cancel,s=e.completed,i=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var s=i();if("DRAGGING"===s.type){s.hasMoved=!0;var a=e.touches[0],n={x:a.clientX,y:a.clientY};e.preventDefault(),s.actions.move(n)}else t()}},{eventName:"touchend",fn:function(e){var a=i();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),s()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===i().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var s=i();"IDLE"===s.type&&Xu();var a=e.touches[0];if(a&&a.force>=.15){var n=s.actions.shouldRespectForcePress();if("PENDING"!==s.type)return n?s.hasMoved?void e.preventDefault():void t():void e.preventDefault();n&&t()}}},{eventName:yx,fn:t}]}(t),e),n=qu(window,function(e){var t=e.cancel,s=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===s().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:yx,fn:t}]}(t),e);s.current=function(){a(),n()}},[l,i,o]),d=Tu(function(){var e=i();"PENDING"!==e.type&&Xu();var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})},[i,a]),h=Tu(function(e,t){"IDLE"!==i().type&&Xu();var s=setTimeout(d,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:s}),c()},[c,i,a,d]);tx(function(){return r(),function(){s.current();var e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(Mx))}},[i,r,a]),tx(function(){return qu(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function Hx(e){var t=e.contextId,s=e.store,i=e.registry,a=e.customSensors,n=e.enableDefaultSensors,r=[].concat(n?Fx:[],a||[]),o=p.useState(function(){return function(){var e=null;function t(){e||Xu(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Xu();var s={abandon:t};return e=s,s},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],l=Tu(function(e,t){e.isDragging&&!t.isDragging&&o.tryAbandon()},[o]);tx(function(){var e=s.getState();return s.subscribe(function(){var t=s.getState();l(e,t),e=t})},[o,s,l]),tx(function(){return o.tryAbandon},[o.tryAbandon]);for(var c=Tu(function(e){return zx({lockAPI:o,registry:i,store:s,draggableId:e})},[o,i,s]),d=Tu(function(e,a,n){return Bx({lockAPI:o,registry:i,contextId:t,store:s,draggableId:e,forceSensorStop:a,sourceEvent:n&&n.sourceEvent?n.sourceEvent:null})},[t,o,i,s]),h=Tu(function(e){return function(e,t){var s=Ox(e,t);return s?s.getAttribute(Jg.draggableId):null}(t,e)},[t]),u=Tu(function(e){var t=i.draggable.findById(e);return t?t.options:null},[i.draggable]),m=Tu(function(){o.isClaimed()&&(o.tryAbandon(),"IDLE"!==s.getState().phase&&s.dispatch({type:"FLUSH",payload:null}))},[o,s]),g=Tu(o.isClaimed,[o]),x=Iu(function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:u,tryReleaseLock:m,isLockClaimed:g}},[c,d,h,u,m,g]),f=0;f<r.length;f++)r[f](x)}function Wx(e){return e.current||Xu(),e.current}function $x(e){var t=e.contextId,s=e.setCallbacks,i=e.sensors,a=e.nonce,n=e.dragHandleUsageInstructions,r=p.useRef(null),o=xx(e),l=Tu(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(o.current)},[o]),c=function(e){var t=Iu(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),s=p.useRef(null);return p.useEffect(function(){var e=document.createElement("div");return s.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),b(e.style,hx),dx().appendChild(e),function(){setTimeout(function(){var t=dx();t.contains(e)&&t.removeChild(e),e===s.current&&(s.current=null)})}},[t]),Tu(function(e){var t=s.current;t&&(t.textContent=e)},[])}(t),d=function(e){var t=e.contextId,s=e.text,i=mx("hidden-text",{separator:"-"}),a=Iu(function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:i}).contextId+"-"+e.uniqueId;var e},[i,t]);return p.useEffect(function(){var e=document.createElement("div");return e.id=a,e.textContent=s,e.style.display="none",dx().appendChild(e),function(){var t=dx();t.contains(e)&&t.removeChild(e)}},[a,s]),a}({contextId:t,text:n}),h=ax(t,a),u=Tu(function(e){Wx(r).dispatch(e)},[]),g=Iu(function(){return Id({publishWhileDragging:Am,updateDroppableScroll:Lm,updateDroppableIsEnabled:Rm,updateDroppableIsCombineEnabled:zm,collectionStarting:Om},u)},[u]),x=function(){var e=Iu(lx,[]);return p.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),f=Iu(function(){return kg(x,g)},[x,g]),v=Iu(function(){return Yg(b({scrollWindow:Cg,scrollDroppable:f.scrollDroppable},Id({move:Bm},u)))},[f.scrollDroppable,u]),y=ox(t),w=Iu(function(){return fg({announce:c,autoScroller:v,dimensionMarshal:f,focusMarshal:y,getResponders:l,styleMarshal:h})},[c,v,f,y,l,h]);r.current=w;var j=Tu(function(){var e=Wx(r);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),N=Tu(function(){var e=Wx(r).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);s(Iu(function(){return{isDragging:N,tryAbort:j}},[N,j]));var k=Tu(function(e){return Sg(Wx(r).getState(),e)},[]),S=Tu(function(){return gm(Wx(r).getState())},[]),C=Iu(function(){return{marshal:f,focus:y,contextId:t,canLift:k,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:x}},[t,f,d,y,k,S,x]);return Hx({contextId:t,store:w,registry:x,customSensors:i,enableDefaultSensors:!1!==e.enableDefaultSensors}),p.useEffect(function(){return j},[j]),m.createElement(gx.Provider,{value:C},m.createElement(Ld,{context:cx,store:w},e.children))}var Gx=0;function Vx(e){var t=Iu(function(){return""+Gx++},[]),s=e.dragHandleUsageInstructions||tp;return m.createElement(Ju,null,function(i){return m.createElement($x,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:s,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Ux=function(e){return function(t){return e===t}},qx=Ux("scroll"),Yx=Ux("auto"),Xx=function(e,t){return t(e.overflowX)||t(e.overflowY)},Jx=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),s={overflowX:t.overflowX,overflowY:t.overflowY};return Xx(s,qx)||Xx(s,Yx)}(t)?t:e(t.parentElement)},Kx=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Qx=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Zx=function(e){return{closestScrollable:Jx(e),isFixedOnPage:Qx(e)}},ef=function(e){var t=e.ref,s=e.descriptor,i=e.env,a=e.windowScroll,n=e.direction,r=e.isDropDisabled,o=e.isCombineEnabled,l=e.shouldClipSubject,c=i.closestScrollable,d=function(e,t){var s=Bu(e);if(!t)return s;if(e!==t)return s;var i=s.paddingBox.top-t.scrollTop,a=s.paddingBox.left-t.scrollLeft,n=i+t.scrollHeight,r=a+t.scrollWidth,o=_u({top:i,right:r,bottom:n,left:a},s.border);return Au({borderBox:o,margin:s.margin,border:s.border,padding:s.padding})}(t,c),h=Ru(d,a),u=function(){if(!c)return null;var e=Bu(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:Ru(e,a),scroll:Kx(c),scrollSize:t,shouldClipSubject:l}}(),p=function(e){var t=e.descriptor,s=e.isEnabled,i=e.isCombineEnabled,a=e.isFixedOnPage,n=e.direction,r=e.client,o=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,s=bg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:s,diff:{value:np,displacement:np}}}}(),d="vertical"===n?zp:Bp;return{descriptor:t,isCombineEnabled:i,isFixedOnPage:a,axis:d,isEnabled:s,client:r,page:o,frame:c,subject:fp({page:o,withPlaceholder:null,axis:d,frame:c})}}({descriptor:s,isEnabled:!r,isCombineEnabled:o,isFixedOnPage:i.isFixedOnPage,direction:n,client:d,page:h,closest:u});return p},tf={passive:!1},sf={passive:!0},af=function(e){return e.shouldPublishImmediately?tf:sf};function nf(e){var t=p.useContext(e);return t||Xu(),t}var rf=function(e){return e&&e.env.closestScrollable||null};function of(){}var lf={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},cf=function(e){var t=e.isAnimatingOpenOnMount,s=e.placeholder,i=e.animate,a=function(e){var t=e.isAnimatingOpenOnMount,s=e.placeholder,i=e.animate;return t||"close"===i?lf:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin}}({isAnimatingOpenOnMount:t,placeholder:s,animate:i});return{display:s.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==i?Km.placeholder:null}};var df=m.memo(function(e){var t=p.useRef(null),s=Tu(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),i=e.animate,a=e.onTransitionEnd,n=e.onClose,r=e.contextId,o=p.useState("open"===e.animate),l=o[0],c=o[1];p.useEffect(function(){return l?"open"!==i?(s(),c(!1),of):t.current?of:(t.current=setTimeout(function(){t.current=null,c(!1)}),s):of},[i,l,s]);var d=Tu(function(e){"height"===e.propertyName&&(a(),"close"===i&&n())},[i,n,a]),h=cf({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return m.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":r,onTransitionEnd:d,ref:e.innerRef})}),hf=m.createContext(null),uf=function(e){function t(){for(var t,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return $e(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(m.PureComponent),pf=5e3,mf=4500,gf=function(e,t){return t?Km.drop(t.duration):e?Km.snap:Km.fluid},xf=function(e,t){return e?t?Ym.drop:Ym.combining:null};function ff(e){return"DRAGGING"===e.type?(i=(s=e).dimension.client,a=s.offset,n=s.combineWith,r=s.dropping,o=Boolean(n),l=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(s),c=Boolean(r),d=c?eg(a,o):Zm(a),{position:"fixed",top:i.marginBox.top,left:i.marginBox.left,boxSizing:"border-box",width:i.borderBox.width,height:i.borderBox.height,transition:gf(l,r),transform:d,opacity:xf(o,c),zIndex:c?mf:pf,pointerEvents:"none"}):{transform:Zm((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,s,i,a,n,r,o,l,c,d}function bf(e){var t=mx("draggable"),s=e.descriptor,i=e.registry,a=e.getDraggableRef,n=e.canDragInteractiveElements,r=e.shouldRespectForcePress,o=e.isEnabled,l=Iu(function(){return{canDragInteractiveElements:n,shouldRespectForcePress:r,isEnabled:o}},[n,o,r]),c=Tu(function(e){var t=a();return t||Xu(),function(e,t,s){void 0===s&&(s=np);var i=window.getComputedStyle(t),a=t.getBoundingClientRect(),n=zu(a,i),r=Ru(n,s);return{descriptor:e,placeholder:{client:n,tagName:t.tagName.toLowerCase(),display:i.display},displaceBy:{x:n.marginBox.width,y:n.marginBox.height},client:n,page:r}}(s,t,e)},[s,a]),d=Iu(function(){return{uniqueId:t,descriptor:s,options:l,getDimension:c}},[s,c,l,t]),h=p.useRef(d),u=p.useRef(!0);tx(function(){return i.draggable.register(h.current),function(){return i.draggable.unregister(h.current)}},[i.draggable]),tx(function(){if(u.current)u.current=!1;else{var e=h.current;h.current=d,i.draggable.update(d,e)}},[d,i.draggable])}function vf(e){e.preventDefault()}var yf=function(e,t){return e===t},wf=function(e){var t=e.combine,s=e.destination;return s?s.droppableId:t?t.droppableId:null};function jf(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Nf={mapped:{type:"SECONDARY",offset:np,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:jf(null)}};var kf=Su(function(){var e,t,s,i=(e=$u(function(e,t){return{x:e,y:t}}),t=$u(function(e,t,s,i,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:s,combineWith:i,combineTargetFor:null}}),s=$u(function(e,s,i,a,n,r,o){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:n,combineWith:r,mode:s,offset:e,dimension:i,forceShouldAnimate:o,snapshot:t(s,a,n,r,null)}}}),function(i,a){if(i.isDragging){if(i.critical.draggable.id!==a.draggableId)return null;var n=i.current.client.offset,r=i.dimensions.draggables[a.draggableId],o=pm(i.impact),l=(d=i.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,c=i.forceShouldAnimate;return s(e(n.x,n.y),i.movementMode,r,a.isClone,o,l,c)}var d;if("DROP_ANIMATING"===i.phase){var h=i.completed;if(h.result.draggableId!==a.draggableId)return null;var u=a.isClone,p=i.dimensions.draggables[a.draggableId],m=h.result,g=m.mode,x=wf(m),f=function(e){return e.combine?e.combine.draggableId:null}(m),b={duration:i.dropDuration,curve:qm,moveTo:i.newHomeClientOffset,opacity:f?Ym.drop:null,scale:f?Xm.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:p,dropping:b,draggingOver:x,combineWith:f,mode:g,forceShouldAnimate:null,snapshot:t(g,u,x,f,b)}}}return null}),a=function(){var e=$u(function(e,t){return{x:e,y:t}}),t=$u(jf),s=$u(function(e,s,i){return void 0===s&&(s=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:s,shouldAnimateDisplacement:i,snapshot:t(s)}}}),i=function(e){return e?s(np,e,!0):null},a=function(t,a,n,r){var o=n.displaced.visible[t],l=Boolean(r.inVirtualList&&r.effected[t]),c=Tp(n),d=c&&c.draggableId===t?a:null;if(!o){if(!l)return i(d);if(n.displaced.invisible[t])return null;var h=cp(r.displacedBy.point),u=e(h.x,h.y);return s(u,d,!0)}if(l)return i(d);var p=n.displacedBy.point,m=e(p.x,p.y);return s(m,d,o.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var s=e.completed;return s.result.draggableId===t.draggableId?null:a(t.draggableId,s.result.draggableId,s.impact,s.afterCritical)}return null}}();return function(e,t){return i(e,t)||a(e,t)||Nf}},{dropAnimationFinished:Um},null,{context:cx,pure:!0,areStatePropsEqual:yf})(function(e){var t=p.useRef(null),s=Tu(function(e){t.current=e},[]),i=Tu(function(){return t.current},[]),a=nf(gx),n=a.contextId,r=a.dragHandleUsageInstructionsId,o=a.registry,l=nf(hf),c=l.type,d=l.droppableId,h=Iu(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}},[e.draggableId,e.index,c,d]),u=e.children,m=e.draggableId,g=e.isEnabled,x=e.shouldRespectForcePress,f=e.canDragInteractiveElements,b=e.isClone,v=e.mapped,y=e.dropAnimationFinished;b||bf(Iu(function(){return{descriptor:h,registry:o,getDraggableRef:i,canDragInteractiveElements:f,shouldRespectForcePress:x,isEnabled:g}},[h,o,i,f,x,g]));var w=Iu(function(){return g?{tabIndex:0,role:"button","aria-describedby":r,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":n,draggable:!1,onDragStart:vf}:null},[n,r,m,g]),j=Tu(function(e){"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&y()},[y,v]),N=Iu(function(){var e=ff(v),t="DRAGGING"===v.type&&v.dropping?j:null;return{innerRef:s,draggableProps:{"data-rbd-draggable-context-id":n,"data-rbd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:w}},[n,w,m,v,j,s]),k=Iu(function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}},[h.droppableId,h.id,h.index,h.type]);return u(N,v.snapshot,k)});function Sf(e){return nf(hf).isUsingCloneFor!==e.draggableId||e.isClone?m.createElement(kf,e):null}function Cf(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,s=Boolean(e.disableInteractiveElementBlocking),i=Boolean(e.shouldRespectForcePress);return m.createElement(Sf,b({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:s,shouldRespectForcePress:i}))}var Mf=function(e,t){return e===t.droppable.type},If=function(e,t){return t.draggables[e.draggable.id]};var Tf={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Xu(),document.body}},Ef=Su(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=b({},e,{shouldAnimatePlaceholder:!1}),s=$u(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),i=$u(function(i,a,n,r,o,l){var c=o.descriptor.id;if(o.descriptor.droppableId===i){var d=l?{render:l,dragging:s(o.descriptor)}:null,h={isDraggingOver:n,draggingOverWith:n?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!1,snapshot:h,useClone:d}}if(!a)return t;if(!r)return e;var u={isDraggingOver:n,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}});return function(s,a){var n=a.droppableId,r=a.type,o=!a.isDropDisabled,l=a.renderClone;if(s.isDragging){var c=s.critical;if(!Mf(r,c))return t;var d=If(c,s.dimensions),h=pm(s.impact)===n;return i(n,o,h,h,d,l)}if("DROP_ANIMATING"===s.phase){var u=s.completed;if(!Mf(r,u.critical))return t;var p=If(u.critical,s.dimensions);return i(n,o,wf(u.result)===n,pm(u.impact)===n,p,l)}if("IDLE"===s.phase&&s.completed&&!s.shouldFlush){var m=s.completed;if(!Mf(r,m.critical))return t;var g=pm(m.impact)===n,x=Boolean(m.impact.at&&"COMBINE"===m.impact.at.type),f=m.critical.droppable.id===n;return g?x?e:t:f?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:cx,pure:!0,areStatePropsEqual:yf})(function(e){var t=p.useContext(gx);t||Xu();var s=t.contextId,i=t.isMovementAllowed,a=p.useRef(null),n=p.useRef(null),r=e.children,o=e.droppableId,l=e.type,c=e.mode,d=e.direction,h=e.ignoreContainerClipping,u=e.isDropDisabled,g=e.isCombineEnabled,x=e.snapshot,b=e.useClone,v=e.updateViewportMaxScroll,y=e.getContainerForClone,w=Tu(function(){return a.current},[]),j=Tu(function(e){a.current=e},[]);Tu(function(){return n.current},[]);var N=Tu(function(e){n.current=e},[]),k=Tu(function(){i()&&v({maxScroll:yg()})},[i,v]);!function(e){var t=p.useRef(null),s=nf(gx),i=mx("droppable"),a=s.registry,n=s.marshal,r=xx(e),o=Iu(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=p.useRef(o),c=Iu(function(){return $u(function(e,s){t.current||Xu();var i={x:e,y:s};n.updateDroppableScroll(o.id,i)})},[o.id,n]),d=Tu(function(){var e=t.current;return e&&e.env.closestScrollable?Kx(e.env.closestScrollable):np},[]),h=Tu(function(){var e=d();c(e.x,e.y)},[d,c]),u=Iu(function(){return Gu(h)},[h]),m=Tu(function(){var e=t.current,s=rf(e);e&&s||Xu(),e.scrollOptions.shouldPublishImmediately?h():u()},[u,h]),g=Tu(function(e,i){t.current&&Xu();var a=r.current,n=a.getDroppableRef();n||Xu();var l=Zx(n),c={ref:n,descriptor:o,env:l,scrollOptions:i};t.current=c;var d=ef({ref:n,descriptor:o,env:l,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),h=l.closestScrollable;return h&&(h.setAttribute(Zg.contextId,s.contextId),h.addEventListener("scroll",m,af(c.scrollOptions))),d},[s.contextId,o,m,r]),x=Tu(function(){var e=t.current,s=rf(e);return e&&s||Xu(),Kx(s)},[]),f=Tu(function(){var e=t.current;e||Xu();var s=rf(e);t.current=null,s&&(u.cancel(),s.removeAttribute(Zg.contextId),s.removeEventListener("scroll",m,af(e.scrollOptions)))},[m,u]),b=Tu(function(e){var s=t.current;s||Xu();var i=rf(s);i||Xu(),i.scrollTop+=e.y,i.scrollLeft+=e.x},[]),v=Iu(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:x,dragStopped:f,scroll:b}},[f,g,x,b]),y=Iu(function(){return{uniqueId:i,descriptor:o,callbacks:v}},[v,o,i]);tx(function(){return l.current=y.descriptor,a.droppable.register(y),function(){t.current&&f(),a.droppable.unregister(y)}},[v,o,f,y,n,a.droppable]),tx(function(){t.current&&n.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,n]),tx(function(){t.current&&n.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,n])}({droppableId:o,type:l,mode:c,direction:d,isDropDisabled:u,isCombineEnabled:g,ignoreContainerClipping:h,getDroppableRef:w});var S=m.createElement(uf,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,i=e.data,a=e.animate;return m.createElement(df,{placeholder:i,onClose:t,innerRef:N,animate:a,contextId:s,onTransitionEnd:k})}),C=Iu(function(){return{innerRef:j,placeholder:S,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":s}}},[s,o,S,j]),M=b?b.dragging.draggableId:null,I=Iu(function(){return{droppableId:o,type:l,isUsingCloneFor:M}},[o,M,l]);return m.createElement(hf.Provider,{value:I},r(C,x),function(){if(!b)return null;var e=b.dragging,t=b.render,s=m.createElement(Sf,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(s,i){return t(s,i,e)});return f.createPortal(s,y())}())});function _f({currentTeam:e,likedMembers:t,onAddToTeam:s,onRemoveFromTeam:i}){const[r,o]=p.useState(null),l=t.filter(t=>!e.find(e=>e.id===t.id));return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"glassmorphism rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a.jsx(ce,{className:"w-6 h-6 text-brand-400"}),"Your Team (",e.length,"/5)"]}),a.jsx("div",{className:"text-sm text-slate-400",children:"Drag members between sections to build your team"})]}),a.jsxs(Vx,{onDragEnd:t=>{if(o(null),!t.destination)return;const{source:a,destination:n,draggableId:r}=t;if("available"===a.droppableId&&"team"===n.droppableId){const t=l.find(e=>e.id===r);t&&e.length<5&&s(t)}"team"===a.droppableId&&"available"===n.droppableId&&i(r)},onDragUpdate:e=>{var t;o((null==(t=e.destination)?void 0:t.droppableId)||null)},children:[a.jsx(Ef,{droppableId:"team",direction:"horizontal",children:(t,s)=>a.jsxs("div",{ref:t.innerRef,...t.droppableProps,className:`drop-zone min-h-[200px] rounded-xl p-4 mb-8 transition-all ${s.isDraggingOver||"team"===r?"active bg-brand-500/10 border-brand-400":"bg-white/5 border-white/10"} border-2 border-dashed`,children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx(ce,{className:"w-5 h-5"}),"Team Members"]}),0===e.length?a.jsx("div",{className:"flex items-center justify-center h-32 text-slate-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ce,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Drag team members here"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((e,t)=>a.jsx(Cf,{draggableId:e.id,index:t,children:(t,s)=>{return a.jsxs(n.div,{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,className:"glassmorphism rounded-xl p-4 cursor-grab active:cursor-grabbing transition-all "+(s.isDragging?"shadow-2xl scale-105 rotate-2":""),whileHover:{y:-2},layout:!0,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold text-white truncate",children:e.name}),(r=e.role,r.toLowerCase().includes("lead")||r.toLowerCase().includes("manager")?a.jsx(Ve,{className:"w-4 h-4 text-yellow-400"}):a.jsx(Ge,{className:"w-4 h-4 text-brand-400"}))]}),a.jsx("p",{className:"text-sm text-slate-300 truncate",children:e.role})]}),a.jsx("button",{onClick:()=>i(e.id),className:"p-1 hover:bg-red-500/20 rounded-full transition-colors",children:a.jsx(re,{className:"w-4 h-4 text-red-400"})})]}),a.jsx(gd,{skills:e.skills.slice(0,2),compact:!0,showLabels:!1})]});var r}},e.id))}),t.placeholder]})}),a.jsx(Ef,{droppableId:"available",direction:"horizontal",children:(t,i)=>a.jsxs("div",{ref:t.innerRef,...t.droppableProps,className:`drop-zone min-h-[200px] rounded-xl p-4 transition-all ${i.isDraggingOver||"available"===r?"active bg-purple-500/10 border-purple-400":"bg-white/5 border-white/10"} border-2 border-dashed`,children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx(Ge,{className:"w-5 h-5"}),"Available Members (",l.length,")"]}),0===l.length?a.jsx("div",{className:"flex items-center justify-center h-32 text-slate-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ge,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No available members"}),a.jsx("p",{className:"text-sm",children:"Go to Discover to find teammates"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map((t,i)=>a.jsx(Cf,{draggableId:t.id,index:i,children:(i,r)=>a.jsxs(n.div,{ref:i.innerRef,...i.draggableProps,...i.dragHandleProps,className:"glassmorphism rounded-xl p-4 cursor-grab active:cursor-grabbing transition-all "+(r.isDragging?"shadow-2xl scale-105 rotate-2":""),whileHover:{y:-2},layout:!0,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("img",{src:t.avatar,alt:t.name,className:"w-10 h-10 rounded-full object-cover"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-white text-sm truncate",children:t.name}),a.jsx("p",{className:"text-xs text-slate-300 truncate",children:t.role})]}),a.jsx("button",{onClick:()=>s(t),disabled:e.length>=5,className:"p-1 rounded-full transition-colors "+(e.length>=5?"cursor-not-allowed opacity-50":"hover:bg-green-500/20"),children:a.jsx(Fe,{className:"w-4 h-4 text-green-400"})})]}),a.jsx("div",{className:"space-y-1",children:t.skills.slice(0,2).map(e=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-slate-300",children:e.name}),a.jsxs("span",{className:"text-xs text-brand-200",children:[e.level,"%"]})]},e.name))})]})},t.id))}),t.placeholder]})})]})]}),e.length>0&&a.jsxs(n.div,{className:"glassmorphism rounded-2xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Team Overview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-200 mb-3",children:"Roles"}),a.jsx("div",{className:"space-y-2",children:e.map(e=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:e.avatar,alt:e.name,className:"w-6 h-6 rounded-full object-cover"}),a.jsx("span",{className:"text-sm text-white",children:e.name}),a.jsx("span",{className:"text-xs text-slate-400",children:"•"}),a.jsx("span",{className:"text-xs text-slate-300",children:e.role})]},e.id))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-brand-200 mb-3",children:"Skill Coverage"}),a.jsx("div",{className:"space-y-2",children:Array.from(new Set(e.flatMap(e=>e.skills.map(e=>e.name)))).slice(0,5).map(t=>{const s=Math.round(e.flatMap(e=>e.skills).filter(e=>e.name===t).reduce((e,t,s,i)=>e+t.level/i.length,0));return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-white",children:t}),a.jsxs("span",{className:"text-sm text-brand-200",children:[s,"%"]})]},t)})})]})]})]})]})}function Df({team:e}){var t,s;const[i,r]=p.useState(!1),[o,l]=p.useState([0,0,0,0]);p.useEffect(()=>{r(!0)},[]);const c=(()=>{if(e.length<2)return[];const t=e.flatMap(e=>e.skills.map(e=>e.name)),s=new Set(t),i=Math.min(s.size/10*100,100),a=e.map(e=>e.role.toLowerCase()),n=new Set(a),r=Math.min(n.size/e.length*100,100),o=e.map(e=>{const t=e.experience.match(/\d+/);return t?parseInt(t[0]):0}),l=o.reduce((e,t)=>e+t,0)/o.length,c=o.reduce((e,t)=>e+Math.pow(t-l,2),0)/o.length,d=Math.max(100-10*c,60),h=e.flatMap(e=>e.interests).reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{}),u=Object.values(h).filter(e=>e>1).length,p=Math.min(u/3*100,100);return[{name:"Skill Diversity",score:Math.round(i),icon:Pe,description:"Variety of technical skills across the team",color:"from-blue-400 to-blue-600"},{name:"Role Balance",score:Math.round(r),icon:ce,description:"Distribution of different roles and responsibilities",color:"from-green-400 to-green-600"},{name:"Experience Sync",score:Math.round(d),icon:De,description:"Alignment of experience levels for effective collaboration",color:"from-purple-400 to-purple-600"},{name:"Interest Overlap",score:Math.round(p),icon:Ue,description:"Shared interests and passion areas",color:"from-orange-400 to-orange-600"}]})(),d=c.length>0?Math.round(c.reduce((e,t)=>e+t.score,0)/c.length):0;p.useEffect(()=>{if(i&&c.length>0){const e=c.map((e,t)=>setTimeout(()=>{l(s=>{const i=[...s];return i[t]=e.score,i})},200*t));return()=>e.forEach(clearTimeout)}},[i,c.length]);const h=e=>e>=80?"text-green-400":e>=60?"text-yellow-400":e>=40?"text-orange-400":"text-red-400";return e.length<2?a.jsxs("div",{className:"glassmorphism rounded-2xl p-6 text-center",children:[a.jsx(Pe,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Team Compatibility"}),a.jsx("p",{className:"text-slate-400",children:"Add at least 2 members to see compatibility analysis"})]}):a.jsxs(n.div,{className:"glassmorphism rounded-2xl p-6",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center justify-center gap-2",children:[a.jsx(Pe,{className:"w-6 h-6 text-brand-400"}),"Team Compatibility"]}),a.jsx("p",{className:"text-slate-300",children:"Analysis of how well your team works together"})]}),a.jsx("div",{className:"text-center mb-8",children:a.jsxs("div",{className:"relative inline-block",children:[a.jsxs(n.div,{className:"compatibility-meter w-32 h-32 rounded-full border-8 border-white/10 flex items-center justify-center relative overflow-hidden",initial:{scale:0},animate:{scale:1},transition:{duration:.8,type:"spring"},children:[a.jsx(n.div,{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(from 0deg, #3b5cff 0deg, #8b5cf6 ${3.6*d}deg, rgba(255,255,255,0.1) ${3.6*d}deg)`},initial:{rotate:-90},animate:{rotate:-90}}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsxs(n.div,{className:`text-3xl font-bold ${h(d)}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:[d,"%"]}),a.jsx("div",{className:"text-xs text-slate-400",children:(u=d,u>=80?"Excellent":u>=60?"Good":u>=40?"Fair":"Needs Work")})]})]}),a.jsx(n.div,{className:"absolute inset-0 rounded-full border-2 border-brand-400",animate:{scale:[1,1.1,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((e,t)=>{const s=e.icon;return a.jsxs(n.div,{className:"bg-white/5 rounded-xl p-4 border border-white/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${e.color}`,children:a.jsx(s,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-white",children:e.name}),a.jsx("p",{className:"text-xs text-slate-400",children:e.description})]}),a.jsx("div",{className:`text-lg font-bold ${h(o[t])}`,children:a.jsxs(n.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2*t+.5},children:[Math.round(o[t]),"%"]})})]}),a.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:a.jsx(n.div,{className:`h-full bg-gradient-to-r ${e.color}`,initial:{width:0},animate:{width:`${o[t]}%`},transition:{duration:1,delay:.2*t,ease:"easeOut"}})})]},e.name)})}),d<70&&a.jsxs(n.div,{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(le,{className:"w-4 h-4 text-yellow-400"}),a.jsx("h4",{className:"font-semibold text-yellow-400",children:"Recommendations"})]}),a.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[d<50&&a.jsx("li",{children:"• Consider adding members with complementary skills"}),((null==(t=c.find(e=>"Role Balance"===e.name))?void 0:t.score)??0)<60&&a.jsx("li",{children:"• Try to balance different roles (frontend, backend, design, etc.)"}),((null==(s=c.find(e=>"Interest Overlap"===e.name))?void 0:s.score)??0)<40&&a.jsx("li",{children:"• Look for members with shared interests or project goals"})]})]})]});var u}Ef.defaultProps=Tf;const Pf=[{id:"1",senderId:"1",content:"Hey everyone! Excited to work on this project together 🚀",timestamp:new Date(Date.now()-36e5),type:"text"},{id:"2",senderId:"2",content:"Same here! I've been thinking about the UI design. Should we start with wireframes?",timestamp:new Date(Date.now()-3e6),type:"text"},{id:"3",senderId:"3",content:"Great idea! I can help with the data modeling and API design once we have the wireframes.",timestamp:new Date(Date.now()-24e5),type:"text"},{id:"4",senderId:"4",content:"Perfect! Let's schedule a quick call to align on the product requirements first.",timestamp:new Date(Date.now()-18e5),type:"text"}];function Af({team:e}){const[t,s]=p.useState(Pf),[i,o]=p.useState(""),[l,c]=p.useState([]),[d]=p.useState("1"),h=p.useRef(null),u=p.useRef(null);p.useEffect(()=>{const t=setInterval(()=>{const t=e[Math.floor(Math.random()*e.length)];t&&t.id!==d&&Math.random()>.8&&(c(e=>[...e,t.id]),setTimeout(()=>{if(c(e=>e.filter(e=>e!==t.id)),Math.random()>.7){const e=["Sounds good to me!","I agree with that approach","Let me know if you need any help","Great progress everyone!","Should we set up a meeting?"],i={id:Date.now().toString(),senderId:t.id,content:e[Math.floor(Math.random()*e.length)],timestamp:new Date,type:"text"};s(e=>[...e,i])}},2e3+3e3*Math.random()))},5e3);return()=>clearInterval(t)},[e,d]),p.useEffect(()=>{var e;null==(e=h.current)||e.scrollIntoView({behavior:"smooth"})},[t,l]);const m=()=>{var e;if(!i.trim())return;const t={id:Date.now().toString(),senderId:d,content:i,timestamp:new Date,type:"text"};s(e=>[...e,t]),o(""),null==(e=u.current)||e.focus()},g=t=>e.find(e=>e.id===t);return 0===e.length?a.jsxs("div",{className:"glassmorphism rounded-2xl p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"💬"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Team Chat"}),a.jsx("p",{className:"text-slate-400",children:"Add team members to start chatting"})]}):a.jsxs("div",{className:"glassmorphism rounded-2xl overflow-hidden h-[600px] flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex -space-x-2",children:[e.slice(0,3).map(e=>a.jsx("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full border-2 border-white/20 object-cover"},e.id)),e.length>3&&a.jsxs("div",{className:"w-8 h-8 rounded-full bg-brand-500 border-2 border-white/20 flex items-center justify-center text-xs font-bold text-white",children:["+",e.length-3]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:"Team Chat"}),a.jsxs("p",{className:"text-xs text-slate-400",children:[e.length," members"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n.button,{className:"p-2 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(qe,{className:"w-4 h-4 text-slate-300"})}),a.jsx(n.button,{className:"p-2 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Ye,{className:"w-4 h-4 text-slate-300"})}),a.jsx(n.button,{className:"p-2 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Xe,{className:"w-4 h-4 text-slate-300"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.jsx(r,{children:t.map(e=>{const t=g(e.senderId),s=e.senderId===d;return a.jsxs(n.div,{className:"flex gap-3 "+(s?"flex-row-reverse":""),initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:500,damping:30},children:[!s&&t&&a.jsx("img",{src:t.avatar,alt:t.name,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex flex-col "+(s?"items-end":"items-start"),children:[!s&&t&&a.jsx("span",{className:"text-xs text-slate-400 mb-1 px-3",children:t.name}),a.jsx(n.div,{className:"chat-bubble px-4 py-2 rounded-2xl max-w-xs lg:max-w-md "+(s?"bg-brand-500 text-white sent":"bg-white/10 text-white received"),whileHover:{scale:1.02},children:a.jsx("p",{className:"text-sm",children:e.content})}),a.jsx("span",{className:"text-xs text-slate-500 mt-1 px-3",children:(i=e.timestamp,i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})]})]},e.id);var i})}),a.jsx(r,{children:l.map(e=>{const t=g(e);return t?a.jsxs(n.div,{className:"flex gap-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[a.jsx("img",{src:t.avatar,alt:t.name,className:"w-8 h-8 rounded-full object-cover"}),a.jsxs("div",{className:"bg-white/10 rounded-2xl px-4 py-2 flex items-center gap-1",children:[a.jsxs("span",{className:"text-xs text-slate-400 mr-2",children:[t.name," is typing"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full typing-dot"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full typing-dot"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full typing-dot"})]})]})]},e):null})}),a.jsx("div",{ref:h})]}),a.jsx("div",{className:"p-4 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(n.button,{className:"p-2 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Je,{className:"w-4 h-4 text-slate-400"})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{ref:u,type:"text",value:i,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:"Type a message...",className:"w-full bg-white/10 border border-white/20 rounded-full px-4 py-2 pr-12 text-white placeholder-slate-400 focus:outline-none focus:border-brand-400 transition-colors"}),a.jsx(n.button,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Ke,{className:"w-4 h-4 text-slate-400"})})]}),a.jsx(n.button,{onClick:m,disabled:!i.trim(),className:"p-2 rounded-full transition-colors "+(i.trim()?"bg-brand-500 hover:bg-brand-600 text-white":"bg-white/10 text-slate-400 cursor-not-allowed"),whileHover:i.trim()?{scale:1.1}:{},whileTap:i.trim()?{scale:.9}:{},children:a.jsx(Qe,{className:"w-4 h-4"})})]})})]})}const Of=[{id:"1",name:"Alex Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",role:"Full Stack Developer",skills:[{name:"React",level:90},{name:"Node.js",level:85},{name:"TypeScript",level:80},{name:"Python",level:75}],bio:"Passionate developer with 5+ years experience building scalable web applications.",experience:"5+ years",location:"San Francisco, CA",availability:"Full-time",interests:["AI/ML","Web3","Mobile Development"],github:"https://github.com/alexchen",portfolio:"https://alexchen.dev"},{id:"2",name:"Sarah Johnson",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150",role:"UI/UX Designer",skills:[{name:"Figma",level:95},{name:"Adobe XD",level:88},{name:"Prototyping",level:92},{name:"User Research",level:85}],bio:"Creative designer focused on user-centered design and innovative digital experiences.",experience:"4+ years",location:"New York, NY",availability:"Part-time",interests:["Design Systems","Accessibility","AR/VR"],linkedin:"https://linkedin.com/in/sarahjohnson"},{id:"3",name:"Marcus Rodriguez",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150",role:"Data Scientist",skills:[{name:"Python",level:93},{name:"Machine Learning",level:88},{name:"TensorFlow",level:82},{name:"SQL",level:90}],bio:"Data scientist specializing in ML algorithms and predictive analytics.",experience:"6+ years",location:"Austin, TX",availability:"Full-time",interests:["AI/ML","Healthcare Tech","Climate Tech"],github:"https://github.com/marcusr"},{id:"4",name:"Emily Zhang",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150",role:"Product Manager",skills:[{name:"Product Strategy",level:92},{name:"Agile/Scrum",level:88},{name:"Analytics",level:85},{name:"User Research",level:80}],bio:"Product manager with expertise in bringing innovative ideas to market.",experience:"7+ years",location:"Seattle, WA",availability:"Full-time",interests:["Fintech","EdTech","Sustainability"],linkedin:"https://linkedin.com/in/emilyzhang"}];function Lf(){const[e,t]=p.useState("discover"),[s,i]=p.useState([]),[o,l]=p.useState([]),c=e=>{s.length<5&&!s.find(t=>t.id===e.id)&&i(t=>[...t,e])},d=[{id:"discover",label:"Discover",icon:Ue},{id:"build",label:"Build Team",icon:ce},{id:"chat",label:"Team Chat",icon:de}];return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(n.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-brand-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Team Formation"}),a.jsx("p",{className:"text-xl text-slate-300 max-w-2xl mx-auto",children:"Discover amazing teammates, build your dream team, and collaborate seamlessly"})]}),a.jsx(n.div,{className:"flex justify-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsx("div",{className:"glassmorphism rounded-2xl p-2 flex gap-2",children:d.map(s=>{const i=s.icon;return a.jsxs(n.button,{onClick:()=>t(s.id),className:"relative px-6 py-3 rounded-xl font-medium transition-all duration-300 flex items-center gap-2 "+(e===s.id?"text-white":"text-slate-300 hover:text-white"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[e===s.id&&a.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-500 to-purple-600 rounded-xl",layoutId:"activeTabBg",initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),a.jsx(i,{className:"w-5 h-5 relative z-10"}),a.jsx("span",{className:"relative z-10",children:s.label})]},s.id)})})}),a.jsxs(n.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[a.jsxs("div",{className:"glassmorphism rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-brand-400",children:s.length}),a.jsx("div",{className:"text-sm text-slate-300",children:"Team Members"})]}),a.jsxs("div",{className:"glassmorphism rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:o.length}),a.jsx("div",{className:"text-sm text-slate-300",children:"Liked Profiles"})]}),a.jsxs("div",{className:"glassmorphism rounded-xl p-4 text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-pink-400",children:[s.length>0?Math.round(s.reduce((e,t)=>e+t.skills.reduce((e,t)=>e+t.level,0)/t.skills.length,0)/s.length):0,"%"]}),a.jsx("div",{className:"text-sm text-slate-300",children:"Avg Skill Level"})]}),a.jsxs("div",{className:"glassmorphism rounded-xl p-4 text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-cyan-400",children:[s.length>=2?Math.round(30*Math.random()+70):0,"%"]}),a.jsx("div",{className:"text-sm text-slate-300",children:"Compatibility"})]})]}),a.jsx(r,{mode:"wait",children:a.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:["discover"===e&&a.jsx(xd,{members:Of,onLike:e=>{l(t=>[...t,e])},onAddToTeam:c,currentTeam:s}),"build"===e&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(_f,{currentTeam:s,likedMembers:o,onAddToTeam:c,onRemoveFromTeam:e=>{i(t=>t.filter(t=>t.id!==e))}}),s.length>=2&&a.jsx(Df,{team:s})]}),"chat"===e&&a.jsx(Af,{team:s})]},e)})]})})}function Rf(){return a.jsx(Lf,{})}const zf={"Smileys & People":["😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃","😉","😊","😇","🥰","😍","🤩","😘","😗","😚","😙","😋","😛","😜","🤪","😝","🤑","🤗","🤭","🤫","🤔","🤐","🤨","😐","😑","😶","😏","😒","🙄","😬","🤥","😔","😪","🤤","😴","😷","🤒","🤕","🤢","🤮","🤧","🥵","🥶","🥴","😵","🤯","🤠","🥳","😎","🤓","🧐","😕","😟","🙁","☹️"],"Animals & Nature":["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐨","🐯","🦁","🐮","🐷","🐽","🐸","🐵","🙈","🙉","🙊","🐒","🐔","🐧","🐦","🐤","🐣","🐥","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🐛","🦋","🐌","🐞","🐜","🦟","🦗","🕷️","🕸️","🦂","🐢","🐍","🦎"],"Food & Drink":["🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","🥒","🌶️","🌽","🥕","🧄","🧅","🥔","🍠","🥐","🥖","🍞","🥨","🥯","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🌭","🍔","🍟","🍕","🥪"],Activities:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🪃","🥅","⛳","🪁","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛷","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️","🤼","🤸","⛹️","🤺","🤾","🏌️","🏇","🧘","🏄","🏊","🤽","🚣"],Objects:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸"],Symbols:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳"]};function Bf({isOpen:e,onEmojiSelect:t,onClose:s}){const[i,o]=p.useState(""),[l,c]=p.useState("Smileys & People"),d=p.useRef(null);p.useEffect(()=>{const t=e=>{d.current&&!d.current.contains(e.target)&&s()};return e&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[e,s]);const h=e=>{t(e),o("")};return a.jsx(r,{children:e&&a.jsxs(n.div,{ref:d,className:"emoji-picker open",initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.2},children:[a.jsx("div",{className:"p-3 border-b border-white/10",children:a.jsxs("div",{className:"relative",children:[a.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search emojis...",value:i,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-slate-400 text-sm focus:outline-none focus:border-brand-400"})]})}),!i&&a.jsx("div",{className:"flex overflow-x-auto p-2 border-b border-white/10",children:Object.keys(zf).map(e=>a.jsx("button",{onClick:()=>c(e),className:"flex-shrink-0 px-3 py-1 text-xs rounded-full transition-colors "+(l===e?"bg-brand-500 text-white":"text-slate-400 hover:text-white hover:bg-white/10"),children:e.split(" ")[0]},e))}),a.jsx("div",{className:"emoji-grid",children:(()=>{if(!i)return zf[l]||[];return Object.values(zf).flat().filter(()=>Math.random()>.7)})().map((e,t)=>a.jsx(n.button,{onClick:()=>h(e),className:"emoji-item",whileHover:{scale:1.2},whileTap:{scale:.9},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.01*t},children:e},`${e}-${t}`))}),a.jsxs("div",{className:"p-3 border-t border-white/10",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-2",children:"Recently Used"}),a.jsx("div",{className:"flex gap-1",children:["❤️","👍","😂","🔥","👏","🚀"].map(e=>a.jsx(n.button,{onClick:()=>h(e),className:"emoji-item w-8 h-8",whileHover:{scale:1.2},whileTap:{scale:.9},children:e},e))})]})]})})}const Ff=[{id:"1",userId:"1",content:"Hey everyone! Excited to work on this hackathon together! 🚀",timestamp:new Date(Date.now()-36e5),type:"text",reactions:[{emoji:"❤️",users:["2","3"]},{emoji:"🚀",users:["2"]}]},{id:"2",userId:"2",content:"Same here! I've been working on the frontend. The design is looking great!",timestamp:new Date(Date.now()-3e6),type:"text",reactions:[{emoji:"👍",users:["1","3"]}]},{id:"3",userId:"3",content:"Perfect! I just finished the API endpoints. Ready to integrate! 💪",timestamp:new Date(Date.now()-18e5),type:"text"}];function Hf({roomId:e,title:t="Team Chat",height:s="500px"}){const[i,o]=p.useState(Ff),[l,c]=p.useState(""),[d,h]=p.useState([]),[u,m]=p.useState(!1),g=p.useRef(null),x=p.useRef(null),f=dt(e=>e.session.currentUserId)||"1",b=dt(e=>e.users);p.useEffect(()=>{var e;null==(e=g.current)||e.scrollIntoView({behavior:"smooth"})},[i,d]),p.useEffect(()=>{const e=setInterval(()=>{const e=Object.keys(b).filter(e=>e!==f),t=e[Math.floor(Math.random()*e.length)];t&&Math.random()>.9&&(h(e=>[...e,t]),setTimeout(()=>{if(h(e=>e.filter(e=>e!==t)),Math.random()>.7){const e=["Great work everyone! 👏","I agree with that approach","Let me know if you need any help","Looking good! 🔥","Should we schedule a quick sync?"],s={id:Date.now().toString(),userId:t,content:e[Math.floor(Math.random()*e.length)],timestamp:new Date,type:"text"};o(e=>[...e,s])}},2e3+3e3*Math.random()))},8e3);return()=>clearInterval(e)},[b,f]);const v=()=>{var e;if(!l.trim())return;const t={id:Date.now().toString(),userId:f,content:l,timestamp:new Date,type:"text"};o(e=>[...e,t]),c(""),null==(e=x.current)||e.focus()},y=(e,t)=>{o(s=>s.map(s=>{if(s.id===e){const e=s.reactions||[],i=e.find(e=>e.emoji===t);if(i)if(i.users.includes(f)){if(i.users=i.users.filter(e=>e!==f),0===i.users.length)return{...s,reactions:e.filter(e=>e.emoji!==t)}}else i.users.push(f);else e.push({emoji:t,users:[f]});return{...s,reactions:e}}return s}))},w=e=>b[e]||{name:"Unknown User",avatar:""};return a.jsxs("div",{className:"glassmorphism rounded-2xl overflow-hidden flex flex-col",style:{height:s},children:[a.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex -space-x-2",children:Object.values(b).slice(0,3).map(e=>a.jsx("div",{className:"online-indicator",children:a.jsx("img",{src:e.avatar||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40",alt:e.name,className:"w-8 h-8 rounded-full border-2 border-white/20 object-cover"})},e.id))}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:t}),a.jsxs("p",{className:"text-xs text-slate-400",children:[Object.keys(b).length," members online"]})]})]}),a.jsx(n.button,{className:"p-2 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Xe,{className:"w-4 h-4 text-slate-300"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.jsx(r,{children:i.map(e=>{const t=w(e.userId),s=e.userId===f;return a.jsxs(n.div,{className:"flex gap-3 "+(s?"flex-row-reverse":""),initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:500,damping:30},children:[!s&&a.jsx("div",{className:"online-indicator",children:a.jsx("img",{src:t.avatar||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40",alt:t.name,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"})}),a.jsxs("div",{className:`flex flex-col ${s?"items-end":"items-start"} max-w-[70%]`,children:[!s&&a.jsx("span",{className:"text-xs text-slate-400 mb-1 px-3",children:t.name}),a.jsx("div",{className:"message-bubble px-4 py-2 rounded-2xl "+(s?"sent":"received"),children:a.jsx("p",{className:"text-sm text-white",children:e.content})}),e.reactions&&e.reactions.length>0&&a.jsxs("div",{className:"flex gap-1 mt-1",children:[e.reactions.map(t=>a.jsxs(n.button,{onClick:()=>y(e.id,t.emoji),className:"flex items-center gap-1 px-2 py-1 rounded-full text-xs transition-colors "+(t.users.includes(f)?"bg-brand-500/20 border border-brand-500/30":"bg-white/10 hover:bg-white/20"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx("span",{children:t.emoji}),a.jsx("span",{className:"text-slate-300",children:t.users.length})]},t.emoji)),a.jsx(n.button,{onClick:()=>y(e.id,"❤️"),className:"w-6 h-6 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-xs transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:"+"})]}),a.jsx("span",{className:"text-xs text-slate-500 mt-1 px-3",children:(i=e.timestamp,i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})]})]},e.id);var i})}),a.jsx(r,{children:d.map(e=>{const t=w(e);return a.jsxs(n.div,{className:"flex gap-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[a.jsx("img",{src:t.avatar||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40",alt:t.name,className:"w-8 h-8 rounded-full object-cover"}),a.jsxs("div",{className:"typing-indicator",children:[a.jsx("div",{className:"typing-dot"}),a.jsx("div",{className:"typing-dot"}),a.jsx("div",{className:"typing-dot"})]})]},e)})}),a.jsx("div",{ref:g})]}),a.jsxs("div",{className:"p-4 border-t border-white/10 relative",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(n.button,{className:"p-2 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Je,{className:"w-4 h-4 text-slate-400"})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{ref:x,type:"text",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v())},placeholder:"Type a message...",className:"w-full bg-white/10 border border-white/20 rounded-full px-4 py-2 pr-12 text-white placeholder-slate-400 focus:outline-none focus:border-brand-400 transition-colors"}),a.jsx(n.button,{onClick:()=>m(!u),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 hover:bg-white/10 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Ke,{className:"w-4 h-4 text-slate-400"})})]}),a.jsx(n.button,{onClick:v,disabled:!l.trim(),className:"p-2 rounded-full transition-colors "+(l.trim()?"bg-brand-500 hover:bg-brand-600 text-white":"bg-white/10 text-slate-400 cursor-not-allowed"),whileHover:l.trim()?{scale:1.1}:{},whileTap:l.trim()?{scale:.9}:{},children:a.jsx(Qe,{className:"w-4 h-4"})})]}),a.jsx(Bf,{isOpen:u,onEmojiSelect:e=>{var t;c(t=>t+e),m(!1),null==(t=x.current)||t.focus()},onClose:()=>m(!1)})]})]})}function Wf({initialLiked:e=!1,likeCount:t=0,onLike:s,size:i="md",showCount:o=!0}){const[l,c]=p.useState(e),[d,h]=p.useState(t),[u,m]=p.useState([]),g=p.useRef(null),x=()=>{if(!g.current)return;const e=g.current.getBoundingClientRect(),t=[];for(let s=0;s<3;s++){const i={id:`${Date.now()}-${s}`,x:e.left+e.width/2+40*(Math.random()-.5),y:e.top+e.height/2};t.push(i)}m(e=>[...e,...t]),setTimeout(()=>{m(e=>e.filter(e=>!t.some(t=>t.id===e.id)))},2e3)};return a.jsxs(a.Fragment,{children:[a.jsx(n.button,{ref:g,onClick:()=>{const e=!l;c(e),h(t=>e?t+1:Math.max(0,t-1)),null==s||s(e),e&&x()},className:`like-button ${l?"liked":""} ${{sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10"}[i]} rounded-full flex items-center justify-center transition-all duration-200 ${l?"bg-red-500/20 text-red-500 border border-red-500/30":"bg-white/10 text-slate-400 hover:bg-white/20 hover:text-red-400 border border-white/20"}`,whileHover:{scale:1.1},whileTap:{scale:.9},animate:l?{scale:[1,1.2,1]}:{},transition:{duration:.3},children:a.jsx(he,{className:`${{sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"}[i]} ${l?"fill-current":""}`})}),o&&d>0&&a.jsx(n.span,{className:"text-sm text-slate-400 ml-2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:d},d),a.jsx(r,{children:u.map(e=>a.jsx(n.div,{className:"floating-heart fixed pointer-events-none z-50",style:{left:e.x,top:e.y},initial:{opacity:1,scale:1,y:0,x:0},animate:{opacity:0,scale:1.5,y:-100,x:60*(Math.random()-.5)},exit:{opacity:0},transition:{duration:2,ease:"easeOut"},children:a.jsx(he,{className:"w-6 h-6 text-red-500 fill-current"})},e.id))})]})}const $f={1:{hackathonsJoined:15,projectsCompleted:12,teamsFormed:8,badgesEarned:23,winRate:67},2:{hackathonsJoined:8,projectsCompleted:6,teamsFormed:4,badgesEarned:12,winRate:75},3:{hackathonsJoined:22,projectsCompleted:18,teamsFormed:12,badgesEarned:31,winRate:82},4:{hackathonsJoined:5,projectsCompleted:4,teamsFormed:2,badgesEarned:8,winRate:80},5:{hackathonsJoined:11,projectsCompleted:9,teamsFormed:6,badgesEarned:18,winRate:64}},Gf={1:{bio:"Full-stack developer passionate about AI and machine learning. Love building innovative solutions!",location:"San Francisco, CA",joinDate:new Date(2023,0,15),skills:["React","Node.js","Python","TensorFlow"],interests:["AI/ML","Web Development","Open Source"],github:"https://github.com/johndoe",linkedin:"https://linkedin.com/in/johndoe",website:"https://johndoe.dev"},2:{bio:"UI/UX Designer with a passion for creating beautiful and intuitive user experiences.",location:"New York, NY",joinDate:new Date(2023,3,22),skills:["Figma","Adobe XD","Prototyping","User Research"],interests:["Design Systems","Accessibility","Mobile Design"],linkedin:"https://linkedin.com/in/janesmith"},3:{bio:"Data scientist and ML engineer. Building the future with data-driven insights.",location:"Austin, TX",joinDate:new Date(2022,8,10),skills:["Python","R","TensorFlow","PyTorch"],interests:["Machine Learning","Data Visualization","Statistics"],github:"https://github.com/alexchen"}};function Vf({userId:e,showActions:t=!0,compact:s=!1}){const[i,r]=p.useState(!1),o=dt(e=>e.users),l=dt(e=>e.session.currentUserId),c=o[e],d=$f[e]||$f[1],h=Gf[e]||Gf[1],u=e===l;if(!c)return null;const m=()=>{r(!i)};return s?a.jsx(n.div,{className:"profile-card-hover glassmorphism rounded-xl p-4 relative overflow-hidden",whileHover:{y:-4},transition:{duration:.3},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"online-indicator",children:a.jsx("img",{src:c.avatar||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=60",alt:c.name,className:"w-12 h-12 rounded-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-white truncate",children:c.name}),a.jsx("p",{className:"text-sm text-slate-300 capitalize",children:c.role}),a.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-slate-400",children:[a.jsxs("span",{children:[d.hackathonsJoined," hackathons"]}),a.jsxs("span",{children:[d.winRate,"% win rate"]})]})]}),t&&!u&&a.jsx(n.button,{onClick:m,className:"px-3 py-1 rounded-full text-xs font-medium transition-colors "+(i?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-brand-500/20 text-brand-400 border border-brand-500/30 hover:bg-brand-500/30"),whileHover:{scale:1.05},whileTap:{scale:.95},children:i?"Following":"Follow"})]})}):a.jsxs(n.div,{className:"profile-card-hover glassmorphism rounded-2xl p-6 relative overflow-hidden max-w-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"online-indicator mx-auto mb-4",children:a.jsx("img",{src:c.avatar||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=120",alt:c.name,className:"w-20 h-20 rounded-full object-cover mx-auto border-4 border-white/20"})}),a.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:c.name}),a.jsx("p",{className:"text-brand-200 capitalize mb-2",children:c.role}),h.location&&a.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-slate-400",children:[a.jsx(ze,{className:"w-4 h-4"}),h.location]})]}),h.bio&&a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-sm text-slate-300 leading-relaxed text-center",children:h.bio})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-brand-400",children:d.hackathonsJoined}),a.jsx("div",{className:"text-xs text-slate-400",children:"Hackathons"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[d.winRate,"%"]}),a.jsx("div",{className:"text-xs text-slate-400",children:"Win Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:d.teamsFormed}),a.jsx("div",{className:"text-xs text-slate-400",children:"Teams"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:d.badgesEarned}),a.jsx("div",{className:"text-xs text-slate-400",children:"Badges"})]})]}),h.skills&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"Top Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.skills.slice(0,4).map(e=>a.jsx("span",{className:"px-2 py-1 bg-white/10 text-xs text-slate-300 rounded-full border border-white/20",children:e},e))})]}),a.jsxs("div",{className:"flex justify-center gap-3 mb-6",children:[h.github&&a.jsx(n.a,{href:h.github,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(be,{className:"w-4 h-4 text-slate-300"})}),h.linkedin&&a.jsx(n.a,{href:h.linkedin,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Be,{className:"w-4 h-4 text-slate-300"})}),h.website&&a.jsx(n.a,{href:h.website,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Oe,{className:"w-4 h-4 text-slate-300"})})]}),t&&!u&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(n.button,{onClick:m,className:"flex-1 py-2 px-4 rounded-lg font-medium transition-colors "+(i?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-brand-500 hover:bg-brand-600 text-white"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(fe,{className:"w-4 h-4 mr-2 inline"}),i?"Following":"Follow"]}),a.jsx(n.button,{className:"py-2 px-4 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(de,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-white/10 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-slate-400",children:[a.jsx(Ne,{className:"w-3 h-3"}),"Joined ",(g=h.joinDate,g.toLocaleDateString("en-US",{month:"long",year:"numeric"}))]})})]});var g}const Uf=[{id:"1",userId:"1",type:"project_submission",content:"Just submitted our AI-powered healthcare assistant to the Innovation Challenge! 🚀 Excited to see how it performs in the judging round.",timestamp:new Date(Date.now()-18e5),metadata:{projectName:"HealthAI Assistant",hackathonName:"Innovation Challenge 2024"},likes:15,comments:8},{id:"2",userId:"2",type:"badge_earned",content:'Earned the "Design Master" badge for creating outstanding UI/UX designs! 🎨',timestamp:new Date(Date.now()-36e5),metadata:{badgeName:"Design Master"},likes:23,comments:5},{id:"3",userId:"3",type:"hackathon_win",content:'Our team "Data Wizards" won 1st place in the Climate Tech Hackathon! 🏆 Thanks to everyone who supported us!',timestamp:new Date(Date.now()-72e5),metadata:{teamName:"Data Wizards",hackathonName:"Climate Tech Hackathon"},likes:45,comments:12},{id:"4",userId:"4",type:"team_join",content:'Joined the amazing "Code Crusaders" team for the upcoming Web3 hackathon! Ready to build something incredible! ⚡',timestamp:new Date(Date.now()-108e5),metadata:{teamName:"Code Crusaders",hackathonName:"Web3 Future Fest"},likes:12,comments:3},{id:"5",userId:"5",type:"comment",content:'Great insights shared in today\'s workshop on "Building Scalable APIs"! Learned so much about microservices architecture. 💡',timestamp:new Date(Date.now()-144e5),likes:8,comments:2}];function qf({userId:e,limit:t}){const[s,i]=p.useState(Uf),[o,l]=p.useState(!1),[c,d]=p.useState(!0),[h,u]=p.useState(1),m=p.useRef(null),g=dt(e=>e.users);p.useEffect(()=>{const e=new IntersectionObserver(e=>{e[0].isIntersecting&&c&&!o&&x()},{threshold:.1});return m.current&&e.observe(m.current),()=>e.disconnect()},[c,o]);const x=async()=>{if(o)return;l(!0),await new Promise(e=>setTimeout(e,1e3));const e=Array.from({length:5},(e,t)=>({id:`${5*h+t+1}`,userId:["1","2","3","4","5"][Math.floor(5*Math.random())],type:["project_submission","team_join","badge_earned","comment"][Math.floor(4*Math.random())],content:["Working on an exciting new project! 🚀","Just joined an amazing team for the upcoming hackathon!","Learned something new today in the workshop!","Great collaboration with the community! 💪"][Math.floor(4*Math.random())],timestamp:new Date(Date.now()-36e5*(5*h+t+1)),likes:Math.floor(20*Math.random()),comments:Math.floor(10*Math.random())}));i(t=>[...t,...e]),u(e=>e+1),l(!1),h>=3&&d(!1)},f=e=>{switch(e){case"project_submission":return a.jsx(oe,{className:"w-5 h-5 text-blue-400"});case"team_join":return a.jsx(ce,{className:"w-5 h-5 text-green-400"});case"hackathon_win":return a.jsx(we,{className:"w-5 h-5 text-yellow-400"});case"badge_earned":return a.jsx(le,{className:"w-5 h-5 text-purple-400"});case"comment":return a.jsx(de,{className:"w-5 h-5 text-cyan-400"});case"like":return a.jsx(he,{className:"w-5 h-5 text-red-400"});default:return a.jsx(Ue,{className:"w-5 h-5 text-brand-400"})}},b=e=>{const t=(new Date).getTime()-e.getTime(),s=Math.floor(t/6e4),i=Math.floor(t/36e5),a=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s}m ago`:i<24?`${i}h ago`:`${a}d ago`},v=e?s.filter(t=>t.userId===e):s,y=t?v.slice(0,t):v;return a.jsxs("div",{className:"space-y-4",children:[a.jsx(r,{children:y.map((e,t)=>g[e.userId]?a.jsx(n.div,{className:"glassmorphism rounded-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*t},children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Vf,{userId:e.userId,compact:!0,showActions:!1})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f(e.type),a.jsx("span",{className:"text-sm text-slate-400",children:b(e.timestamp)})]}),a.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:e.content}),e.metadata&&a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.metadata.projectName&&a.jsxs("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-200 rounded-full text-sm border border-blue-500/30",children:["📱 ",e.metadata.projectName]}),e.metadata.teamName&&a.jsxs("span",{className:"px-3 py-1 bg-green-500/20 text-green-200 rounded-full text-sm border border-green-500/30",children:["👥 ",e.metadata.teamName]}),e.metadata.hackathonName&&a.jsxs("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-200 rounded-full text-sm border border-purple-500/30",children:["🏆 ",e.metadata.hackathonName]}),e.metadata.badgeName&&a.jsxs("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-200 rounded-full text-sm border border-yellow-500/30",children:["🏅 ",e.metadata.badgeName]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx(Wf,{likeCount:e.likes,onLike:t=>((e,t)=>{i(s=>s.map(s=>s.id===e?{...s,likes:t?s.likes+1:Math.max(0,s.likes-1)}:s))})(e.id,t),size:"sm"}),a.jsxs(n.button,{className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(de,{className:"w-4 h-4"}),e.comments]})]})]})]})},e.id):null)}),o&&a.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>a.jsxs("div",{className:"activity-skeleton glassmorphism rounded-xl",children:[a.jsx("div",{className:"avatar"}),a.jsxs("div",{className:"content",children:[a.jsx("div",{className:"line short mb-2"}),a.jsx("div",{className:"line long mb-2"}),a.jsx("div",{className:"line short"})]})]},t))}),!t&&c&&a.jsx("div",{ref:m,className:"h-10 flex items-center justify-center",children:a.jsx("div",{className:"flex space-x-2",children:Array.from({length:3}).map((e,t)=>a.jsx("div",{className:"w-2 h-2 bg-brand-400 rounded-full animate-bounce",style:{animationDelay:.2*t+"s"}},t))})}),!c&&!t&&a.jsx(n.div,{className:"text-center py-8",initial:{opacity:0},animate:{opacity:1},children:a.jsx("p",{className:"text-slate-400",children:"You've reached the end of the activity feed"})})]})}const Yf=[{id:"1",userId:"1",content:"This is an amazing project! The UI looks fantastic and the functionality is spot on. Great work team! 🚀",timestamp:new Date(Date.now()-36e5),likes:12,replies:[{id:"1-1",userId:"2",content:"Thank you! We put a lot of effort into the design. Really appreciate the feedback! 😊",timestamp:new Date(Date.now()-3e6),likes:5,parentId:"1"},{id:"1-2",userId:"3",content:"Agreed! The animations are so smooth. How did you implement the micro-interactions?",timestamp:new Date(Date.now()-24e5),likes:3,parentId:"1"}]},{id:"2",userId:"4",content:"Love the color scheme and the overall user experience. This could definitely win the hackathon! 🏆",timestamp:new Date(Date.now()-18e5),likes:8,replies:[{id:"2-1",userId:"1",content:"Thanks for the encouragement! We're really excited about the final presentation.",timestamp:new Date(Date.now()-12e5),likes:2,parentId:"2"}]},{id:"3",userId:"5",content:"Quick question - is the source code available? I'd love to learn from your implementation approach.",timestamp:new Date(Date.now()-9e5),likes:6}];function Xf({postId:e,initialComments:t=Yf}){const[s,i]=p.useState(t),[o,l]=p.useState(""),[c,d]=p.useState(null),[h,u]=p.useState(""),[m,g]=p.useState(new Set(["1","2"])),x=dt(e=>e.session.currentUserId)||"1",f=dt(e=>e.users),b=e=>f[e]||{name:"Unknown User",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40",role:"participant"},v=e=>{const t=(new Date).getTime()-e.getTime(),s=Math.floor(t/6e4),i=Math.floor(t/36e5),a=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s}m ago`:i<24?`${i}h ago`:`${a}d ago`},y=(e,t)=>{i(s=>s.map(s=>s.id===e?{...s,likes:t?s.likes+1:Math.max(0,s.likes-1)}:s.replies?{...s,replies:s.replies.map(s=>s.id===e?{...s,likes:t?s.likes+1:Math.max(0,s.likes-1)}:s)}:s))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"glassmorphism rounded-xl p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("img",{src:b(x).avatar,alt:"Your avatar",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{value:o,onChange:e=>l(e.target.value),placeholder:"Write a comment...",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-slate-400 resize-none focus:outline-none focus:border-brand-400 transition-colors",rows:3}),a.jsx("div",{className:"flex justify-end mt-3",children:a.jsx(n.button,{onClick:()=>{if(!o.trim())return;const e={id:Date.now().toString(),userId:x,content:o,timestamp:new Date,likes:0};i(t=>[e,...t]),l("")},disabled:!o.trim(),className:"px-4 py-2 rounded-lg font-medium transition-colors "+(o.trim()?"bg-brand-500 hover:bg-brand-600 text-white":"bg-white/10 text-slate-400 cursor-not-allowed"),whileHover:o.trim()?{scale:1.02}:{},whileTap:o.trim()?{scale:.98}:{},children:"Comment"})})]})]})}),a.jsx("div",{className:"space-y-4",children:a.jsx(r,{children:s.map(e=>{var t,s,o;const l=b(e.userId),p=m.has(e.id),f=e.replies&&e.replies.length>0;return a.jsx(n.div,{className:"glassmorphism rounded-xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("img",{src:l.avatar,alt:l.name,className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-medium text-white",children:l.name}),a.jsx("span",{className:"text-xs px-2 py-1 bg-brand-500/20 text-brand-200 rounded-full",children:l.role}),a.jsx("span",{className:"text-sm text-slate-400",children:v(e.timestamp)})]}),a.jsx("p",{className:"text-slate-300 mb-3 leading-relaxed",children:e.content}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Wf,{likeCount:e.likes,onLike:t=>y(e.id,t),size:"sm"}),a.jsxs(n.button,{onClick:()=>d(c===e.id?null:e.id),className:"flex items-center gap-1 text-sm text-slate-400 hover:text-white transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(Ze,{className:"w-4 h-4"}),"Reply"]}),f&&a.jsxs(n.button,{onClick:()=>{return t=e.id,void g(e=>{const s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s});var t},className:"flex items-center gap-1 text-sm text-slate-400 hover:text-white transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[p?a.jsx(et,{className:"w-4 h-4"}):a.jsx(Se,{className:"w-4 h-4"}),null==(t=e.replies)?void 0:t.length," ",1===(null==(s=e.replies)?void 0:s.length)?"reply":"replies"]}),a.jsx(n.button,{className:"ml-auto p-1 text-slate-400 hover:text-white transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(tt,{className:"w-4 h-4"})})]}),a.jsx(r,{children:c===e.id&&a.jsx(n.div,{className:"mt-4 pl-4 border-l-2 border-brand-500/30",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("img",{src:b(x).avatar,alt:"Your avatar",className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{value:h,onChange:e=>u(e.target.value),placeholder:`Reply to ${l.name}...`,className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-slate-400 resize-none focus:outline-none focus:border-brand-400 transition-colors text-sm",rows:2,autoFocus:!0}),a.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[a.jsx("button",{onClick:()=>d(null),className:"px-3 py-1 text-sm text-slate-400 hover:text-white transition-colors",children:"Cancel"}),a.jsx(n.button,{onClick:()=>(e=>{if(!h.trim())return;const t={id:`${e}-${Date.now()}`,userId:x,content:h,timestamp:new Date,likes:0,parentId:e};i(s=>s.map(s=>s.id===e?{...s,replies:[...s.replies||[],t]}:s)),u(""),d(null),g(t=>new Set([...t,e]))})(e.id),disabled:!h.trim(),className:"px-3 py-1 text-sm rounded-lg font-medium transition-colors "+(h.trim()?"bg-brand-500 hover:bg-brand-600 text-white":"bg-white/10 text-slate-400 cursor-not-allowed"),whileHover:h.trim()?{scale:1.02}:{},whileTap:h.trim()?{scale:.98}:{},children:"Reply"})]})]})]})})}),a.jsx(r,{children:f&&a.jsx(n.div,{className:"comment-replies mt-4 pl-4 border-l-2 border-white/10 space-y-3 "+(p?"expanded":"collapsed"),initial:{opacity:0,maxHeight:0},animate:{opacity:p?1:0,maxHeight:p?1e3:0},transition:{duration:.3},children:null==(o=e.replies)?void 0:o.map(e=>{const t=b(e.userId);return a.jsxs(n.div,{className:"flex gap-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[a.jsx("img",{src:t.avatar,alt:t.name,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-white text-sm",children:t.name}),a.jsx("span",{className:"text-xs px-2 py-0.5 bg-brand-500/20 text-brand-200 rounded-full",children:t.role}),a.jsx("span",{className:"text-xs text-slate-400",children:v(e.timestamp)})]}),a.jsx("p",{className:"text-slate-300 text-sm mb-2 leading-relaxed",children:e.content}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Wf,{likeCount:e.likes,onLike:t=>y(e.id,t),size:"sm"}),a.jsx("button",{className:"text-xs text-slate-400 hover:text-white transition-colors",children:"Reply"})]})]})]},e.id)})})})]})]})},e.id)})})})]})}function Jf(){const[e,t]=p.useState("feed"),s=dt(e=>e.users),i=dt(e=>e.session.currentUserId),r=[{id:"feed",label:"Activity Feed",icon:st},{id:"chat",label:"Community Chat",icon:de},{id:"members",label:"Members",icon:ce}],o=Object.keys(s).slice(0,6);return a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(n.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-brand-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Community Hub"}),a.jsx("p",{className:"text-xl text-slate-300 max-w-2xl mx-auto",children:"Connect, collaborate, and celebrate with fellow innovators from around the world"})]}),a.jsxs(n.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsxs("div",{className:"glassmorphism rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-brand-400",children:"2.5K+"}),a.jsx("div",{className:"text-sm text-slate-300",children:"Active Members"})]}),a.jsxs("div",{className:"glassmorphism rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"150+"}),a.jsx("div",{className:"text-sm text-slate-300",children:"Teams Formed"})]}),a.jsxs("div",{className:"glassmorphism rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-pink-400",children:"500+"}),a.jsx("div",{className:"text-sm text-slate-300",children:"Projects Shared"})]}),a.jsxs("div",{className:"glassmorphism rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:"1.2K+"}),a.jsx("div",{className:"text-sm text-slate-300",children:"Collaborations"})]})]}),a.jsx(n.div,{className:"flex justify-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsx("div",{className:"glassmorphism rounded-2xl p-2 flex gap-2",children:r.map(s=>{const i=s.icon;return a.jsxs(n.button,{onClick:()=>t(s.id),className:"relative px-6 py-3 rounded-xl font-medium transition-all duration-300 flex items-center gap-2 "+(e===s.id?"text-white":"text-slate-300 hover:text-white"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[e===s.id&&a.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-500 to-purple-600 rounded-xl",layoutId:"activeTabBg",initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),a.jsx(i,{className:"w-5 h-5 relative z-10"}),a.jsx("span",{className:"relative z-10",children:s.label})]},s.id)})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-3",children:a.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:["feed"===e&&a.jsx("div",{className:"space-y-6",children:a.jsx(qf,{})}),"chat"===e&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(Hf,{roomId:"community-general",title:"General Discussion",height:"600px"}),a.jsxs("div",{className:"glassmorphism rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50",alt:"User",className:"w-12 h-12 rounded-full object-cover"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:"Alex Chen"}),a.jsx("p",{className:"text-sm text-slate-400",children:"2 hours ago"})]})]}),a.jsx("p",{className:"text-slate-300 mb-4",children:"Just finished our AI-powered healthcare assistant! The team worked incredibly hard, and I'm so proud of what we've built. The user interface is intuitive, and the ML model is performing better than expected. Can't wait to present it! 🚀"}),a.jsx("div",{className:"border-t border-white/10 pt-4",children:a.jsx(Xf,{postId:"sample-post"})})]})]}),"members"===e&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Object.keys(s).map(e=>a.jsx(Vf,{userId:e,showActions:e!==i},e))})]},e)}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(n.div,{className:"glassmorphism rounded-2xl p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.6},children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx(De,{className:"w-5 h-5 text-brand-400"}),"Top Contributors"]}),a.jsx("div",{className:"space-y-3",children:o.map(e=>a.jsx(Vf,{userId:e,compact:!0,showActions:!1},e))})]}),a.jsxs(n.div,{className:"glassmorphism rounded-2xl p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.8},children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx(st,{className:"w-5 h-5 text-brand-400"}),"Recent Activity"]}),a.jsx(qf,{limit:3})]}),a.jsxs(n.div,{className:"glassmorphism rounded-2xl p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:1},children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Community Guidelines"}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-brand-400 mt-1",children:"•"}),"Be respectful and inclusive to all members"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-brand-400 mt-1",children:"•"}),"Share knowledge and help others learn"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-brand-400 mt-1",children:"•"}),"Keep discussions relevant and constructive"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-brand-400 mt-1",children:"•"}),"Celebrate achievements and support each other"]})]})]})]})]})]})})}function Kf(){const{hackathonId:e}=ee(),t=dt(e=>e.session.currentUserId),s=dt(e=>e.users),i=Object.values(dt(e=>e.submissions)),n=dt(e=>e.hackathons),r=dt(e=>e.teams),o=Object.values(dt(e=>e.evaluations)),l=Object.values(dt(e=>e.judgeChats)),c=Object.values(dt(e=>e.teamFeedbacks)),d=dt(e=>e.sendJudgeMessage),h=dt(e=>e.addTeamFeedback),u=dt(e=>e.addEvaluation),[m,g]=p.useState("submissions"),[x,f]=p.useState(""),[b,v]=p.useState(null),[y,w]=p.useState(""),[j,N]=p.useState(null),[k,S]=p.useState(!0),[C,M]=p.useState("entry"),[I,T]=p.useState(null),[E,_]=p.useState({}),D=p.useMemo(()=>Object.values(s).filter(e=>"judge"===e.role),[s]),P=e?n[e]:void 0,A=p.useMemo(()=>P?i.filter(e=>e.hackathonId===P.id):[],[i,P]),O=p.useMemo(()=>P?l.filter(e=>e.hackathonId===P.id).sort((e,t)=>t.createdAt-e.createdAt):[],[l,P]),L=p.useMemo(()=>{const e={};return o.forEach(t=>{var i;e[t.submissionId]||(e[t.submissionId]={total:0,count:0,judges:[]});const a=t.scores.reduce((e,t)=>e+t.score,0);e[t.submissionId].total+=a,e[t.submissionId].count+=1,e[t.submissionId].judges.push((null==(i=s[t.judgeId])?void 0:i.name)||"Unknown")}),e},[o,s]),R=p.useMemo(()=>{const e={};return o.forEach(t=>{t.scores.forEach(s=>{e[t.submissionId]=e[t.submissionId]||{};const i=e[t.submissionId][s.criterionId]||{sum:0,count:0};i.sum+=s.score,i.count+=1,e[t.submissionId][s.criterionId]=i})}),e},[o]),z=[{id:"submissions",label:"Submissions",icon:le},{id:"scores",label:"Overall Scores",icon:Ge},{id:"judges",label:"Fellow Judges",icon:ce},{id:"chat",label:"Judge Chat",icon:de},{id:"feedback",label:"Team Feedback",icon:Qe}];return a.jsxs("div",{className:"space-y-6",children:[!P&&a.jsxs("div",{className:"card p-6",children:[a.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Hackathon not found"}),a.jsx(K,{to:"/dashboard",className:"btn-primary",children:"Back to Judge Hub"})]}),P&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Judge Dashboard"}),a.jsxs("p",{className:"text-slate-300",children:["Welcome back! Here's your judging overview for ",P.title]})]}),a.jsx(K,{to:"/dashboard",className:"btn-primary bg-white/10 hover:bg-white/20",children:"Back to Judge Hub"})]})}),a.jsx("div",{className:"card p-1",children:a.jsx("div",{className:"flex space-x-1",children:z.map(e=>{const t=e.icon;return a.jsxs("button",{onClick:()=>g(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors "+(m===e.id?"bg-blue-600 text-white":"text-slate-300 hover:bg-white/5"),children:[a.jsx(t,{className:"w-4 h-4"}),a.jsx("span",{children:e.label})]},e.id)})})}),"submissions"===m&&a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Submissions to Review"}),a.jsxs("div",{className:"space-y-3",children:[A.map(e=>{const s=r[e.teamId],i=n[e.hackathonId],l=o.find(s=>s.submissionId===e.id&&s.judgeId===t);return a.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/5 p-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-lg",children:e.title}),a.jsx("div",{className:"text-sm text-slate-300 mb-1",children:null==i?void 0:i.title}),a.jsxs("div",{className:"text-sm text-blue-400",children:["Team: ",null==s?void 0:s.name]}),l&&a.jsx("div",{className:"text-sm text-green-400 mt-1",children:"✓ Evaluated"})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsx(K,{to:`/evaluate/${e.id}`,className:"btn-primary "+(l?"bg-green-600 hover:bg-green-700":""),children:l?"Re-evaluate":"Evaluate"})})]},e.id)}),0===A.length&&a.jsx("p",{className:"text-sm text-slate-300 text-center py-8",children:"No submissions yet."})]})]}),"scores"===m&&a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Scoring"}),a.jsxs("div",{className:"ml-auto flex rounded-lg bg-white/5 p-1",children:[a.jsx("button",{onClick:()=>M("entry"),className:"px-3 py-1 rounded-md text-sm "+("entry"===C?"bg-blue-600 text-white":"text-slate-300"),children:"Entry"}),a.jsx("button",{onClick:()=>M("ranking"),className:"px-3 py-1 rounded-md text-sm "+("ranking"===C?"bg-blue-600 text-white":"text-slate-300"),children:"Ranking"})]})]}),"entry"===C&&P&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"rounded-lg bg-white/5 p-3",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Teams"}),a.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-1",children:[A.map(e=>{const s=r[e.teamId],i=I===e.id,n=L[e.id],l=n?(n.total/n.count).toFixed(1):"-";return a.jsx("button",{onClick:()=>{T(e.id);const s=o.filter(s=>s.submissionId===e.id&&s.judgeId===t).sort((e,t)=>t.createdAt-e.createdAt)[0],i={};null==s||s.scores.forEach(e=>{i[e.criterionId]=e.score}),_(i)},className:"w-full text-left px-3 py-2 rounded-md "+(i?"bg-blue-600/30 border border-blue-600/40":"hover:bg-white/10"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:null==s?void 0:s.name}),a.jsx("div",{className:"text-xs text-slate-400",children:e.title})]}),a.jsx("div",{className:"text-sm text-blue-300",children:l})]})},e.id)}),0===A.length&&a.jsx("p",{className:"text-sm text-slate-400",children:"No submissions yet."})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx("div",{className:"rounded-lg bg-white/5 p-4",children:I?(()=>{const e=i.find(e=>e.id===I),t=r[e.teamId],s=P,n=s.criteria.reduce((e,t)=>e+Number(E[t.id]||0),0);return a.jsxs("form",{className:"space-y-4",onSubmit:i=>{i.preventDefault();const a=s.criteria.map(e=>({criterionId:e.id,score:Number(E[e.id]||0)}));u(e.id,a,void 0),alert("Scores saved for "+((null==t?void 0:t.name)||"Team"))},children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:null==t?void 0:t.name}),a.jsx("div",{className:"text-xs text-slate-400",children:e.title})]}),s.criteria.map(e=>a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 items-center gap-3",children:[a.jsxs("label",{className:"text-sm text-slate-300 sm:col-span-2",children:[e.label," (max ",e.max,")"]}),a.jsx("input",{className:"input",type:"number",min:0,max:e.max,value:E[e.id]??"",onChange:t=>_(s=>({...s,[e.id]:Number(t.target.value)}))})]},e.id)),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-300",children:["Overall (sum): ",a.jsx("span",{className:"font-semibold text-blue-300",children:n})]}),a.jsx("button",{className:"btn-primary",type:"submit",children:"Save Scores"})]})]})})():a.jsx("p",{className:"text-slate-300",children:"Select a team on the left to enter scores."})})})]}),"ranking"===C&&P&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg bg-white/5 p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Overall Ranking (Average)"}),a.jsx("div",{className:"space-y-2",children:A.map(e=>{const t=r[e.teamId],s=L[e.id],i=s?s.total/s.count:0;return{id:e.id,teamName:(null==t?void 0:t.name)||"Unknown",avg:i}}).sort((e,t)=>t.avg-e.avg).map((e,t)=>a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-md bg-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"badge",children:["#",t+1]}),a.jsx("span",{className:"font-medium",children:e.teamName})]}),a.jsx("div",{className:"text-blue-300 font-semibold",children:e.avg?e.avg.toFixed(1):"-"})]},e.id))})]}),P.criteria.map(e=>a.jsxs("div",{className:"rounded-lg bg-white/5 p-4",children:[a.jsxs("h3",{className:"font-semibold mb-2",children:["Ranking by ",e.label]}),a.jsx("div",{className:"space-y-2",children:A.map(t=>{var s;const i=r[t.teamId],a=null==(s=R[t.id])?void 0:s[e.id],n=a?a.sum/a.count:0;return{id:t.id,teamName:(null==i?void 0:i.name)||"Unknown",avg:n}}).sort((e,t)=>t.avg-e.avg).map((e,t)=>a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-md bg-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"badge",children:["#",t+1]}),a.jsx("span",{className:"font-medium",children:e.teamName})]}),a.jsx("div",{className:"text-blue-300 font-semibold",children:e.avg?e.avg.toFixed(1):"-"})]},e.id))})]},e.id))]})]}),"judges"===m&&a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Fellow Judges"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.filter(e=>e.id!==t).map(e=>a.jsxs("div",{className:"rounded-lg bg-white/5 p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:e.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-sm text-slate-300",children:e.email})]})]}),e.bio&&a.jsx("p",{className:"text-sm text-slate-400 mb-3",children:e.bio}),e.expertise&&e.expertise.length>0&&a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:e.expertise.map(e=>a.jsx("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-400 text-xs rounded",children:e},e))})}),a.jsxs("div",{className:"flex space-x-2",children:[e.linkedinUrl&&a.jsxs("a",{href:e.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-blue-400 hover:text-blue-300 text-sm",children:[a.jsx(Oe,{className:"w-4 h-4"}),a.jsx("span",{children:"LinkedIn"})]}),a.jsxs("button",{onClick:()=>{v(e.id),g("chat")},className:"flex items-center space-x-1 text-green-400 hover:text-green-300 text-sm",children:[a.jsx(de,{className:"w-4 h-4"}),a.jsx("span",{children:"Message"})]})]})]},e.id))})]}),"chat"===m&&a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Judge Communication"}),a.jsxs("form",{onSubmit:e=>{e.preventDefault(),x.trim()&&P&&(d(P.id,x,b||void 0),f(""))},className:"mb-6",children:[a.jsx("div",{className:"flex space-x-2 mb-2",children:a.jsxs("select",{value:b||"",onChange:e=>v(e.target.value||null),className:"input flex-shrink-0",children:[a.jsx("option",{value:"",children:"All Judges (Group)"}),D.filter(e=>e.id!==t).map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:x,onChange:e=>f(e.target.value),placeholder:"Type your message...",className:"input flex-1"}),a.jsx("button",{type:"submit",className:"btn-primary",children:a.jsx(Qe,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[O.map(e=>{const t=s[e.senderId],i=e.receiverId?s[e.receiverId]:null;return a.jsxs("div",{className:"rounded-lg bg-white/5 p-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"font-medium text-sm",children:[(null==t?void 0:t.name)||"Unknown",i&&a.jsxs("span",{className:"text-slate-400",children:[" → ",i.name]}),!i&&a.jsx("span",{className:"text-blue-400",children:" (Group)"})]}),a.jsx("div",{className:"text-xs text-slate-400",children:new Date(e.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-slate-200",children:e.message})]},e.id)}),0===O.length&&a.jsx("p",{className:"text-center text-slate-400 py-8",children:"No messages yet. Start the conversation!"})]})]}),"feedback"===m&&a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Feedback"}),a.jsx("form",{onSubmit:e=>{e.preventDefault(),y.trim()&&j&&P&&(h(P.id,j,y,k),w(""),N(null))},className:"mb-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("select",{value:j||"",onChange:e=>N(e.target.value||null),className:"input",required:!0,children:[a.jsx("option",{value:"",children:"Select a team..."}),Object.values(r).map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]}),a.jsx("textarea",{value:y,onChange:e=>w(e.target.value),placeholder:"Write your feedback for the team...",className:"input min-h-[100px]",required:!0}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{type:"button",onClick:()=>S(!k),className:"flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors "+(k?"bg-green-600/20 text-green-400":"bg-red-600/20 text-red-400"),children:[k?a.jsx(Ae,{className:"w-4 h-4"}):a.jsx(it,{className:"w-4 h-4"}),a.jsx("span",{children:k?"Public Feedback":"Private Feedback"})]})}),a.jsx("button",{type:"submit",className:"btn-primary",children:"Send Feedback"})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium",children:"Previous Feedback"}),c.filter(e=>e.judgeId===t).sort((e,t)=>t.createdAt-e.createdAt).map(e=>{const t=r[e.teamId];return a.jsxs("div",{className:"rounded-lg bg-white/5 p-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"font-medium text-sm",children:["Team: ",(null==t?void 0:t.name)||"Unknown",a.jsx("span",{className:"ml-2 px-2 py-1 text-xs rounded "+(e.isPublic?"bg-green-600/20 text-green-400":"bg-red-600/20 text-red-400"),children:e.isPublic?"Public":"Private"})]}),a.jsx("div",{className:"text-xs text-slate-400",children:new Date(e.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-slate-200",children:e.feedback})]},e.id)})]})]})]})]})}const Qf=({position:e,count:t=200,spread:s=5,active:i=!0})=>{const n=p.useRef(null),r=p.useRef([]),{geometry:o,material:l}=p.useMemo(()=>{const i=new v(.1,.1,.02),a=new y;return r.current=Array.from({length:t},()=>{const t=[new w("#ff6b6b"),new w("#4ecdc4"),new w("#45b7d1"),new w("#f9ca24"),new w("#6c5ce7"),new w("#a55eea"),new w("#26de81"),new w("#fd79a8"),new w("#fdcb6e"),new w("#e17055")];return{position:new N(e[0]+(Math.random()-.5)*s,e[1]+2*Math.random(),e[2]+(Math.random()-.5)*s),velocity:new N(.1*(Math.random()-.5),.15*Math.random()+.05,.1*(Math.random()-.5)),rotation:new j(Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2),rotationSpeed:new j(.1*(Math.random()-.5),.1*(Math.random()-.5),.1*(Math.random()-.5)),color:t[Math.floor(Math.random()*t.length)],scale:.5*Math.random()+.5}}),{geometry:i,material:a}},[t,s,e]);return k((t,a)=>{if(!n.current||!i)return;const o=new S;new w,r.current.forEach((t,i)=>{t.velocity.y-=.005,t.position.add(t.velocity.clone().multiplyScalar(60*a)),t.rotation.x+=t.rotationSpeed.x,t.rotation.y+=t.rotationSpeed.y,t.rotation.z+=t.rotationSpeed.z,t.position.y<e[1]-10&&(t.position.set(e[0]+(Math.random()-.5)*s,e[1]+2*Math.random(),e[2]+(Math.random()-.5)*s),t.velocity.set(.1*(Math.random()-.5),.15*Math.random()+.05,.1*(Math.random()-.5))),o.makeRotationFromEuler(t.rotation),o.setPosition(t.position),o.scale(new N(t.scale,t.scale,t.scale)),n.current.setMatrixAt(i,o),n.current.setColorAt(i,t.color)}),n.current.instanceMatrix.needsUpdate=!0,n.current.instanceColor&&(n.current.instanceColor.needsUpdate=!0)}),i?a.jsx("instancedMesh",{ref:n,args:[o,l,t],frustumCulled:!1}):null},Zf=({enabled:e,onToggle:t})=>{const s=p.useRef(null),{camera:i,gl:n}=C(),r=p.useRef(new N),o=p.useRef(new N),l=p.useRef(!1),c=p.useRef(!1),d=p.useRef(!1),h=p.useRef(!1);return p.useEffect(()=>{const s=s=>{if(e)switch(s.code){case"ArrowUp":case"KeyW":l.current=!0;break;case"ArrowLeft":case"KeyA":d.current=!0;break;case"ArrowDown":case"KeyS":c.current=!0;break;case"ArrowRight":case"KeyD":h.current=!0;break;case"Escape":t(!1)}},i=t=>{if(e)switch(t.code){case"ArrowUp":case"KeyW":l.current=!1;break;case"ArrowLeft":case"KeyA":d.current=!1;break;case"ArrowDown":case"KeyS":c.current=!1;break;case"ArrowRight":case"KeyD":h.current=!1}};return document.addEventListener("keydown",s),document.addEventListener("keyup",i),()=>{document.removeEventListener("keydown",s),document.removeEventListener("keyup",i)}},[e,t]),k((t,a)=>{e&&s.current&&(r.current.x-=10*r.current.x*a,r.current.z-=10*r.current.z*a,o.current.z=Number(l.current)-Number(c.current),o.current.x=Number(h.current)-Number(d.current),o.current.normalize(),(l.current||c.current)&&(r.current.z-=400*o.current.z*a),(d.current||h.current)&&(r.current.x-=400*o.current.x*a),s.current.moveRight(-r.current.x*a),s.current.moveForward(-r.current.z*a),i.position.y=Math.max(2,i.position.y))}),e?a.jsx(M,{ref:s,args:[i,n.domElement],makeDefault:!0}):null},eb=({team:e,stages:t,showTrail:s=!0})=>{const i=p.useRef(null),n=p.useMemo(()=>{const s=[];for(let i=0;i<=e.stageIndex;i++)t[i]&&s.push(new N(...t[i].position));return s},[e.stageIndex,t]),r=p.useMemo(()=>{const e=[];for(let t=0;t<n.length-1;t++){const s=n[t],i=n[t+1];for(let t=0;t<10;t++){const a=t/10,n=(new N).lerpVectors(s,i,a);n.y+=.5,e.push(n)}}return e},[n]);return k(e=>{if(i.current){const t=.3+.2*Math.sin(2*e.clock.elapsedTime);i.current.children.forEach(e=>{e.material&&(e.material.opacity=t)})}}),!s||n.length<2?null:a.jsxs("group",{ref:i,children:[a.jsx(I,{points:n,color:e.color,lineWidth:3,transparent:!0,opacity:.6}),r.map((t,s)=>a.jsxs("mesh",{position:t,children:[a.jsx("sphereGeometry",{args:[.05]}),a.jsx("meshStandardMaterial",{color:e.color,transparent:!0,opacity:.8,emissive:e.color,emissiveIntensity:.3})]},s)),n.map((t,s)=>a.jsxs("mesh",{position:[t.x,t.y+.2,t.z],children:[a.jsx("cylinderGeometry",{args:[.1,.1,.4]}),a.jsx("meshStandardMaterial",{color:e.color,emissive:e.color,emissiveIntensity:.2})]},`marker-${s}`))]})},tb=({teams:e,stages:t,isVisible:s,onToggle:i})=>{const o=[...e].sort((e,t)=>e.stageIndex!==t.stageIndex?t.stageIndex-e.stageIndex:e.rank&&t.rank?e.rank-t.rank:e.rank&&!t.rank?-1:!e.rank&&t.rank?1:0),l=e=>(e.stageIndex+1)/t.length*100,c=e=>{switch(e){case 1:return a.jsx(we,{className:"w-4 h-4 text-yellow-500"});case 2:return a.jsx(Ge,{className:"w-4 h-4 text-gray-400"});case 3:return a.jsx(Ue,{className:"w-4 h-4 text-orange-500"});default:return a.jsx(Pe,{className:"w-4 h-4 text-blue-500"})}};return a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:i,className:"fixed top-20 right-4 bg-black bg-opacity-50 text-white p-3 rounded-lg hover:bg-opacity-70 transition-all z-40",children:"📊 Leaderboard"}),a.jsx(r,{children:s&&a.jsxs(n.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"fixed top-4 right-4 w-80 max-h-96 bg-black bg-opacity-80 backdrop-blur-md text-white rounded-lg overflow-hidden z-50",children:[a.jsx("div",{className:"p-4 border-b border-white/20",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-bold flex items-center gap-2",children:"🏆 Live Rankings"}),a.jsx("button",{onClick:i,className:"text-white/60 hover:text-white",children:"✕"})]})}),a.jsx("div",{className:"overflow-y-auto max-h-80",children:o.map((e,s)=>{var i,r;return a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"p-3 border-b border-white/10 hover:bg-white/5 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-white/60",children:["#",s+1]}),c(e.rank),a.jsx("span",{className:"font-semibold truncate",style:{color:e.color},children:e.name})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx("span",{children:(r=e.stageIndex,["🚪","💡","🏗️","🎭","🏆"][r]||"📍")}),a.jsx("span",{className:"text-white/80",children:(null==(i=t[e.stageIndex])?void 0:i.name.split(" ")[0])||"Start"})]})]}),a.jsx("div",{className:"w-full bg-white/20 rounded-full h-2 mb-2",children:a.jsx(n.div,{className:"h-2 rounded-full",style:{backgroundColor:e.color},initial:{width:0},animate:{width:`${l(e)}%`},transition:{duration:1,delay:.1*s}})}),a.jsxs("div",{className:"flex justify-between text-xs text-white/60",children:[a.jsxs("span",{children:[e.members.length," members"]}),a.jsxs("span",{children:[Math.round(l(e)),"% complete"]})]}),a.jsxs("div",{className:"flex gap-1 mt-2",children:[e.stageIndex>=1&&a.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"💡 Ideated"}),e.stageIndex>=2&&a.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"🔨 Building"}),e.stageIndex>=3&&a.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded",children:"🎤 Pitched"}),e.rank&&a.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"🏆 Winner"})]})]},e.id)})}),a.jsx("div",{className:"p-3 bg-white/5 text-xs text-white/60",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e.length," teams competing"]}),a.jsxs("span",{children:[e.filter(e=>e.stageIndex>=t.length-1).length," finished"]})]})})]})})]})},sb=({selectedTeam:e,stages:t,onClose:s,onEvaluate:i})=>{const[o,l]=p.useState({innovation:0,technical:0,presentation:0,impact:0,feedback:"",approved:!1}),[c,d]=p.useState(!1);if(!e)return null;const h=(e,t)=>{"number"==typeof o[e]&&l(s=>({...s,[e]:t}))},u=({value:e,onChange:t,label:s})=>a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:s}),a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(s=>a.jsx("button",{onClick:()=>t(s),className:"p-1 transition-colors "+(s<=e?"text-yellow-400":"text-gray-500"),children:a.jsx(Ge,{className:"w-5 h-5 fill-current"})},s))})]}),m=t[e.stageIndex];return a.jsx(r,{children:a.jsx(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(n.div,{className:"bg-gray-900 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b border-gray-700",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Judge Evaluation"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),e.name]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ce,{className:"w-4 h-4"}),e.members.length," members"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ce,{className:"w-4 h-4"}),null==m?void 0:m.name]})]})]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:"✕"})]})}),a.jsxs("div",{className:"p-6 border-b border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Team Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"Members"}),a.jsx("ul",{className:"text-sm text-gray-400",children:e.members.map((e,t)=>a.jsx("li",{children:e},t))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"Progress"}),a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsxs("p",{children:["Current Stage: ",null==m?void 0:m.name]}),a.jsxs("p",{children:["Progress: ",Math.round((e.stageIndex+1)/t.length*100),"%"]}),e.rank&&a.jsxs("p",{children:["Current Rank: #",e.rank]})]})]})]}),e.submissionLink&&a.jsx("div",{className:"mt-4",children:a.jsxs("a",{href:e.submissionLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(Te,{className:"w-4 h-4"}),"View Submission"]})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Evaluation Criteria"}),a.jsx(u,{value:o.innovation,onChange:e=>h("innovation",e),label:"Innovation & Creativity"}),a.jsx(u,{value:o.technical,onChange:e=>h("technical",e),label:"Technical Implementation"}),a.jsx(u,{value:o.presentation,onChange:e=>h("presentation",e),label:"Presentation Quality"}),a.jsx(u,{value:o.impact,onChange:e=>h("impact",e),label:"Potential Impact"}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:[a.jsx(at,{className:"w-4 h-4 inline mr-1"}),"Feedback & Comments"]}),a.jsx("textarea",{value:o.feedback,onChange:e=>l(t=>({...t,feedback:e.target.value})),className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none",rows:4,placeholder:"Provide constructive feedback for the team..."})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:o.approved,onChange:e=>l(t=>({...t,approved:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-200",children:"Approve team to advance to next stage"})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:async()=>{d(!0),await new Promise(e=>setTimeout(e,1e3)),i(e.id,o),d(!1),s()},disabled:c,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:c?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Te,{className:"w-4 h-4"}),"Submit Evaluation"]})}),a.jsx("button",{onClick:s,className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]})})})},ib=({stageInfo:e,position:t,isVisible:s,isJudgeMode:i,onLearnMore:o})=>{if(!s)return null;const l=[t[0]+4,t[1]+3,t[2]];return a.jsx(T,{position:l,center:!0,distanceFactor:8,occlude:"blending",transform:!0,sprite:!0,children:a.jsx(r,{children:s&&a.jsxs(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,ease:"easeOut"},className:"bg-black/80 backdrop-blur-sm text-white p-3 rounded-lg border shadow-lg min-w-[220px] max-w-[280px]",style:{borderColor:`${e.color}80`,boxShadow:`0 0 15px ${e.color}30, 0 4px 20px rgba(0,0,0,0.3)`},children:[a.jsx("div",{className:"absolute inset-0 rounded-lg opacity-20 blur-sm",style:{backgroundColor:e.color}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:e.icon}),a.jsx("h3",{className:"text-sm font-bold text-white leading-tight",children:e.name})]}),a.jsx("p",{className:"text-xs text-gray-200 mb-3 leading-relaxed",children:e.shortDescription}),i&&e.judgeCriteria&&a.jsx("div",{className:"mb-3 p-2 bg-yellow-900/20 rounded border border-yellow-700/30",children:a.jsxs("p",{className:"text-xs text-yellow-200",children:[a.jsx("span",{className:"font-semibold",children:"Criteria:"})," ",e.judgeCriteria]})}),o&&a.jsx("button",{onClick:o,className:"w-full text-xs px-2 py-1 rounded transition-colors",style:{backgroundColor:`${e.color}20`,borderColor:`${e.color}60`,color:e.color},children:"Learn More →"})]})]})})})},ab=({stageInfo:e,position:t,children:s,isJudgeMode:i,onLearnMore:n})=>{const[r,o]=p.useState(!1),[l,c]=p.useState(!1),u=p.useRef(null),m=p.useRef(null);k(e=>{if(m.current&&r){const t=.1*Math.sin(3*e.clock.elapsedTime)+.9;m.current.scale.setScalar(t)}});return a.jsxs("group",{position:t,children:[a.jsxs("group",{ref:u,onPointerEnter:()=>{o(!0),c(!0),document.body.style.cursor="pointer"},onPointerLeave:()=>{o(!1),c(!1),document.body.style.cursor="auto"},onClick:e=>{e.stopPropagation(),c(!l),o(!r)},children:[r&&a.jsxs("mesh",{ref:m,position:[0,0,0],children:[a.jsx("sphereGeometry",{args:[5,32,32]}),a.jsx("meshBasicMaterial",{color:e.color,transparent:!0,opacity:.08,side:E})]}),a.jsx(d.group,{"position-y":h({y:r?.2:0}).y,children:s})]}),a.jsx(ib,{stageInfo:e,position:t,isVisible:l,isJudgeMode:i,onLearnMore:n})]})},nb=({stageInfo:e,isOpen:t,onClose:s,isJudgeMode:i})=>e?a.jsx(r,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:s}),a.jsxs(n.div,{initial:{opacity:0,scale:.9,x:"100%"},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.9,x:"100%"},transition:{duration:.3,ease:"easeOut"},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white dark:bg-gray-900 shadow-2xl z-50 overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",style:{backgroundColor:`${e.color}10`},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold text-white shadow-lg",style:{backgroundColor:e.color},children:e.icon}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Stage ",e.id+1," of 5"]})]})]}),a.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Overview"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e.fullDescription})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),"Key Activities"]}),a.jsx("ul",{className:"space-y-2",children:e.tasks.map((t,s)=>a.jsxs("li",{className:"flex items-start gap-3 text-gray-700 dark:text-gray-300",children:[a.jsx("span",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:e.color}}),a.jsx("span",{children:t})]},s))})]}),i&&e.judgeNotes&&a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[a.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-200 mb-2 flex items-center gap-2",children:[a.jsx("span",{children:"⚖️"}),"Judge Evaluation"]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-yellow-700 dark:text-yellow-300 mb-1",children:["Criteria: ",e.judgeCriteria]}),a.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:e.judgeNotes})]})})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[a.jsx("span",{children:"💡"}),"Pro Tips"]}),a.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[0===e.id&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• Complete your profile thoroughly for better team matching"}),a.jsx("li",{children:"• Join the community Discord for real-time updates"})]}),1===e.id&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• Research existing solutions to avoid duplication"}),a.jsx("li",{children:"• Look for diverse skill sets when forming teams"})]}),2===e.id&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• Set up version control early in the process"}),a.jsx("li",{children:"• Focus on core functionality first, then add features"})]}),3===e.id&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• Practice your pitch beforehand with teammates"}),a.jsx("li",{children:"• Prepare for technical questions about your solution"})]}),4===e.id&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• Network with other participants and mentors"}),a.jsx("li",{children:"• Document your learnings for future hackathons"})]})]})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:s,className:"w-full py-2 px-4 rounded-lg font-medium transition-colors",style:{backgroundColor:e.color,color:"white"},children:"Got it!"})})]})]})}):null,rb=[{id:"registration",name:"Registration Gate",description:"Teams register and begin their hackathon journey",position:[-20,0,0],type:"gate"},{id:"idea",name:"Idea Valley",description:"Teams brainstorm and refine their innovative ideas",position:[-10,-2,0],type:"valley"},{id:"prototype",name:"Prototype Tower",description:"Teams build and develop their prototypes",position:[0,0,0],type:"tower"},{id:"pitch",name:"Pitch Arena",description:"Teams present their solutions to judges",position:[10,-1,0],type:"arena"},{id:"results",name:"Winner's Podium",description:"Champions are crowned and celebrated",position:[20,0,0],type:"podium"}],ob=[{id:"1",name:"Code Crusaders",members:["Alice Johnson","Bob Smith","Charlie Brown"],stageIndex:3,color:"#ff6b6b",rank:1,score:950,submissionLink:"https://github.com/codecrusaders/hackathon-project"},{id:"2",name:"Tech Titans",members:["David Wilson","Eve Davis","Frank Miller"],stageIndex:2,color:"#4ecdc4",rank:2,score:875,submissionLink:"https://github.com/techtitans/innovation-app"},{id:"3",name:"Innovation Squad",members:["Grace Lee","Henry Taylor","Ivy Chen"],stageIndex:4,color:"#45b7d1",rank:3,score:820,submissionLink:"https://github.com/innovationsquad/future-tech"},{id:"4",name:"Digital Dynamos",members:["Jack Anderson","Kate Thompson","Liam Garcia"],stageIndex:1,color:"#f9ca24",score:720},{id:"5",name:"Byte Builders",members:["Mia Rodriguez","Noah Martinez","Olivia White"],stageIndex:2,color:"#6c5ce7",score:680},{id:"6",name:"Pixel Pirates",members:["Peter Parker","Quinn Adams","Ruby Rose"],stageIndex:0,color:"#fd79a8",score:450},{id:"7",name:"Logic Legends",members:["Sam Wilson","Tara Singh","Uma Patel"],stageIndex:3,color:"#00b894",score:780},{id:"8",name:"Data Dragons",members:["Victor Hugo","Wendy Clark","Xavier King"],stageIndex:1,color:"#fdcb6e",score:590}],lb=()=>{const[e,t]=p.useState(rb),[s,i]=p.useState(ob),[a,n]=p.useState(!1);p.useEffect(()=>{n(!0);const e=setTimeout(()=>{n(!1)},1e3);return()=>clearTimeout(e)},[]);const r=e=>s.filter(t=>t.stageIndex===e);return{stages:e,teams:s,isLoading:a,updateTeamStage:(t,s)=>{i(i=>i.map(i=>i.id===t?{...i,stageIndex:Math.max(0,Math.min(s,e.length-1))}:i))},updateTeamRank:(e,t)=>{i(s=>s.map(s=>s.id===e?{...s,rank:t}:s))},addTeam:e=>{const t=(s.length+1).toString();i(s=>[...s,{...e,id:t}])},removeTeam:e=>{i(t=>t.filter(t=>t.id!==e))},getTeamsByStage:r,getTopTeams:()=>s.filter(e=>e.rank).sort((e,t)=>(e.rank||0)-(t.rank||0)),getTeamPosition:t=>{const s=e[t.stageIndex];if(!s)return[0,0,0];const i=r(t.stageIndex),a=i.findIndex(e=>e.id===t.id),n=i.length,o=a/n*Math.PI*2,l=Math.max(1,.3*n),c=Math.cos(o)*l,d=Math.sin(o)*l;return[s.position[0]+c,s.position[1]+1,s.position[2]+d]}}},cb=[{id:0,name:"Registration Gate",shortDescription:"Sign up and unlock your hackathon journey.",fullDescription:"Welcome to the hackathon! This is where your journey begins. Complete your registration and get ready for an epic coding adventure.",tasks:["Sign up with your details","Verify your email and profile","Join the hackathon community","Review rules and guidelines","Set up your development environment"],judgeNotes:"Verify participant eligibility, check team formation rules, and ensure all registration requirements are met.",judgeCriteria:"Eligibility & Compliance",icon:"🚪",color:"#8b5cf6"},{id:1,name:"Idea Valley",shortDescription:"Brainstorm, explore, and form your team.",fullDescription:"The creative hub where innovation sparks! Brainstorm groundbreaking ideas, form your dream team, and define your hackathon project.",tasks:["Brainstorm innovative solutions","Form or join a team (2-4 members)","Submit your problem statement","Research existing solutions","Create initial project roadmap"],judgeNotes:"Evaluate idea originality, feasibility, and potential impact. Check team composition and collaboration readiness.",judgeCriteria:"Innovation & Feasibility",icon:"💡",color:"#10b981"},{id:2,name:"Prototype Tower",shortDescription:"Turn ideas into working prototypes.",fullDescription:"Build, code, and create! Transform your ideas into working prototypes. This is where the magic happens through collaboration and technical execution.",tasks:["Set up project repository","Develop core functionality","Create user interface/experience","Implement key features","Test and debug your solution"],judgeNotes:"Assess technical implementation, code quality, functionality, and innovation. Evaluate team collaboration and progress.",judgeCriteria:"Functionality & Design",icon:"⚙️",color:"#6366f1"},{id:3,name:"Pitch Arena",shortDescription:"Present solutions to mentors & judges.",fullDescription:"Showtime! Present your solution to judges and mentors. Demonstrate your prototype, explain your approach, and showcase your team's achievements.",tasks:["Prepare presentation slides","Create compelling demo","Practice pitch delivery","Present to judges panel","Answer questions and feedback"],judgeNotes:"Evaluate presentation quality, solution demonstration, team communication, and ability to articulate technical decisions.",judgeCriteria:"Presentation & Communication",icon:"🎤",color:"#dc2626"},{id:4,name:"Winner's Podium",shortDescription:"Celebrate the champions!",fullDescription:"Celebration time! Top teams are recognized for their outstanding achievements. Whether you win or not, you've gained invaluable experience!",tasks:["Await final results","Celebrate achievements","Network with other teams","Receive feedback from judges","Plan future collaborations"],judgeNotes:"Final ranking based on innovation, technical execution, presentation quality, and overall impact potential.",judgeCriteria:"Overall Impact & Excellence",icon:"🏆",color:"#fbbf24"}],db=({position:e})=>a.jsxs("group",{position:e,children:[a.jsx(H,{args:[.3,.3,4],position:[-2,2,0],children:a.jsx("meshStandardMaterial",{color:"#8b5cf6"})}),a.jsx(H,{args:[.3,.3,4],position:[2,2,0],children:a.jsx("meshStandardMaterial",{color:"#8b5cf6"})}),a.jsx(F,{args:[4.6,.5,.5],position:[0,4,0],children:a.jsx("meshStandardMaterial",{color:"#a855f7"})}),a.jsx("pointLight",{position:[0,3,0],color:"#8b5cf6",intensity:.5})]}),hb=({position:e})=>a.jsxs("group",{position:e,children:[a.jsx(H,{args:[3,3,.5],position:[0,-.25,0],children:a.jsx("meshStandardMaterial",{color:"#10b981"})}),a.jsx(z,{speed:1,rotationIntensity:.5,floatIntensity:.5,children:a.jsx(B,{args:[.3],position:[-1,2,0],children:a.jsx("meshStandardMaterial",{color:"#fbbf24",emissive:"#fbbf24",emissiveIntensity:.3})})}),a.jsx(z,{speed:1.2,rotationIntensity:.3,floatIntensity:.7,children:a.jsx(B,{args:[.25],position:[1,2.5,.5],children:a.jsx("meshStandardMaterial",{color:"#fbbf24",emissive:"#fbbf24",emissiveIntensity:.3})})}),a.jsx(z,{speed:.8,rotationIntensity:.7,floatIntensity:.3,children:a.jsx(B,{args:[.2],position:[0,3,-.5],children:a.jsx("meshStandardMaterial",{color:"#fbbf24",emissive:"#fbbf24",emissiveIntensity:.3})})}),a.jsx("pointLight",{position:[0,2,0],color:"#10b981",intensity:.4})]}),ub=({position:e})=>a.jsxs("group",{position:e,children:[a.jsx(H,{args:[1.5,2,1],position:[0,.5,0],children:a.jsx("meshStandardMaterial",{color:"#6366f1"})}),a.jsx(H,{args:[1.2,1.5,2],position:[0,2,0],children:a.jsx("meshStandardMaterial",{color:"#7c3aed"})}),a.jsx(W,{args:[1.2,1.5],position:[0,3.75,0],children:a.jsx("meshStandardMaterial",{color:"#8b5cf6"})}),a.jsx(z,{speed:2,rotationIntensity:1,floatIntensity:0,children:a.jsx(H,{args:[.5,.5,.2],position:[-1.5,2,0],rotation:[0,0,Math.PI/2],children:a.jsx("meshStandardMaterial",{color:"#f59e0b"})})}),a.jsx(z,{speed:1.5,rotationIntensity:-1,floatIntensity:0,children:a.jsx(H,{args:[.3,.3,.15],position:[1.2,1.5,0],rotation:[0,0,Math.PI/2],children:a.jsx("meshStandardMaterial",{color:"#f59e0b"})})}),a.jsx("pointLight",{position:[0,4,0],color:"#6366f1",intensity:.6})]}),pb=({position:e})=>a.jsxs("group",{position:e,children:[a.jsx(H,{args:[3,3,.5],position:[0,.25,0],children:a.jsx("meshStandardMaterial",{color:"#dc2626"})}),a.jsx(H,{args:[.2,.2,3],position:[-2,1.5,2],children:a.jsx("meshStandardMaterial",{color:"#374151"})}),a.jsx(H,{args:[.2,.2,3],position:[2,1.5,2],children:a.jsx("meshStandardMaterial",{color:"#374151"})}),a.jsx(H,{args:[.2,.2,3],position:[0,1.5,-2],children:a.jsx("meshStandardMaterial",{color:"#374151"})}),a.jsx("spotLight",{position:[-2,3,2],angle:.3,penumbra:.5,intensity:1,color:"#ffffff","target-position":[0,.5,0]}),a.jsx("spotLight",{position:[2,3,2],angle:.3,penumbra:.5,intensity:1,color:"#ffffff","target-position":[0,.5,0]}),a.jsx("spotLight",{position:[0,3,-2],angle:.3,penumbra:.5,intensity:1,color:"#ffffff","target-position":[0,.5,0]})]}),mb=({position:e,teams:t,showConfetti:s=!0})=>{const i=t.filter(e=>e.rank).sort((e,t)=>(e.rank||0)-(t.rank||0));return a.jsxs("group",{position:e,children:[a.jsx(F,{args:[2,2,2],position:[0,1,0],children:a.jsx("meshStandardMaterial",{color:"#fbbf24"})}),a.jsx(F,{args:[1.5,1.5,1.5],position:[-3,.75,0],children:a.jsx("meshStandardMaterial",{color:"#9ca3af"})}),a.jsx(F,{args:[1.5,1,1.5],position:[3,.5,0],children:a.jsx("meshStandardMaterial",{color:"#cd7f32"})}),i.map((e,t)=>{const s=[[0,3,0],[-3,2.25,0],[3,1.5,0]][t];return a.jsx(z,{speed:.5,rotationIntensity:.2,floatIntensity:.3,children:a.jsx(B,{args:[.4],position:s,children:a.jsx("meshStandardMaterial",{color:e.color,emissive:e.color,emissiveIntensity:.2})})},e.id)}),s&&a.jsx(Qf,{position:[e[0],e[1]+4,e[2]],count:150,spread:8,active:!0}),a.jsx("pointLight",{position:[0,5,0],color:"#fbbf24",intensity:1}),a.jsx("pointLight",{position:[-3,4,0],color:"#9ca3af",intensity:.8}),a.jsx("pointLight",{position:[3,3,0],color:"#cd7f32",intensity:.6})]})},gb=({team:e,targetPosition:t,onHover:s,onClick:i})=>{const n=p.useRef(null),{position:r}=h({position:t,config:{mass:1,tension:280,friction:60}});return k(e=>{n.current&&(n.current.rotation.y=.1*Math.sin(e.clock.elapsedTime))}),a.jsx(d.group,{position:r,children:a.jsxs(z,{speed:1,rotationIntensity:.1,floatIntensity:.2,children:[a.jsx(B,{ref:n,args:[.5],onPointerEnter:()=>s(e),onPointerLeave:()=>s(null),onClick:()=>i(e),children:a.jsx("meshStandardMaterial",{color:e.color,emissive:e.color,emissiveIntensity:.1})}),a.jsx(A,{position:[0,1,0],fontSize:.3,color:"white",anchorX:"center",anchorY:"middle",children:e.name})]})})},xb=({stages:e})=>{const t=e.map(e=>new N(...e.position)),s=new L(t),i=new R(s,100,.1,8,!1);return a.jsx("mesh",{geometry:i,children:a.jsx("meshStandardMaterial",{color:"#4ade80",emissive:"#4ade80",emissiveIntensity:.1})})},fb=({team:e,stages:t,onClose:s})=>{var i;return a.jsxs(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed top-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm z-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.name}),a.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Members:"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.members.join(", ")})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Current Stage:"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:null==(i=t[e.stageIndex])?void 0:i.name})]}),e.rank&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Rank:"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["#",e.rank]})]}),e.submissionLink&&a.jsx("a",{href:e.submissionLink,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"View Submission"})]})]})},bb=()=>{var e;const[t,s]=p.useState(null),[i,o]=p.useState(null),[l,c]=p.useState(!1),[d,h]=p.useState(!0),[u,m]=p.useState(!0),[g,x]=p.useState(null),[f,b]=p.useState(null),{stages:v,teams:y,isLoading:w,getTeamPosition:j,updateTeamStage:N}=lb();return w?a.jsx("div",{className:"w-full h-screen bg-gradient-to-b from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xl",children:"Loading Quest Map..."})}):a.jsxs("div",{className:"w-full h-screen bg-gradient-to-b from-purple-900 via-blue-900 to-indigo-900 relative",children:[a.jsxs(_,{camera:{position:[0,10,25],fov:60},children:[a.jsx("ambientLight",{intensity:.3}),a.jsx("pointLight",{position:[10,10,10],intensity:.8}),a.jsx(D,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),a.jsx(P,{preset:"night"}),a.jsx(xb,{stages:v}),v.map((e,t)=>{const s=cb[t];if(!s)return null;let i;switch(e.type){case"gate":i=a.jsx(db,{position:[0,0,0]});break;case"valley":i=a.jsx(hb,{position:[0,0,0]});break;case"tower":i=a.jsx(ub,{position:[0,0,0]});break;case"arena":i=a.jsx(pb,{position:[0,0,0]});break;case"podium":i=a.jsx(mb,{position:[0,0,0],teams:y});break;default:return null}return a.jsx(ab,{stageInfo:s,position:e.position,isJudgeMode:l,onLearnMore:()=>b(s),children:i},e.id)}),v.map(e=>a.jsx(A,{position:[e.position[0],e.position[1]+5,e.position[2]],fontSize:.8,color:"white",anchorX:"center",anchorY:"middle",children:e.name},`${e.id}-label`)),u&&y.map(e=>a.jsx(eb,{team:e,stages:v,showTrail:e.stageIndex>0},`trail-${e.id}`)),y.map(e=>a.jsx(gb,{team:e,targetPosition:j(e),onHover:s,onClick:e=>{o(e),l&&x(e)}},e.id)),a.jsx(Zf,{enabled:l,onToggle:c}),!l&&a.jsx(O,{enablePan:!0,enableZoom:!0,enableRotate:!0,maxPolarAngle:Math.PI/2,minDistance:10,maxDistance:50})]}),a.jsxs("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white p-4 rounded-lg",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"🗺️ Hackathon Quest Map"}),a.jsx("p",{className:"text-sm opacity-80",children:"Epic journey • Live competition • Judge walkthrough"}),a.jsxs("div",{className:"mt-2 text-xs opacity-60",children:[y.length," teams • ",v.length," stages • ",y.filter(e=>e.stageIndex>=v.length-1).length," finished"]}),a.jsxs("div",{className:"mt-3 text-xs bg-blue-900/30 p-2 rounded border border-blue-700/30",children:[a.jsxs("p",{className:"text-blue-200",children:["💡 ",a.jsx("strong",{children:"Hover stages"})," for quick info • ",a.jsx("strong",{children:'Click "Learn More"'})," for details"]}),a.jsxs("p",{className:"text-blue-300 mt-1",children:["📱 On mobile: ",a.jsx("strong",{children:"Tap stages"})," to show tooltips"]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{onClick:()=>c(!l),className:"px-3 py-1 text-xs rounded transition-colors "+(l?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"),children:l?"🚶 Walking Mode ON":"🎮 Judge Walk Mode"}),a.jsx("button",{onClick:()=>m(!u),className:"px-3 py-1 text-xs rounded transition-colors "+(u?"bg-purple-600 hover:bg-purple-700":"bg-gray-600 hover:bg-gray-700"),children:u?"✨ Trails ON":"✨ Show Trails"})]}),l&&a.jsx("div",{className:"mt-2 text-xs bg-green-900/50 p-2 rounded",children:a.jsx("p",{children:"🎮 WASD to move • Mouse to look • Click teams to evaluate • ESC to exit"})})]}),t&&a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute bottom-4 left-4 bg-black bg-opacity-80 backdrop-blur text-white p-4 rounded-lg border border-white/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),a.jsx("h3",{className:"font-bold",children:t.name})]}),a.jsxs("p",{className:"text-sm mb-1",children:["📍 ",null==(e=v[t.stageIndex])?void 0:e.name]}),a.jsxs("p",{className:"text-xs opacity-80",children:["Progress: ",Math.round((t.stageIndex+1)/v.length*100),"% •",t.members.length," members",t.rank&&` • Rank #${t.rank}`]}),l&&a.jsx("p",{className:"text-xs text-green-400 mt-1",children:"👆 Click to evaluate"})]}),a.jsx(tb,{teams:y,stages:v,isVisible:d,onToggle:()=>h(!d)}),a.jsx(r,{children:i&&!g&&a.jsx(fb,{team:i,stages:v,onClose:()=>o(null)})}),a.jsx(sb,{selectedTeam:g,stages:v,onClose:()=>{x(null),o(null)},onEvaluate:(e,t)=>{if(t.approved){const t=y.find(t=>t.id===e);t&&t.stageIndex<v.length-1&&N(e,t.stageIndex+1)}}}),a.jsx(nb,{stageInfo:f,isOpen:!!f,onClose:()=>b(null),isJudgeMode:l})]})},vb=({team:e,stages:t,onHover:s,onClick:i,showTrail:n=!0})=>{var r;const o=p.useRef(null),l=p.useRef(null),[c,m]=p.useState(!1),[g,x]=p.useState([]),f=()=>{const s=t[e.stageIndex];if(!s)return[0,1,0];const i=.8*Math.sin(2*parseFloat(e.id));return[s.position[0]+i,s.position[1]+1.5,s.position[2]+.8*Math.cos(2*parseFloat(e.id))]},[b,v]=p.useState(f());p.useEffect(()=>{const e=f();v(e),n&&x(t=>[...t,new N(...e)].slice(-10))},[e.stageIndex,t]);const{position:y,scale:w}=h({position:b,scale:c?1.3:1,config:u.gentle});k(t=>{if(o.current){const s=t.clock.elapsedTime,i=.1*Math.sin(2*s+parseFloat(e.id));o.current.position.y=b[1]+i,o.current.rotation.y=.2*Math.sin(.5*s+parseFloat(e.id))}});const j=()=>!n||g.length<2?null:a.jsxs("group",{ref:l,children:[g.map((t,s)=>{if(0===s)return null;const i=g[s-1],n=(new N).subVectors(t,i).length(),r=(new N).addVectors(i,t).multiplyScalar(.5);return a.jsxs("mesh",{position:r,children:[a.jsx("cylinderGeometry",{args:[.02,.02,n]}),a.jsx("meshStandardMaterial",{color:e.color,transparent:!0,opacity:s/g.length*.6,emissive:e.color,emissiveIntensity:.2,metalness:.3,roughness:.4})]},s)}),g.map((t,s)=>a.jsxs("mesh",{position:t,children:[a.jsx("sphereGeometry",{args:[.03]}),a.jsx("meshStandardMaterial",{color:e.color,transparent:!0,opacity:s/g.length*.8,emissive:e.color,emissiveIntensity:.5})]},`particle-${s}`))]});return a.jsxs(d.group,{position:y,scale:w,children:[a.jsx(j,{}),a.jsxs(z,{speed:1.5,rotationIntensity:.1,floatIntensity:.2,children:[a.jsxs("mesh",{ref:o,onPointerEnter:()=>{m(!0),s(e)},onPointerLeave:()=>{m(!1),s(null)},onClick:()=>i(e),children:[a.jsx("sphereGeometry",{args:[.4]}),a.jsx("meshStandardMaterial",{color:e.color,emissive:e.color,emissiveIntensity:c?.3:.1,metalness:.3,roughness:.4})]}),a.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[a.jsx("ringGeometry",{args:[.5,.6,16]}),a.jsx("meshStandardMaterial",{color:e.color,transparent:!0,opacity:c?.4:.2,side:$})]}),a.jsx(A,{position:[0,.8,0],fontSize:.2,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.02,outlineColor:"black",children:e.name}),void 0!==e.score&&a.jsxs(A,{position:[0,-.7,0],fontSize:.15,color:"#fbbf24",anchorX:"center",anchorY:"middle",outlineWidth:.01,outlineColor:"black",children:[e.score," pts"]})]}),c&&a.jsx(T,{position:[0,1.2,0],center:!0,distanceFactor:10,occlude:!0,children:a.jsxs("div",{className:"bg-black bg-opacity-80 text-white p-3 rounded-lg shadow-xl border border-white/20 min-w-48",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),a.jsx("h3",{className:"font-bold text-sm",children:e.name})]}),a.jsxs("div",{className:"text-xs space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-400",children:"Members:"})," ",e.members.join(", ")]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-400",children:"Stage:"})," ",null==(r=t[e.stageIndex])?void 0:r.name]}),void 0!==e.score&&a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-400",children:"Score:"})," ",e.score," points"]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-400",children:"Progress:"})," ",Math.round((e.stageIndex+1)/t.length*100),"%"]})]})]})})]})},yb=({stage:e,teams:t,onStageClick:s})=>{const[i,n]=p.useState(!1),[r,o]=p.useState(!1),l=t.filter(e=>0===e.stageIndex);p.useEffect(()=>{n(l.length>0),o(t.some(e=>e.stageIndex>0))},[t]);const{leftDoorRotation:c,rightDoorRotation:u}=h({leftDoorRotation:r?[-Math.PI/3,0,0]:[0,0,0],rightDoorRotation:r?[Math.PI/3,0,0]:[0,0,0],config:{tension:120,friction:30}});return a.jsxs("group",{position:e.position,onClick:()=>s(e),children:[a.jsx(H,{args:[.3,.3,4],position:[-2,2,0],children:a.jsx("meshStandardMaterial",{color:"#8b5cf6",emissive:"#8b5cf6",emissiveIntensity:i?.3:.1})}),a.jsx(H,{args:[.3,.3,4],position:[2,2,0],children:a.jsx("meshStandardMaterial",{color:"#8b5cf6",emissive:"#8b5cf6",emissiveIntensity:i?.3:.1})}),a.jsx(F,{args:[4.6,.5,.5],position:[0,4,0],children:a.jsx("meshStandardMaterial",{color:"#a855f7",emissive:"#a855f7",emissiveIntensity:i?.2:.05})}),a.jsx(d.group,{rotation:c,children:a.jsx(F,{args:[1.8,3.5,.2],position:[-1,1.75,0],children:a.jsx("meshStandardMaterial",{color:"#6d28d9"})})}),a.jsx(d.group,{rotation:u,children:a.jsx(F,{args:[1.8,3.5,.2],position:[1,1.75,0],children:a.jsx("meshStandardMaterial",{color:"#6d28d9"})})}),a.jsx("pointLight",{position:[0,3,0],color:"#8b5cf6",intensity:i?1:.3,distance:10}),i&&a.jsx(z,{speed:2,rotationIntensity:.5,floatIntensity:.8,children:[...Array(5)].map((e,t)=>a.jsx(B,{args:[.05],position:[2*Math.sin(1.2*t),2+.5*Math.cos(1.5*t),2*Math.cos(1.2*t)],children:a.jsx("meshStandardMaterial",{color:"#8b5cf6",transparent:!0,opacity:.7})},t))})]})},wb=({stage:e,teams:t,onStageClick:s})=>{const[i,n]=p.useState(!1),r=t.filter(e=>1===e.stageIndex);return p.useEffect(()=>{n(r.length>0)},[t]),a.jsxs("group",{position:e.position,onClick:()=>s(e),children:[a.jsx(H,{args:[3,3,.5],position:[0,-.25,0],children:a.jsx("meshStandardMaterial",{color:"#10b981",emissive:"#10b981",emissiveIntensity:i?.2:.05})}),a.jsx(z,{speed:1,rotationIntensity:.5,floatIntensity:.5,children:a.jsx(B,{args:[.3],position:[-1,2,0],children:a.jsx("meshStandardMaterial",{color:"#fbbf24",emissive:"#fbbf24",emissiveIntensity:i?.6:.3,transparent:!0,opacity:i?1:.7})})}),a.jsx(z,{speed:1.2,rotationIntensity:.3,floatIntensity:.7,children:a.jsx(B,{args:[.25],position:[1,2.5,.5],children:a.jsx("meshStandardMaterial",{color:"#fbbf24",emissive:"#fbbf24",emissiveIntensity:i?.6:.3,transparent:!0,opacity:i?1:.7})})}),a.jsx(z,{speed:.8,rotationIntensity:.7,floatIntensity:.3,children:a.jsx(B,{args:[.2],position:[0,3,-.5],children:a.jsx("meshStandardMaterial",{color:"#fbbf24",emissive:"#fbbf24",emissiveIntensity:i?.6:.3,transparent:!0,opacity:i?1:.7})})}),a.jsx("pointLight",{position:[0,2,0],color:"#10b981",intensity:i?.8:.3,distance:8})]})},jb=({stage:e,teams:t,onStageClick:s})=>{const[i,n]=p.useState(!1),[r,o]=p.useState(0),l=p.useRef(null),c=t.filter(e=>2===e.stageIndex);return p.useEffect(()=>{n(c.length>0),o(c.length)},[t]),k(e=>{l.current&&i&&(l.current.rotation.z+=.02)}),a.jsxs("group",{position:e.position,onClick:()=>s(e),children:[a.jsx(H,{args:[1.5,2,1],position:[0,.5,0],children:a.jsx("meshStandardMaterial",{color:"#6366f1"})}),a.jsx(H,{args:[1.2,1.5,2],position:[0,2,0],children:a.jsx("meshStandardMaterial",{color:"#7c3aed"})}),a.jsx(W,{args:[1.2,1.5],position:[0,3.75,0],children:a.jsx("meshStandardMaterial",{color:"#8b5cf6"})}),[...Array(Math.min(r,6))].map((e,t)=>a.jsx(F,{args:[.2,.3,.1],position:[1.1*Math.sin(t*Math.PI/3),1.5+t%3*.5,1.1*Math.cos(t*Math.PI/3)],children:a.jsx("meshStandardMaterial",{color:"#fbbf24",emissive:"#fbbf24",emissiveIntensity:.8})},t)),a.jsxs("group",{ref:l,children:[a.jsx(z,{speed:2,rotationIntensity:1,floatIntensity:0,children:a.jsx(H,{args:[.5,.5,.2],position:[-1.5,2,0],rotation:[0,0,Math.PI/2],children:a.jsx("meshStandardMaterial",{color:"#f59e0b",emissive:"#f59e0b",emissiveIntensity:i?.3:.1})})}),a.jsx(z,{speed:1.5,rotationIntensity:-1,floatIntensity:0,children:a.jsx(H,{args:[.3,.3,.15],position:[1.2,1.5,0],rotation:[0,0,Math.PI/2],children:a.jsx("meshStandardMaterial",{color:"#f59e0b",emissive:"#f59e0b",emissiveIntensity:i?.3:.1})})})]}),a.jsx("pointLight",{position:[0,4,0],color:"#6366f1",intensity:i?1:.4,distance:12})]})},Nb=({stage:e,teams:t,onStageClick:s})=>{const[i,n]=p.useState(!1),[r,o]=p.useState(!1),l=t.filter(e=>3===e.stageIndex);return p.useEffect(()=>{n(l.length>0),o(l.length>0)},[t]),a.jsxs("group",{position:e.position,onClick:()=>s(e),children:[a.jsx(H,{args:[3,3,.5],position:[0,.25,0],children:a.jsx("meshStandardMaterial",{color:"#dc2626",emissive:"#dc2626",emissiveIntensity:i?.2:.05})}),a.jsx(H,{args:[.2,.2,3],position:[-2,1.5,2],children:a.jsx("meshStandardMaterial",{color:"#374151"})}),a.jsx(H,{args:[.2,.2,3],position:[2,1.5,2],children:a.jsx("meshStandardMaterial",{color:"#374151"})}),a.jsx(H,{args:[.2,.2,3],position:[0,1.5,-2],children:a.jsx("meshStandardMaterial",{color:"#374151"})}),r&&a.jsxs(a.Fragment,{children:[a.jsx("spotLight",{position:[-2,3,2],angle:.3,penumbra:.5,intensity:2,color:"#ffffff","target-position":[0,.5,0]}),a.jsx("spotLight",{position:[2,3,2],angle:.3,penumbra:.5,intensity:2,color:"#ffffff","target-position":[0,.5,0]}),a.jsx("spotLight",{position:[0,3,-2],angle:.3,penumbra:.5,intensity:2,color:"#ffffff","target-position":[0,.5,0]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsx(W,{args:[.8,2],position:[-2,2,2],rotation:[Math.PI/6,0,0],children:a.jsx("meshStandardMaterial",{color:"#ffffff",transparent:!0,opacity:.1})}),a.jsx(W,{args:[.8,2],position:[2,2,2],rotation:[Math.PI/6,0,0],children:a.jsx("meshStandardMaterial",{color:"#ffffff",transparent:!0,opacity:.1})}),a.jsx(W,{args:[.8,2],position:[0,2,-2],rotation:[-Math.PI/6,0,0],children:a.jsx("meshStandardMaterial",{color:"#ffffff",transparent:!0,opacity:.1})})]})]})},kb=({stage:e,teams:t,onStageClick:s,showFireworks:i=!0})=>{const[n,r]=p.useState(!1),[o,l]=p.useState(!1),c=t.filter(e=>e.rank).sort((e,t)=>(e.rank||0)-(t.rank||0));p.useEffect(()=>{r(c.length>0),l(c.length>=3)},[t]);const{podiumGlow:u}=h({podiumGlow:o?.4:.1,config:{tension:120,friction:30}});return a.jsxs("group",{position:e.position,onClick:()=>s(e),children:[a.jsx(F,{args:[2,2,2],position:[0,1,0],children:a.jsx(d.meshStandardMaterial,{color:"#fbbf24",emissive:"#fbbf24",emissiveIntensity:u})}),a.jsx(F,{args:[1.5,1.5,1.5],position:[-3,.75,0],children:a.jsx(d.meshStandardMaterial,{color:"#9ca3af",emissive:"#9ca3af",emissiveIntensity:u})}),a.jsx(F,{args:[1.5,1,1.5],position:[3,.5,0],children:a.jsx(d.meshStandardMaterial,{color:"#cd7f32",emissive:"#cd7f32",emissiveIntensity:u})}),c.map((e,t)=>{const s=[[0,3,0],[-3,2.25,0],[3,1.5,0]][t];return a.jsx(z,{speed:.5,rotationIntensity:.2,floatIntensity:.3,children:a.jsx(B,{args:[.4],position:s,children:a.jsx("meshStandardMaterial",{color:e.color,emissive:e.color,emissiveIntensity:o?.4:.2})})},e.id)}),o&&i&&a.jsxs(a.Fragment,{children:[a.jsx(Qf,{position:[e.position[0],e.position[1]+6,e.position[2]],count:200,spread:10,active:!0}),[...Array(3)].map((e,t)=>a.jsx(z,{speed:3,rotationIntensity:2,floatIntensity:1,children:a.jsx(B,{args:[.1],position:[4*(t-1),6+2*Math.sin(2*t),2*Math.cos(2*t)],children:a.jsx("meshStandardMaterial",{color:["#ff6b6b","#4ecdc4","#45b7d1"][t],emissive:["#ff6b6b","#4ecdc4","#45b7d1"][t],emissiveIntensity:.8})})},t))]}),a.jsx("pointLight",{position:[0,5,0],color:"#fbbf24",intensity:o?2:.8,distance:15}),a.jsx("pointLight",{position:[-3,4,0],color:"#9ca3af",intensity:o?1.5:.6,distance:12}),a.jsx("pointLight",{position:[3,3,0],color:"#cd7f32",intensity:o?1.2:.5,distance:10})]})},Sb=({stage:e,onClose:t,teams:s})=>{if(!e)return null;const i=s.filter(e=>void 0!==e&&0===e.stageIndex);return a.jsx(T,{position:[e.position[0],e.position[1]+6,e.position[2]],center:!0,children:a.jsxs("div",{className:"bg-black bg-opacity-90 text-white p-4 rounded-lg shadow-2xl border border-white/30 min-w-72 max-w-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:e.name}),a.jsx("button",{onClick:t,className:"text-white/60 hover:text-white text-xl",children:"×"})]}),a.jsx("p",{className:"text-sm text-gray-300 mb-3",children:e.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-400",children:"Teams at stage:"}),a.jsx("span",{className:"text-white",children:i.length})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-400",children:"Stage type:"}),a.jsx("span",{className:"text-white capitalize",children:e.type})]})]}),i.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-400 mb-2",children:"Teams here:"}),a.jsxs("div",{className:"space-y-1",children:[i.slice(0,3).map(e=>a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.color}}),a.jsx("span",{className:"text-white",children:e.name})]},e.id)),i.length>3&&a.jsxs("div",{className:"text-xs text-gray-400",children:["+",i.length-3," more teams"]})]})]})]})})},Cb=({stages:e,animated:t=!0})=>{const s=p.useRef(null),i=p.useRef(null),n=p.useMemo(()=>{if(e.length<2)return[];const t=[];return e.forEach((s,i)=>{const a=new N(...s.position);if(i>0){const s=e[i-1],n=(new N).subVectors(a,new N(...s.position)).normalize(),r=(new N).addVectors(new N(...s.position),a).multiplyScalar(.3).add(new N(...s.position)),o=(new N).addVectors(new N(...s.position),a).multiplyScalar(.7).add(new N(...s.position)),l=new N(-n.z,0,n.x),c=2*Math.sin(.8*i);r.add(l.clone().multiplyScalar(c)),o.add(l.clone().multiplyScalar(.5*c)),t.push(r,o)}t.push(a)}),t},[e]),r=p.useMemo(()=>n.length<2?null:new L(n),[n]),o=p.useMemo(()=>r?new R(r,200,.05,8,!1):null,[r]),l=p.useMemo(()=>{if(!r)return[];const e=[];for(let t=0;t<=100;t++){const s=t/100,i=r.getPoint(s);i.y+=.1,e.push(i)}return e},[r]);return k(e=>{if(t&&i.current){const t=e.clock.elapsedTime;i.current.children.forEach((e,s)=>{if(e.material){const i=Math.sin(2*t+.1*s);e.material.emissiveIntensity=.3+.2*i,e.material.opacity=.6+.3*i}})}}),r&&o?a.jsxs("group",{ref:s,children:[a.jsx("mesh",{geometry:o,children:a.jsx("meshStandardMaterial",{color:"#4ade80",emissive:"#4ade80",emissiveIntensity:.2,transparent:!0,opacity:.8})}),a.jsxs("group",{ref:i,children:[a.jsx(I,{points:l,color:"#00ff88",lineWidth:4,transparent:!0,opacity:.8}),l.map((e,t)=>t%10!=0?null:a.jsxs("mesh",{position:e,children:[a.jsx("sphereGeometry",{args:[.03]}),a.jsx("meshStandardMaterial",{color:"#00ff88",emissive:"#00ff88",emissiveIntensity:.5,transparent:!0,opacity:.8})]},t)),e.map((e,t)=>a.jsxs("mesh",{position:[e.position[0],e.position[1]+.1,e.position[2]],rotation:[Math.PI/2,0,0],children:[a.jsx("ringGeometry",{args:[.8,1,16]}),a.jsx("meshStandardMaterial",{color:"#4ade80",emissive:"#4ade80",emissiveIntensity:.4,transparent:!0,opacity:.6,side:$})]},`ring-${e.id}`))]}),n.map((e,t)=>t%5!=0?null:a.jsxs("mesh",{position:e,children:[a.jsx("cylinderGeometry",{args:[.02,.02,.2]}),a.jsx("meshStandardMaterial",{color:"#4ade80",emissive:"#4ade80",emissiveIntensity:.3})]},`marker-${t}`))]}):null},Mb=({dayNightCycle:e=!0,cycleSpeed:t=.1})=>{const{scene:s}=C();p.useRef(null);const i=p.useRef(null),n=p.useMemo(()=>new G(500,32,32),[]),r=p.useMemo(()=>new V({uniforms:{time:{value:0},topColor:{value:new w(30719)},bottomColor:{value:new w(9024255)},offset:{value:33},exponent:{value:.6}},vertexShader:"\n        varying vec3 vWorldPosition;\n        void main() {\n          vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n          vWorldPosition = worldPosition.xyz;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform vec3 topColor;\n        uniform vec3 bottomColor;\n        uniform float offset;\n        uniform float exponent;\n        uniform float time;\n        varying vec3 vWorldPosition;\n        \n        void main() {\n          float h = normalize(vWorldPosition + offset).y;\n          \n          // Day-night cycle colors\n          vec3 dayTop = vec3(0.3, 0.6, 1.0);\n          vec3 dayBottom = vec3(0.8, 0.9, 1.0);\n          vec3 nightTop = vec3(0.05, 0.05, 0.2);\n          vec3 nightBottom = vec3(0.1, 0.1, 0.3);\n          \n          float cycle = sin(time * 0.1) * 0.5 + 0.5;\n          vec3 currentTop = mix(nightTop, dayTop, cycle);\n          vec3 currentBottom = mix(nightBottom, dayBottom, cycle);\n          \n          gl_FragColor = vec4(mix(currentBottom, currentTop, max(pow(max(h, 0.0), exponent), 0.0)), 1.0);\n        }\n      ",side:E}),[]),o=p.useMemo(()=>new U(100,100),[]),l=p.useMemo(()=>new V({uniforms:{time:{value:0},opacity:{value:.3}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform float time;\n        uniform float opacity;\n        varying vec2 vUv;\n        \n        // Simple noise function\n        float noise(vec2 st) {\n          return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n        }\n        \n        void main() {\n          vec2 st = vUv * 3.0;\n          float n = noise(st + time * 0.1);\n          n += noise(st * 2.0 + time * 0.15) * 0.5;\n          n += noise(st * 4.0 + time * 0.2) * 0.25;\n          \n          vec3 color1 = vec3(0.8, 0.3, 1.0); // Purple\n          vec3 color2 = vec3(0.3, 0.8, 1.0); // Cyan\n          vec3 color3 = vec3(1.0, 0.5, 0.8); // Pink\n          \n          vec3 finalColor = mix(color1, color2, sin(n * 3.14159));\n          finalColor = mix(finalColor, color3, cos(n * 2.0));\n          \n          gl_FragColor = vec4(finalColor, opacity * n);\n        }\n      ",transparent:!0,blending:q}),[]);return k(e=>{const s=e.clock.elapsedTime;r.uniforms&&(r.uniforms.time.value=s*t),l.uniforms&&(l.uniforms.time.value=s),i.current&&(i.current.rotation.y=.01*s,i.current.rotation.x=.1*Math.sin(.005*s))}),a.jsxs(a.Fragment,{children:[a.jsx("mesh",{geometry:n,material:r}),a.jsx("group",{ref:i,children:a.jsx(D,{radius:300,depth:100,count:8e3,factor:6,saturation:.8,fade:!0,speed:.5})}),a.jsx("mesh",{geometry:o,material:l,position:[-50,30,-80],rotation:[0,.5,0]}),a.jsx("mesh",{geometry:o,material:l,position:[60,25,-70],rotation:[0,-.3,0],scale:[.8,.8,.8]}),a.jsx("mesh",{geometry:o,material:l,position:[0,40,-90],rotation:[0,.8,0],scale:[1.2,.6,1.2]}),a.jsx("ambientLight",{intensity:e?.2+.1*Math.sin(1e-4*Date.now()):.3,color:"#ffffff"}),a.jsx("directionalLight",{position:[50,50,25],intensity:e?.8+.3*Math.sin(1e-4*Date.now()):.8,color:"#ffffff",castShadow:!0}),a.jsx("directionalLight",{position:[-50,30,-25],intensity:e?.3-.2*Math.sin(1e-4*Date.now()):.1,color:"#87ceeb"}),a.jsx("fog",{attach:"fog",args:["#87ceeb",100,400]})]})},Ib=({enabled:e})=>{const t=p.useRef(null);return m.useEffect(()=>{t.current&&(t.current.volume=.3,e?t.current.play().catch(()=>{}):t.current.pause())},[e]),a.jsx("audio",{ref:t,loop:!0,style:{display:"none"}})},Tb=()=>{var e,t;const[s,i]=p.useState(null),[o,l]=p.useState(null),[c,d]=p.useState(null),[h,u]=p.useState(!1),[m,g]=p.useState(!0),[x,f]=p.useState(!0),[b,v]=p.useState(null),[y,w]=p.useState(!1),[j,N]=p.useState(!0),{stages:k,teams:S,isLoading:C,updateTeamStage:M}=lb(),I=e=>{d(e)},T=e=>{l(e),h&&v(e)};return C?a.jsx("div",{className:"w-full h-screen bg-gradient-to-b from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:a.jsxs(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-white text-center",children:[a.jsx("div",{className:"text-2xl font-bold mb-4",children:"🗺️ Loading Epic Quest Map..."}),a.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto"})]})}):a.jsxs("div",{className:"w-full h-screen relative overflow-hidden",children:[a.jsxs(_,{camera:{position:[0,15,30],fov:60},shadows:!0,gl:{antialias:!0,alpha:!1},children:[a.jsx(Mb,{dayNightCycle:j}),a.jsx(Cb,{stages:k,animated:!0}),k.map(e=>{const t={gate:yb,valley:wb,tower:jb,arena:Nb,podium:kb}[e.type];return t?a.jsx(t,{stage:e,teams:S,onStageClick:I,showFireworks:"podium"===e.type},e.id):null}),k.map(e=>a.jsx(A,{position:[e.position[0],e.position[1]+6,e.position[2]],fontSize:.6,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.02,outlineColor:"black",children:e.name},`${e.id}-label`)),S.map(e=>a.jsx(vb,{team:e,stages:k,onHover:i,onClick:T,showTrail:x},e.id)),a.jsx(Sb,{stage:c,teams:S,onClose:()=>d(null)}),a.jsx(Zf,{enabled:h,onToggle:u}),!h&&a.jsx(O,{enablePan:!0,enableZoom:!0,enableRotate:!0,maxPolarAngle:Math.PI/2,minDistance:10,maxDistance:80,autoRotate:!1,autoRotateSpeed:.5})]}),a.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"absolute top-4 left-4 bg-black bg-opacity-60 backdrop-blur-md text-white p-4 rounded-xl border border-white/20",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:"🗺️ Epic Hackathon Quest"}),a.jsx("p",{className:"text-sm opacity-90 mb-3",children:"Interactive journey • Live competition • Judge exploration"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-green-400",children:"●"}),a.jsxs("span",{children:[S.length," teams"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-blue-400",children:"●"}),a.jsxs("span",{children:[k.length," stages"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400",children:"●"}),a.jsxs("span",{children:[S.filter(e=>e.stageIndex>=k.length-1).length," finished"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-purple-400",children:"●"}),a.jsxs("span",{children:[S.filter(e=>e.rank).length," ranked"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>u(!h),className:"px-3 py-1 text-xs rounded-lg transition-all "+(h?"bg-green-600 hover:bg-green-700 shadow-lg":"bg-blue-600 hover:bg-blue-700"),children:h?"🚶 Walking Mode":"🎮 Judge Walk"}),a.jsx("button",{onClick:()=>f(!x),className:"px-3 py-1 text-xs rounded-lg transition-all "+(x?"bg-purple-600 hover:bg-purple-700":"bg-gray-600 hover:bg-gray-700"),children:x?"✨ Trails":"✨ Show Trails"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>N(!j),className:"px-3 py-1 text-xs rounded-lg transition-all "+(j?"bg-orange-600 hover:bg-orange-700":"bg-gray-600 hover:bg-gray-700"),children:j?"🌅 Day/Night":"🌙 Static Sky"}),a.jsx("button",{onClick:()=>w(!y),className:"px-3 py-1 text-xs rounded-lg transition-all "+(y?"bg-pink-600 hover:bg-pink-700":"bg-gray-600 hover:bg-gray-700"),children:y?"🎵 Music ON":"🎵 Music"})]})]}),h&&a.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 text-xs bg-green-900/50 p-2 rounded-lg border border-green-500/30",children:[a.jsx("p",{className:"font-semibold text-green-300 mb-1",children:"Judge Mode Active"}),a.jsx("p",{children:"🎮 WASD to move • Mouse to look • Click teams to evaluate • ESC to exit"})]})]}),a.jsx(r,{children:s&&a.jsxs(n.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"absolute bottom-4 left-4 bg-black bg-opacity-80 backdrop-blur-md text-white p-4 rounded-xl border border-white/30 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg",style:{backgroundColor:s.color}}),a.jsx("h3",{className:"font-bold text-lg",children:s.name})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Stage:"}),a.jsx("span",{className:"text-white",children:null==(e=k[s.stageIndex])?void 0:e.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Progress:"}),a.jsxs("span",{className:"text-green-400",children:[Math.round((s.stageIndex+1)/k.length*100),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Members:"}),a.jsx("span",{className:"text-white",children:s.members.length})]}),s.score&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Score:"}),a.jsxs("span",{className:"text-yellow-400 font-semibold",children:[s.score," pts"]})]}),s.rank&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Rank:"}),a.jsxs("span",{className:"text-yellow-400 font-semibold",children:["#",s.rank]})]})]}),h&&a.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:a.jsx("p",{className:"text-xs text-green-400 flex items-center gap-1",children:"👆 Click to evaluate this team"})})]})}),a.jsx(tb,{teams:S,stages:k,isVisible:m,onToggle:()=>g(!m)}),a.jsx(r,{children:o&&!b&&a.jsx(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900 rounded-xl shadow-2xl max-w-md w-full border border-white/20",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:o.color}}),a.jsx("h2",{className:"text-xl font-bold text-white",children:o.name})]}),a.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-white transition-colors",children:"✕"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Team Members"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.members.map((e,t)=>a.jsx("span",{className:"px-2 py-1 bg-gray-800 text-white text-xs rounded-lg",children:e},t))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-1",children:"Current Stage"}),a.jsx("p",{className:"text-white",children:null==(t=k[o.stageIndex])?void 0:t.name})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-1",children:"Progress"}),a.jsxs("p",{className:"text-green-400 font-semibold",children:[Math.round((o.stageIndex+1)/k.length*100),"%"]})]})]}),o.score&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-1",children:"Score"}),a.jsxs("p",{className:"text-yellow-400 font-bold text-lg",children:[o.score," points"]})]}),o.submissionLink&&a.jsx("a",{href:o.submissionLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"🔗 View Submission"})]})]})})})}),a.jsx(sb,{selectedTeam:b,stages:k,onClose:()=>{v(null),l(null)},onEvaluate:(e,t)=>{if(t.approved){const t=S.find(t=>t.id===e);t&&t.stageIndex<k.length-1&&M(e,t.stageIndex+1)}}}),a.jsx(Ib,{enabled:y})]})},Eb=()=>a.jsxs("div",{className:"w-full h-screen bg-gray-900",children:[a.jsxs(_,{camera:{position:[0,0,5],fov:75},children:[a.jsx("ambientLight",{intensity:.5}),a.jsx("pointLight",{position:[10,10,10]}),a.jsx(F,{position:[-2,0,0],args:[1,1,1],children:a.jsx("meshStandardMaterial",{color:"hotpink"})}),a.jsx(B,{position:[2,0,0],args:[.5],children:a.jsx("meshStandardMaterial",{color:"lightblue"})}),a.jsxs("mesh",{position:[0,0,0],children:[a.jsx("cylinderGeometry",{args:[.5,.5,2]}),a.jsx("meshStandardMaterial",{color:"orange"})]}),a.jsx(O,{})]}),a.jsxs("div",{className:"absolute top-4 left-4 text-white bg-black bg-opacity-50 p-4 rounded",children:[a.jsx("h2",{className:"text-xl font-bold mb-2",children:"3D Test Scene"}),a.jsx("p",{className:"text-sm",children:"If you can see 3D objects, Three.js is working!"}),a.jsxs("ul",{className:"text-xs mt-2 space-y-1",children:[a.jsx("li",{children:"• Pink cube (left)"}),a.jsx("li",{children:"• Orange cylinder (center)"}),a.jsx("li",{children:"• Blue sphere (right)"}),a.jsx("li",{children:"• Mouse to rotate camera"})]})]})]}),_b=[{id:"1",name:"Registration",position:[-15,0,0],color:"#8b5cf6"},{id:"2",name:"Ideation",position:[-7,0,0],color:"#10b981"},{id:"3",name:"Development",position:[0,0,0],color:"#6366f1"},{id:"4",name:"Presentation",position:[7,0,0],color:"#dc2626"},{id:"5",name:"Results",position:[15,0,0],color:"#fbbf24"}],Db=[{id:"1",name:"Team Alpha",stageIndex:2,color:"#ff6b6b"},{id:"2",name:"Team Beta",stageIndex:1,color:"#4ecdc4"},{id:"3",name:"Team Gamma",stageIndex:3,color:"#45b7d1"},{id:"4",name:"Team Delta",stageIndex:0,color:"#f9ca24"}],Pb=({stage:e,onClick:t})=>a.jsxs("group",{position:e.position,onClick:()=>t(e),children:[a.jsx(z,{speed:1,rotationIntensity:.1,floatIntensity:.2,children:a.jsx(F,{args:[2,2,2],children:a.jsx("meshStandardMaterial",{color:e.color})})}),a.jsx(A,{position:[0,3,0],fontSize:.5,color:"white",anchorX:"center",anchorY:"middle",children:e.name}),a.jsx("pointLight",{position:[0,2,0],color:e.color,intensity:.5})]}),Ab=({team:e,stages:t,onClick:s})=>{const i=t[e.stageIndex];if(!i)return null;const n=[i.position[0]+2*(Math.random()-.5),i.position[1]+2,i.position[2]+2*(Math.random()-.5)];return a.jsxs("group",{position:n,onClick:()=>s(e),children:[a.jsx(z,{speed:1.5,rotationIntensity:.2,floatIntensity:.3,children:a.jsx(B,{args:[.3],children:a.jsx("meshStandardMaterial",{color:e.color})})}),a.jsx(A,{position:[0,.8,0],fontSize:.2,color:"white",anchorX:"center",anchorY:"middle",children:e.name})]})},Ob=({stages:e})=>a.jsx("group",{children:e.map((t,s)=>{if(0===s)return null;const i=e[s-1].position,n=t.position,r=Math.sqrt(Math.pow(n[0]-i[0],2)+Math.pow(n[2]-i[2],2)),o=[(i[0]+n[0])/2,.1,(i[2]+n[2])/2];return a.jsxs("mesh",{position:o,children:[a.jsx("cylinderGeometry",{args:[.1,.1,r]}),a.jsx("meshStandardMaterial",{color:"#4ade80"})]},s)})}),Lb=()=>{var e;const[t,s]=p.useState(null),[i,o]=p.useState(null);return a.jsxs("div",{className:"w-full h-screen bg-gradient-to-b from-purple-900 via-blue-900 to-indigo-900 relative",children:[a.jsxs(_,{camera:{position:[0,10,20],fov:60},children:[a.jsx("ambientLight",{intensity:.4}),a.jsx("pointLight",{position:[10,10,10],intensity:.8}),a.jsx(D,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),a.jsx(Ob,{stages:_b}),_b.map(e=>a.jsx(Pb,{stage:e,onClick:s},e.id)),Db.map(e=>a.jsx(Ab,{team:e,stages:_b,onClick:o},e.id)),a.jsx(O,{enablePan:!0,enableZoom:!0,enableRotate:!0,maxPolarAngle:Math.PI/2,minDistance:5,maxDistance:50})]}),a.jsxs("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white p-4 rounded-lg",children:[a.jsx("h1",{className:"text-xl font-bold mb-2",children:"Simple Quest Map"}),a.jsx("p",{className:"text-sm opacity-80",children:"Basic 3D hackathon visualization"}),a.jsxs("div",{className:"mt-2 text-xs opacity-60",children:[Db.length," teams • ",_b.length," stages"]})]}),a.jsx(r,{children:t&&a.jsxs(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed top-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 max-w-sm z-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t.name}),a.jsx("button",{onClick:()=>s(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),a.jsx("div",{className:"w-4 h-4 rounded-full mb-2",style:{backgroundColor:t.color}}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stage in the hackathon journey"})]})}),a.jsx(r,{children:i&&a.jsxs(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed bottom-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 max-w-sm z-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i.name}),a.jsx("button",{onClick:()=>o(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Currently at: ",null==(e=_b[i.stageIndex])?void 0:e.name]})]})]})})]})},Rb=[{id:"1",name:"Registration",position:[-15,0,0],color:"#8b5cf6"},{id:"2",name:"Ideation",position:[-7,0,0],color:"#10b981"},{id:"3",name:"Development",position:[0,0,0],color:"#6366f1"},{id:"4",name:"Presentation",position:[7,0,0],color:"#dc2626"},{id:"5",name:"Results",position:[15,0,0],color:"#fbbf24"}],zb=[{id:"1",name:"Team Alpha",stageIndex:2,color:"#ff6b6b"},{id:"2",name:"Team Beta",stageIndex:1,color:"#4ecdc4"},{id:"3",name:"Team Gamma",stageIndex:3,color:"#45b7d1"}],Bb=({label:e,enabled:t,onToggle:s,description:i})=>a.jsxs("div",{className:"mb-3",children:[a.jsx("button",{onClick:s,className:"w-full text-left p-2 rounded transition-colors "+(t?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"font-semibold",children:[t?"✅":"❌"," ",e]}),a.jsx("span",{className:"text-xs",children:t?"ON":"OFF"})]})}),a.jsx("p",{className:"text-xs text-gray-300 mt-1 px-2",children:i})]}),Fb=({stage:e,showAnimation:t,showGlow:s})=>a.jsxs("group",{position:e.position,children:[t?a.jsx(z,{speed:1,rotationIntensity:.1,floatIntensity:.2,children:a.jsx(F,{args:[2,2,2],children:a.jsx("meshStandardMaterial",{color:e.color,emissive:s?e.color:"#000000",emissiveIntensity:s?.3:0})})}):a.jsx(F,{args:[2,2,2],children:a.jsx("meshStandardMaterial",{color:e.color})}),a.jsx(A,{position:[0,3,0],fontSize:.5,color:"white",anchorX:"center",anchorY:"middle",children:e.name}),s&&a.jsx("pointLight",{position:[0,2,0],color:e.color,intensity:.5})]}),Hb=({team:e,showAnimation:t,showTrail:s})=>{const i=Rb[e.stageIndex];if(!i)return null;const n=[i.position[0]+2*(Math.random()-.5),i.position[1]+2,i.position[2]+2*(Math.random()-.5)];return a.jsxs("group",{position:n,children:[s&&a.jsxs("mesh",{position:[0,-.5,0],children:[a.jsx("cylinderGeometry",{args:[.1,.1,1]}),a.jsx("meshBasicMaterial",{color:e.color,transparent:!0,opacity:.5})]}),t?a.jsx(z,{speed:1.5,rotationIntensity:.2,floatIntensity:.3,children:a.jsx(B,{args:[.3],children:a.jsx("meshStandardMaterial",{color:e.color,emissive:e.color,emissiveIntensity:.2})})}):a.jsx(B,{args:[.3],children:a.jsx("meshStandardMaterial",{color:e.color})}),a.jsx(A,{position:[0,.8,0],fontSize:.2,color:"white",anchorX:"center",anchorY:"middle",children:e.name})]})},Wb=({showPath:e})=>e?a.jsx("group",{children:Rb.map((e,t)=>{if(0===t)return null;const s=Rb[t-1].position,i=e.position,n=Math.sqrt(Math.pow(i[0]-s[0],2)),r=[(s[0]+i[0])/2,.1,0];return a.jsxs("mesh",{position:r,children:[a.jsx("cylinderGeometry",{args:[.1,.1,n]}),a.jsx("meshStandardMaterial",{color:"#4ade80",emissive:"#4ade80",emissiveIntensity:.3})]},t)})}):null,$b=()=>{const[e,t]=p.useState(!1),[s,i]=p.useState(!1),[n,r]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[h,u]=p.useState(!1);return a.jsxs("div",{className:"w-full h-screen bg-gradient-to-b from-purple-900 via-blue-900 to-indigo-900 relative",children:[a.jsxs(_,{camera:{position:[0,10,20],fov:60},children:[a.jsx("ambientLight",{intensity:h?.2:.4}),a.jsx("pointLight",{position:[10,10,10],intensity:.8}),h&&a.jsxs(a.Fragment,{children:[a.jsx("directionalLight",{position:[50,50,25],intensity:.6,color:"#ffffff"}),a.jsx("directionalLight",{position:[-50,30,-25],intensity:.2,color:"#87ceeb"})]}),e&&a.jsx(D,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),a.jsx(Wb,{showPath:s}),Rb.map(e=>a.jsx(Fb,{stage:e,showAnimation:n,showGlow:o},e.id)),zb.map(e=>a.jsx(Hb,{team:e,showAnimation:n,showTrail:c},e.id)),a.jsx(O,{enablePan:!0,enableZoom:!0,enableRotate:!0,maxPolarAngle:Math.PI/2,minDistance:5,maxDistance:50})]}),a.jsxs("div",{className:"absolute top-4 left-4 bg-black bg-opacity-80 text-white p-4 rounded-lg max-w-sm",children:[a.jsx("h1",{className:"text-xl font-bold mb-4",children:"🎮 Quest Map Features"}),a.jsx("p",{className:"text-sm mb-4 opacity-80",children:"Toggle features ON/OFF to see what makes the enhanced version unique!"}),a.jsx(Bb,{label:"Background Stars",enabled:e,onToggle:()=>t(!e),description:"Animated starfield background for immersion"}),a.jsx(Bb,{label:"Quest Path",enabled:s,onToggle:()=>i(!s),description:"Glowing path connecting all stages"}),a.jsx(Bb,{label:"Floating Animation",enabled:n,onToggle:()=>r(!n),description:"Objects float and bob naturally"}),a.jsx(Bb,{label:"Glowing Effects",enabled:o,onToggle:()=>l(!o),description:"Stages glow with colored light"}),a.jsx(Bb,{label:"Team Trails",enabled:c,onToggle:()=>d(!c),description:"Teams leave glowing trails"}),a.jsx(Bb,{label:"Atmospheric Lighting",enabled:h,onToggle:()=>u(!h),description:"Dynamic lighting system"}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-600",children:a.jsxs("p",{className:"text-xs text-gray-300",children:[a.jsx("strong",{children:"Turn ALL features ON"})," to see the full enhanced experience!"]})})]}),a.jsxs("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-80 text-white p-4 rounded-lg max-w-sm",children:[a.jsx("h3",{className:"font-bold mb-2",children:"🎯 How to Explore"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Mouse drag"})," - Rotate camera"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Mouse wheel"})," - Zoom in/out"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Toggle features"})," - See differences"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Turn all ON"})," - Full experience"]})]})]})]})},Gb=({hackathon:e,onHover:t,onClick:s,isHovered:i})=>{const n=p.useRef(null),r=p.useRef(null);return k(e=>{if(n.current&&(n.current.rotation.y+=.005,n.current.rotation.x=.1*Math.sin(.5*e.clock.elapsedTime)),r.current){const t=.3*Math.sin(2*e.clock.elapsedTime)+.7;r.current.scale.setScalar(i?1.3*t:1.1*t)}}),a.jsxs("group",{position:e.position,children:[a.jsx(B,{ref:r,args:[1.2*e.scale,32,32],children:a.jsx("meshBasicMaterial",{color:e.color,transparent:!0,opacity:.2,blending:q})}),a.jsx(z,{speed:1,rotationIntensity:.1,floatIntensity:.2,children:a.jsx(B,{ref:n,args:[e.scale,32,32],onPointerEnter:()=>t(e),onPointerLeave:()=>t(null),onClick:()=>s(e),children:a.jsx("meshStandardMaterial",{color:e.color,emissive:e.color,emissiveIntensity:i?.3:.1,roughness:.7,metalness:.3})})}),a.jsx(A,{position:[0,e.scale+1.5,0],fontSize:.4,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.02,outlineColor:"black",children:e.name}),a.jsxs(A,{position:[0,e.scale+1,0],fontSize:.2,color:"#cccccc",anchorX:"center",anchorY:"middle",outlineWidth:.01,outlineColor:"black",children:["by ",e.organizer]}),a.jsx("pointLight",{position:[0,0,0],color:e.color,intensity:i?.8:.4,distance:10})]})},Vb=({constellations:e})=>a.jsx(a.Fragment,{children:e.map((e,t)=>a.jsx("group",{children:e.hackathons.map((t,s)=>e.hackathons.slice(s+1).map((s,i)=>{const n=[new N(...t.position),new N(...s.position)];return a.jsx(I,{points:n,color:e.color,lineWidth:1,transparent:!0,opacity:.3,dashed:!0,dashScale:50,dashSize:1,gapSize:1},`${t.id}-${s.id}`)}))},e.organizer))}),Ub=({hackathons:e,constellations:t,onPlanetClick:s,onPlanetHover:i})=>{const[n,r]=p.useState(null),{camera:o}=C(),l=e=>{r(e),i&&i(e)};return m.useEffect(()=>{o.position.set(0,20,40),o.lookAt(0,0,0)},[o]),a.jsxs(a.Fragment,{children:[a.jsx(D,{radius:300,depth:100,count:1e4,factor:8,saturation:.8,fade:!0,speed:.3}),a.jsx("ambientLight",{intensity:.2,color:"#ffffff"}),a.jsx("directionalLight",{position:[50,50,25],intensity:.4,color:"#87ceeb"}),a.jsx(Vb,{constellations:t}),e.map(e=>a.jsx(Gb,{hackathon:e,onHover:l,onClick:s,isHovered:(null==n?void 0:n.id)===e.id},e.id)),a.jsx(B,{args:[.5,32,32],position:[0,0,0],children:a.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.8,blending:q})})]})},qb=({isTransitioning:e,targetPosition:t=[0,0,0],targetLookAt:s=[0,0,0],onTransitionComplete:i,transitionDuration:n=2,enableControls:r=!0})=>{const o=p.useRef(null),{camera:l}=C(),c=p.useRef({isTransitioning:!1,startTime:0,startPosition:new N,startLookAt:new N,targetPosition:new N,targetLookAt:new N,duration:n});return p.useEffect(()=>{if(e&&!c.current.isTransitioning){const e=o.current;c.current.startPosition.copy(l.position),c.current.startLookAt.copy(e?e.getTarget(new N):new N(0,0,0)),c.current.targetPosition.set(...t),c.current.targetLookAt.set(...s),c.current.isTransitioning=!0,c.current.startTime=Date.now(),c.current.duration=1e3*n,e&&(e.enabled=!1)}},[e,t,s,n,l]),k(()=>{const e=c.current;if(e.isTransitioning){const t=Date.now()-e.startTime,s=Math.min(t/e.duration,1),a=(e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2)(s),n=(new N).lerpVectors(e.startPosition,e.targetPosition,a),c=(new N).lerpVectors(e.startLookAt,e.targetLookAt,a);l.position.copy(n),l.lookAt(c),o.current&&o.current.setLookAt(n.x,n.y,n.z,c.x,c.y,c.z,!1),s>=1&&(e.isTransitioning=!1,o.current&&r&&(o.current.enabled=!0),i&&i())}}),a.jsx(Y,{ref:o,enabled:r&&!c.current.isTransitioning,makeDefault:!0,minDistance:5,maxDistance:100,maxPolarAngle:Math.PI/2,azimuthRotateSpeed:.3,polarRotateSpeed:.3,dollySpeed:.3,truckSpeed:.3})},Yb=[{id:"innovertex-2024",name:"InnovertEx 2024",organizer:"TechCorp",category:"AI/ML",scale:1.2,position:[0,0,0],startDate:"2024-03-15",endDate:"2024-03-17",color:"#6366f1",description:"Premier AI/ML hackathon focusing on innovation",participantCount:500,prizePool:"₹42,00,000"},{id:"web3-summit",name:"Web3 Summit Hack",organizer:"TechCorp",category:"Blockchain",scale:1,position:[15,5,-10],startDate:"2024-04-20",endDate:"2024-04-22",color:"#8b5cf6",description:"Decentralized future building hackathon",participantCount:300,prizePool:"₹25,20,000"},{id:"green-tech-challenge",name:"Green Tech Challenge",organizer:"EcoInnovate",category:"Sustainability",scale:.9,position:[-20,-3,8],startDate:"2024-05-10",endDate:"2024-05-12",color:"#10b981",description:"Building solutions for environmental challenges",participantCount:250,prizePool:"₹21,00,000"},{id:"fintech-revolution",name:"FinTech Revolution",organizer:"FinanceHub",category:"Finance",scale:1.1,position:[8,-8,15],startDate:"2024-06-05",endDate:"2024-06-07",color:"#f59e0b",description:"Revolutionizing financial services",participantCount:400,prizePool:"₹33,60,000"},{id:"health-hack",name:"HealthTech Hack",organizer:"MedTech Solutions",category:"Healthcare",scale:1,position:[-10,10,-5],startDate:"2024-07-15",endDate:"2024-07-17",color:"#ef4444",description:"Healthcare innovation for better lives",participantCount:350,prizePool:"₹29,40,000"},{id:"game-dev-jam",name:"Game Dev Jam",organizer:"GameStudio",category:"Gaming",scale:.8,position:[12,0,20],startDate:"2024-08-20",endDate:"2024-08-22",color:"#ec4899",description:"Create the next gaming sensation",participantCount:200,prizePool:"₹16,80,000"},{id:"iot-connect",name:"IoT Connect",organizer:"TechCorp",category:"IoT",scale:.9,position:[5,8,-15],startDate:"2024-09-10",endDate:"2024-09-12",color:"#06b6d4",description:"Connecting the world through IoT",participantCount:280,prizePool:"₹23,52,000"}],Xb=[{id:"team-1",teamName:"AI Pioneers",stageIndex:3,avatarColor:"#ff6b6b",hackathonId:"innovertex-2024",members:["Alice Johnson","Bob Smith","Charlie Brown"],score:950},{id:"team-2",teamName:"Neural Networks",stageIndex:2,avatarColor:"#4ecdc4",hackathonId:"innovertex-2024",members:["David Wilson","Eve Davis","Frank Miller"],score:875},{id:"team-3",teamName:"Deep Learning Squad",stageIndex:4,avatarColor:"#45b7d1",hackathonId:"innovertex-2024",members:["Grace Lee","Henry Taylor","Ivy Chen"],score:820},{id:"team-4",teamName:"Blockchain Builders",stageIndex:2,avatarColor:"#9b59b6",hackathonId:"web3-summit",members:["Jack Anderson","Kate Thompson"],score:780},{id:"team-5",teamName:"DeFi Innovators",stageIndex:1,avatarColor:"#e74c3c",hackathonId:"web3-summit",members:["Liam Garcia","Maya Patel"],score:650},{id:"team-6",teamName:"Eco Warriors",stageIndex:3,avatarColor:"#2ecc71",hackathonId:"green-tech-challenge",members:["Noah Kim","Olivia Rodriguez"],score:890},{id:"team-7",teamName:"Payment Pioneers",stageIndex:2,avatarColor:"#f39c12",hackathonId:"fintech-revolution",members:["Paul Singh","Quinn Foster"],score:720},{id:"team-8",teamName:"Medical Minds",stageIndex:1,avatarColor:"#e67e22",hackathonId:"health-hack",members:["Rachel Green","Sam Wilson"],score:680}],Jb=({hackathon:e})=>e?a.jsxs(n.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"absolute bottom-4 left-4 bg-black bg-opacity-80 backdrop-blur-md text-white p-6 rounded-xl border border-white/30 shadow-2xl max-w-sm z-50",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg",style:{backgroundColor:e.color}}),a.jsx("h3",{className:"font-bold text-xl",children:e.name})]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Organizer:"}),a.jsx("span",{className:"text-white font-medium",children:e.organizer})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Category:"}),a.jsx("span",{className:"text-blue-400",children:e.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Dates:"}),a.jsxs("span",{className:"text-white",children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]})]}),e.participantCount&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Participants:"}),a.jsx("span",{className:"text-green-400 font-semibold",children:e.participantCount})]}),e.prizePool&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Prize Pool:"}),a.jsx("span",{className:"text-yellow-400 font-bold",children:e.prizePool})]}),e.description&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-600",children:a.jsx("p",{className:"text-gray-300 text-xs leading-relaxed",children:e.description})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-600",children:a.jsx("p",{className:"text-xs text-blue-400 flex items-center gap-1",children:"👆 Click planet to explore this hackathon"})})]}):null,Kb=()=>{const{hackathons:e,teams:t,selectedHackathon:s,constellations:i,selectHackathon:o,backToUniverse:l,getTeamsForHackathon:c}=(()=>{const[e,t]=p.useState(Yb),[s,i]=p.useState(Xb),[a,n]=p.useState(null),[r,o]=p.useState(!1),l=e=>s.filter(t=>t.hackathonId===e);return{hackathons:e,teams:s,selectedHackathon:a,isLoading:r,constellations:(()=>{const t=e.reduce((e,t)=>(e[t.organizer]||(e[t.organizer]=[]),e[t.organizer].push(t),e),{}),s=["#6366f1","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4"];return Object.entries(t).map(([e,t],i)=>({organizer:e,hackathons:t,color:s[i%s.length]}))})(),selectHackathon:e=>{n(e)},backToUniverse:()=>{n(null)},addHackathon:e=>{const s={...e,id:`hackathon-${Date.now()}`};t(e=>[...e,s])},updateTeamStage:(e,t)=>{i(s=>s.map(s=>s.id===e?{...s,stageIndex:Math.max(0,Math.min(4,t))}:s))},getTeamsForHackathon:l,getHackathonStats:e=>{const t=l(e),s=t.length,i=t.filter(e=>e.stageIndex>=4).length,a=s>0?t.reduce((e,t)=>e+t.stageIndex,0)/s:0;return{totalTeams:s,completedTeams:i,averageProgress:Math.round(100*a)/100,completionRate:s>0?Math.round(i/s*100):0}}}})(),[d,h]=p.useState("universe"),[u,m]=p.useState(!1),[g,x]=p.useState(null),[f,b]=p.useState(null),[v,y]=p.useState(null),[w,j]=p.useState(null),N=()=>{l(),h("transitioning"),m(!0),j({position:[0,20,40],lookAt:[0,0,0]})};return!s||c(s.id),e.length?"quest-map"===d&&s?a.jsxs("div",{className:"w-full h-screen relative",children:[a.jsx(bb,{}),a.jsx("div",{className:"absolute top-4 left-4 z-50",children:a.jsx("button",{onClick:N,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-lg border border-blue-500",disabled:u,children:"🌌 Back to Universe"})})]}):a.jsxs("div",{className:"w-full h-screen relative overflow-hidden bg-black",children:[a.jsxs(_,{camera:{position:[0,20,40],fov:60},shadows:!0,gl:{antialias:!0,alpha:!1},children:[a.jsx(qb,{isTransitioning:u,targetPosition:null==w?void 0:w.position,targetLookAt:null==w?void 0:w.lookAt,onTransitionComplete:()=>{m(!1),h(s?"quest-map":"universe"),j(null)},transitionDuration:2.5,enableControls:!u}),"universe"===d&&a.jsx(Ub,{hackathons:e,constellations:i,onPlanetClick:e=>{o(e),h("transitioning"),m(!0),j({position:[0,10,20],lookAt:[0,0,0]})},onPlanetHover:x}),"transitioning"===d&&!s&&a.jsx(Ub,{hackathons:e,constellations:i,onPlanetClick:()=>{},onPlanetHover:()=>{}}),!u&&a.jsx(O,{enablePan:!0,enableZoom:!0,enableRotate:!0,maxPolarAngle:Math.PI/2,minDistance:10,maxDistance:100,autoRotate:!1})]}),a.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"absolute top-4 left-4 bg-black bg-opacity-60 backdrop-blur-md text-white p-4 rounded-xl border border-white/20",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:"🌌 Hackathon Universe"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90 mb-3",children:"Explore hackathons across the galaxy"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-blue-400",children:"🪐"}),a.jsxs("span",{children:[e.length," hackathons"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-purple-400",children:"✨"}),a.jsxs("span",{children:[i.length," organizers"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-green-400",children:"👥"}),a.jsxs("span",{children:[t.length," total teams"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400",children:"🏆"}),a.jsxs("span",{children:[t.filter(e=>e.stageIndex>=4).length," winners"]})]})]})]}),u&&a.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 text-xs bg-blue-900/50 p-2 rounded-lg border border-blue-500/30",children:[a.jsx("p",{className:"font-semibold text-blue-300 mb-1",children:s?"🚀 Flying to hackathon...":"🌌 Returning to universe..."}),a.jsx("div",{className:"w-full bg-blue-900/30 rounded-full h-1",children:a.jsx(n.div,{className:"bg-blue-400 h-1 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.5,ease:"easeInOut"}})})]})]}),a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute bottom-4 right-4 bg-black bg-opacity-60 backdrop-blur-md text-white p-4 rounded-xl border border-white/20 max-w-sm",children:[a.jsx("h3",{className:"font-bold mb-2",children:"🎮 How to Navigate"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Hover planets"})," - View hackathon details"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Click planets"})," - Dive into quest map"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Mouse drag"})," - Rotate universe"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Mouse wheel"})," - Zoom in/out"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Constellation lines"})," - Same organizer"]})]})]}),a.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"absolute top-4 right-4 bg-black bg-opacity-60 backdrop-blur-md text-white p-4 rounded-xl border border-white/20",children:[a.jsx("h3",{className:"font-bold mb-3",children:"✨ Constellations"}),a.jsx("div",{className:"space-y-2",children:i.map(e=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),a.jsx("span",{className:"font-medium",children:e.organizer}),a.jsxs("span",{className:"text-gray-400",children:["(",e.hackathons.length,")"]})]},e.organizer))})]}),a.jsx(r,{children:a.jsx(Jb,{hackathon:g})}),a.jsx(r,{children:u&&a.jsx(n.div,{initial:{opacity:0},animate:{opacity:.3},exit:{opacity:0},className:"absolute inset-0 bg-black pointer-events-none"})})]}):a.jsx("div",{className:"w-full h-screen bg-gradient-to-b from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:a.jsxs(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-white text-center",children:[a.jsx("div",{className:"text-2xl font-bold mb-4",children:"🌌 Loading Hackathon Universe..."}),a.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto"})]})})};function Qb({title:e,titleId:t,...s},i){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Zb=p.forwardRef(Qb);function ev({title:e,titleId:t,...s},i){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const tv=p.forwardRef(ev);function sv({title:e,titleId:t,...s},i){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const iv=p.forwardRef(sv);function av({title:e,titleId:t,...s},i){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const nv=p.forwardRef(av),rv=({value:e,onChange:t,onSearch:s,suggestions:i,isLoading:o=!1,placeholder:l="Search hackathons, teams, categories..."})=>{const[c,d]=p.useState(!1),[h,u]=p.useState(-1),m=p.useRef(null),g=p.useRef(null);p.useEffect(()=>{const a=a=>{if(c)switch(a.key){case"ArrowDown":a.preventDefault(),u(e=>e<i.length-1?e+1:e);break;case"ArrowUp":a.preventDefault(),u(e=>e>0?e-1:-1);break;case"Enter":if(a.preventDefault(),h>=0){const e=i[h];t(e.text),s(e.text),d(!1),u(-1)}else s(e),d(!1);break;case"Escape":d(!1),u(-1)}};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[c,h,i,e,t,s]),p.useEffect(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&m.current&&!m.current.contains(e.target)&&(d(!1),u(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const x=e=>{switch(e){case"hackathon":return"text-blue-400";case"team":return"text-green-400";case"category":return"text-purple-400";case"organizer":return"text-orange-400";default:return"text-gray-400"}},f=e=>{switch(e){case"hackathon":return"🏆";case"team":return"👥";case"category":return"🏷️";case"organizer":return"🏢";default:return"🔍"}};return a.jsxs("div",{className:"relative w-full max-w-2xl",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none",children:o?a.jsx(n.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-gray-400 border-t-blue-500 rounded-full"}):a.jsx(iv,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})}),a.jsx("input",{ref:m,type:"text",value:e,onChange:e=>{const s=e.target.value;t(s),d(s.length>0),u(-1)},onFocus:()=>e.length>0&&d(!0),placeholder:l,className:"w-full pl-10 sm:pl-12 pr-10 sm:pr-12 py-3 sm:py-4 text-sm sm:text-base lg:text-lg bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none transition-colors duration-200 shadow-lg"}),e&&a.jsx("button",{onClick:()=>{var e;t(""),d(!1),u(-1),null==(e=m.current)||e.focus()},className:"absolute inset-y-0 right-0 pr-3 sm:pr-4 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx(nv,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),a.jsx(r,{children:c&&i.length>0&&a.jsx(n.div,{ref:g,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl z-50 max-h-80 overflow-y-auto",children:i.map((e,r)=>a.jsxs(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},onClick:()=>(e=>{t(e.text),s(e.text),d(!1),u(-1)})(e),className:`px-3 sm:px-4 py-2 sm:py-3 cursor-pointer transition-colors duration-150 flex items-center gap-2 sm:gap-3 ${r===h?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500":"hover:bg-gray-50 dark:hover:bg-gray-700/50"} ${0===r?"rounded-t-xl":""} ${r===i.length-1?"rounded-b-xl":""}`,children:[a.jsx("span",{className:"text-base sm:text-lg flex-shrink-0",children:f(e.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e.text}),a.jsx("div",{className:`text-xs ${x(e.type)} capitalize`,children:e.type})]}),r===h&&a.jsx(n.div,{initial:{scale:0},animate:{scale:1},className:"w-2 h-2 bg-blue-500 rounded-full"})]},e.id))})}),!c&&!e&&a.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute top-full left-0 mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Press ",a.jsx("kbd",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:"Enter"})," to search or use ",a.jsx("kbd",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:"↑↓"})," to navigate suggestions"]})]})},ov=({checked:e,onChange:t,label:s,count:i,color:o="#3b82f6"})=>a.jsxs(n.label,{whileHover:{x:2},className:"flex items-center gap-3 p-3 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group border border-transparent hover:border-gray-200 dark:hover:border-gray-600",children:[a.jsxs("div",{className:"relative",children:[a.jsx(n.div,{className:"w-5 h-5 rounded border-2 transition-colors "+(e?"bg-blue-500 border-blue-500":"border-gray-300 dark:border-gray-600 group-hover:border-blue-400"),whileTap:{scale:.9},children:a.jsx(r,{children:e&&a.jsx(n.svg,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"w-3 h-3 text-white absolute top-0.5 left-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),a.jsx("input",{type:"checkbox",checked:e,onChange:e=>t(e.target.checked),className:"sr-only"})]}),a.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-gray-100",children:s}),void 0!==i&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:i})]}),o&&a.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300 dark:border-gray-600",style:{backgroundColor:o}})]}),lv=({range:e,value:t,onChange:s})=>{const[i,r]=p.useState(t),[o,l]=p.useState(!1),c=()=>{l(!1),s(i)},d=t=>(t-e.min)/(e.max-e.min)*100;return a.jsxs("div",{className:"px-2 py-4",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-2",children:[a.jsxs("span",{children:[e.min,e.unit]}),a.jsxs("span",{children:[e.max,e.unit]})]}),a.jsxs("div",{className:"relative h-2 bg-gray-200 dark:bg-gray-700 rounded-full",children:[a.jsx("div",{className:"absolute h-2 bg-blue-500 rounded-full",style:{left:`${d(i[0])}%`,width:d(i[1])-d(i[0])+"%"}}),a.jsx(n.div,{className:"absolute w-5 h-5 bg-white border-2 border-blue-500 rounded-full cursor-pointer shadow-lg -top-1.5",style:{left:`${d(i[0])}%`},whileHover:{scale:1.1},whileDrag:{scale:1.2},drag:"x",dragConstraints:{left:0,right:0},onDragStart:()=>l(!0),onDragEnd:c}),a.jsx(n.div,{className:"absolute w-5 h-5 bg-white border-2 border-blue-500 rounded-full cursor-pointer shadow-lg -top-1.5",style:{left:`${d(i[1])}%`},whileHover:{scale:1.1},whileDrag:{scale:1.2},drag:"x",dragConstraints:{left:0,right:0},onDragStart:()=>l(!0),onDragEnd:c})]}),a.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-700 dark:text-gray-300 mt-2",children:[a.jsxs("span",{children:[i[0],e.unit]}),a.jsxs("span",{children:[i[1],e.unit]})]})]})},cv=({section:e,selectedFilters:t,onFilterChange:s})=>{const[i,o]=p.useState(e.isCollapsed||!1);return a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[a.jsxs("button",{onClick:()=>o(!i),className:"w-full flex items-center justify-between px-6 py-4 text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:e.title}),a.jsx(n.div,{animate:{rotate:i?0:180},transition:{duration:.2},children:a.jsx(tv,{className:"w-4 h-4 text-gray-500"})})]}),a.jsx(r,{children:!i&&a.jsx(n.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"px-6 pb-4",children:["checkbox"===e.type&&e.options&&a.jsx("div",{className:"space-y-1",children:e.options.map(i=>{var n;return a.jsx(ov,{checked:(null==(n=t[e.id])?void 0:n.includes(i.id))||!1,onChange:a=>{const n=t[e.id]||[],r=a?[...n,i.id]:n.filter(e=>e!==i.id);s(e.id,r)},label:i.label,count:i.count,color:i.color},i.id)})}),"range"===e.type&&e.range&&a.jsx(lv,{range:e.range,value:t[e.id]||[e.range.min,e.range.max],onChange:t=>s(e.id,t)}),"tags"===e.type&&e.options&&a.jsx("div",{className:"flex flex-wrap gap-2",children:e.options.map(i=>{var r;const o=null==(r=t[e.id])?void 0:r.includes(i.id);return a.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const a=t[e.id]||[],n=o?a.filter(e=>e!==i.id):[...a,i.id];s(e.id,n)},className:"px-3 py-1.5 rounded-full text-sm font-medium transition-colors "+(o?"bg-blue-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[i.label,i.count&&a.jsxs("span",{className:"ml-1 text-xs "+(o?"text-blue-100":"text-gray-500"),children:["(",i.count,")"]})]},i.id)})})]})})})]})},dv=({filters:e,selectedFilters:t,onFilterChange:s,onClearAll:i,className:o=""})=>{const l=Object.values(t).some(e=>Array.isArray(e)?e.length>0:void 0!==e);return a.jsxs("div",{className:`bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg overflow-hidden ${o}`,children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Filters"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Refine your search results"})]}),a.jsx(r,{children:l&&a.jsxs(n.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 bg-red-50 dark:bg-red-900/30 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-lg transition-colors",children:[a.jsx(nv,{className:"w-4 h-4"}),"Clear All"]})})]}),a.jsx("div",{children:e.map(e=>a.jsx(cv,{section:e,selectedFilters:t,onFilterChange:s},e.id))})]})},hv=({tags:e,selectedTags:t,onTagClick:s,maxTags:i=50,className:o=""})=>{const[l,c]=p.useState(null),[d,h]=p.useState(!1),u=p.useMemo(()=>{const t=[...e].sort((e,t)=>t.count-e.count);return d?t:t.slice(0,i)},[e,i,d]),m={hidden:{opacity:0,scale:.8,y:20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:500,damping:30}}};return a.jsxs("div",{className:`bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg overflow-hidden ${o}`,children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Popular Tags"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Click tags to filter results"})]}),e.length>i&&a.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(!d),className:"px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 bg-blue-50 dark:bg-blue-900/30 rounded-lg transition-colors",children:d?"Show Less":`Show All (${e.length})`})]})}),a.jsx("div",{className:"p-6",children:a.jsx(n.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.02,delayChildren:.1}}},initial:"hidden",animate:"visible",className:"flex flex-wrap gap-3",children:a.jsx(r,{mode:"popLayout",children:u.map(i=>{const o=t.includes(i.id),d=l===i.id;return(()=>{const t=Math.max(...e.map(e=>e.count)),s=Math.min(...e.map(e=>e.count))})(i.count),a.jsxs(n.button,{variants:m,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:"tap",layout:!0,onClick:()=>s(i.id),onMouseEnter:()=>c(i.id),onMouseLeave:()=>c(null),className:`\n                  relative px-4 py-2 rounded-lg font-medium transition-all duration-200 cursor-pointer\n                  border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500\n                  ${o?"bg-blue-500 text-white border-blue-500 shadow-lg":"bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/30"}\n                `,style:{fontSize:"0.875rem"},children:[a.jsxs("span",{className:"relative z-10 flex items-center gap-1",children:[i.label,a.jsxs("span",{className:"text-xs opacity-75 "+(o?"text-blue-100":""),children:["(",i.count,")"]})]}),a.jsx(r,{children:d&&!o&&a.jsx(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full opacity-20"})}),a.jsx(r,{children:o&&a.jsx(n.div,{initial:{opacity:0,scale:1.2},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2},className:"absolute -inset-1 bg-blue-500 rounded-full opacity-20 animate-pulse"})}),a.jsx(n.div,{className:"absolute inset-0 rounded-full",initial:{scale:0,opacity:.5},animate:{scale:2,opacity:0},transition:{duration:.6}},`ripple-${i.id}`)]},i.id)})})})}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:t.length>0?`${t.length} tag${1===t.length?"":"s"} selected`:"No tags selected"}),a.jsxs("span",{children:[u.length," of ",e.length," tags shown"]})]}),a.jsx(r,{children:t.length>0&&a.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 flex flex-wrap gap-1",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mr-2",children:"Active filters:"}),t.map(t=>{const i=e.find(e=>e.id===t);return i?a.jsxs(n.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:[i.label,a.jsx("button",{onClick:e=>{e.stopPropagation(),s(t)},className:"hover:bg-blue-200 dark:hover:bg-blue-800 rounded-full p-0.5 transition-colors",children:a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},t):null})]})})]})})]})},uv=({options:e,value:t,onChange:s,className:i=""})=>{const[o,l]=p.useState(!1),[c,d]=p.useState(null),h=p.useRef(null),u=p.useRef(null),m=e.find(e=>e.id===t);p.useEffect(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&u.current&&!u.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),p.useEffect(()=>{const t=t=>{var i;if(o)switch(t.key){case"Escape":l(!1),null==(i=u.current)||i.focus();break;case"ArrowDown":t.preventDefault();const a=e.findIndex(e=>e.id===c),n=a<e.length-1?a+1:0;d(e[n].id);break;case"ArrowUp":t.preventDefault();const r=e.findIndex(e=>e.id===c),o=r>0?r-1:e.length-1;d(e[o].id);break;case"Enter":t.preventDefault(),c&&(s(c),l(!1))}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[o,c,e,s]);return a.jsxs("div",{className:`relative ${i}`,children:[a.jsxs(n.button,{ref:u,onClick:()=>{l(!o),o||d(t)},whileHover:{scale:1.02},whileTap:{scale:.98},className:`\n          flex items-center justify-between gap-3 px-4 py-3 bg-white dark:bg-gray-800 \n          border-2 border-gray-200 dark:border-gray-600 rounded-xl shadow-sm\n          hover:border-blue-400 dark:hover:border-blue-500 transition-colors duration-200\n          focus:outline-none focus:border-blue-500 dark:focus:border-blue-400\n          ${o?"border-blue-500 dark:border-blue-400 ring-2 ring-blue-100 dark:ring-blue-900/30":""}\n        `,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[(null==m?void 0:m.icon)&&a.jsx("span",{className:"text-lg",children:m.icon}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Sort by: ",(null==m?void 0:m.label)||"Select option"]}),(null==m?void 0:m.description)&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.description})]})]}),a.jsx(n.div,{animate:{rotate:o?180:0},transition:{duration:.2},children:a.jsx(tv,{className:"w-5 h-5 text-gray-400"})})]}),a.jsx(r,{children:o&&a.jsxs(n.div,{ref:h,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl z-50 overflow-hidden",children:[a.jsx("div",{className:"py-2",children:e.map((e,i)=>{const o=e.id===t,h=e.id===c;return a.jsxs(n.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*i},onClick:()=>{return t=e.id,s(t),l(!1),void d(null);var t},onMouseEnter:()=>d(e.id),onMouseLeave:()=>d(null),className:`\n                      w-full flex items-center gap-3 px-4 py-3 text-left transition-colors duration-150\n                      ${h||o?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}\n                    `,children:[e.icon&&a.jsx("span",{className:"text-lg flex-shrink-0",children:e.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium "+(o?"text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-gray-100"),children:e.label}),e.description&&a.jsx("div",{className:"text-xs "+(o?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"),children:e.description})]}),a.jsx(r,{children:o&&a.jsx(n.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"flex-shrink-0",children:a.jsx(Zb,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})}),a.jsx(r,{children:h&&!o&&a.jsx(n.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})})]},e.id)})}),a.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-200 dark:border-gray-600",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Use ↑↓ arrows to navigate, Enter to select, Esc to close"})})]})})]})},pv=({text:e,query:t})=>{if(!t.trim())return a.jsx(a.Fragment,{children:e});const s=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),i=e.split(s);return a.jsx(a.Fragment,{children:i.map((e,t)=>s.test(e)?a.jsx(n.mark,{initial:{backgroundColor:"transparent"},animate:{backgroundColor:"#fef3c7"},className:"bg-yellow-200 dark:bg-yellow-800 text-yellow-900 dark:text-yellow-100 px-1 rounded",children:e},t):e)})},mv=({result:e,query:t,onClick:s,index:i})=>a.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*i},whileHover:{y:-2,scale:1.01},whileTap:{scale:.99},onClick:s,className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 cursor-pointer hover:shadow-lg transition-all duration-200 group",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:e.image?a.jsx("img",{src:e.image,alt:e.title,className:"w-16 h-16 rounded-lg object-cover"}):a.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center text-2xl",children:(e=>{switch(e){case"hackathon":return"🏆";case"team":return"👥";case"project":return"💡";case"organizer":return"🏢";default:return"📄"}})(e.type)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:a.jsx(pv,{text:e.title,query:t})}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex-shrink-0 ${(e=>{switch(e){case"hackathon":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300";case"team":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";case"project":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300";case"organizer":return"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}})(e.type)}`,children:e.type})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",children:a.jsx(pv,{text:e.description,query:t})}),e.tags&&e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,4).map((e,s)=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs rounded-full",children:a.jsx(pv,{text:e,query:t})},s)),e.tags.length>4&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-500 text-xs rounded-full",children:["+",e.tags.length-4," more"]})]}),e.metadata&&a.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:Object.entries(e.metadata).slice(0,3).map(([e,t])=>a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsxs("span",{className:"font-medium",children:[e,":"]}),a.jsx("span",{children:t})]},e))}),e.matchedFields&&e.matchedFields.length>0&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Matches in:"}),a.jsx("div",{className:"flex gap-1",children:e.matchedFields.map(e=>a.jsx("span",{className:"px-1.5 py-0.5 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 text-xs rounded",children:e},e))})]})]}),a.jsx("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),gv=({currentPage:e,totalPages:t,onPageChange:s})=>t<=1?null:a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(e-1),disabled:1===e,className:"px-3 py-2 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(()=>{const s=[],i=[];for(let a=Math.max(2,e-2);a<=Math.min(t-1,e+2);a++)s.push(a);return e-2>2?i.push(1,"..."):i.push(1),i.push(...s),e+2<t-1?i.push("...",t):i.push(t),i})().map((t,i)=>a.jsx(m.Fragment,{children:"..."===t?a.jsx("span",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"..."}):a.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(t),className:"px-3 py-2 text-sm font-medium rounded-lg transition-colors "+(e===t?"bg-blue-500 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:t})},i)),a.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(e+1),disabled:e===t,className:"px-3 py-2 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),xv=({results:e,query:t,isLoading:s,totalCount:i,currentPage:o,itemsPerPage:l,onResultClick:c,onPageChange:d,className:h=""})=>{const u=Math.ceil(i/l),p=(o-1)*l+1,m=Math.min(o*l,i);return s?a.jsx("div",{className:`space-y-4 ${h}`,children:Array.from({length:5}).map((e,t)=>a.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-2/3"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse w-16"}),a.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse w-20"})]})]})]})},t))}):0===e.length&&t?a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`text-center py-12 ${h}`,children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No results found"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["We couldn't find anything matching \"",a.jsx("strong",{children:t}),'"']}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search terms or filters"})]}):a.jsxs("div",{className:h,children:[i>0&&a.jsx(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Search Results"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",p,"-",m," of ",i," results",t&&a.jsxs("span",{children:[' for "',a.jsx("strong",{children:t}),'"']})]})]})}),a.jsx("div",{className:"space-y-4",children:a.jsx(r,{mode:"popLayout",children:e.map((e,s)=>a.jsx(mv,{result:e,query:t,onClick:()=>c(e),index:s},e.id))})}),a.jsx(gv,{currentPage:o,totalPages:u,onPageChange:d})]})},fv=[{id:"1",text:"InnovertEx 2024",type:"hackathon",icon:"🏆"},{id:"2",text:"Web3 Summit Hack",type:"hackathon",icon:"🏆"},{id:"3",text:"Green Tech Challenge",type:"hackathon",icon:"🏆"},{id:"4",text:"FinTech Revolution",type:"hackathon",icon:"🏆"},{id:"5",text:"HealthTech Hack",type:"hackathon",icon:"🏆"},{id:"6",text:"Game Dev Jam",type:"hackathon",icon:"🏆"},{id:"7",text:"IoT Connect",type:"hackathon",icon:"🏆"},{id:"8",text:"AI",type:"category",icon:"🤖"},{id:"9",text:"Machine Learning",type:"category",icon:"🤖"},{id:"10",text:"Blockchain",type:"category",icon:"⛓️"},{id:"11",text:"Code Crusaders",type:"team",icon:"👥"},{id:"12",text:"AI Pioneers",type:"team",icon:"👥"},{id:"13",text:"Blockchain Builders",type:"team",icon:"👥"},{id:"14",text:"TechCorp",type:"organizer",icon:"🏢"},{id:"15",text:"EcoInnovate",type:"organizer",icon:"🏢"},{id:"16",text:"FinanceHub",type:"organizer",icon:"🏢"}],bv=[{id:"1",title:"InnovertEx 2024",description:"Premier AI/ML hackathon focusing on innovation and cutting-edge technology solutions. Join 500+ participants for 48 hours of intense coding.",type:"hackathon",image:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400",tags:["AI","Machine Learning","Innovation","Technology"],metadata:{"Prize Pool":"₹42,00,000",Teams:"150+",Duration:"48 hours",Organizer:"TechCorp"},matchedFields:["title","description","tags"]},{id:"2",title:"Web3 Summit Hack",description:"Decentralized future building hackathon focusing on blockchain technology and Web3 innovations.",type:"hackathon",image:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=400",tags:["Blockchain","Web3","Crypto","DeFi"],metadata:{"Prize Pool":"₹25,20,000",Teams:"100+",Duration:"36 hours",Organizer:"TechCorp"},matchedFields:["title","description","tags"]},{id:"3",title:"Green Tech Challenge",description:"Building solutions for environmental challenges and sustainability. Focus on climate change and green technology.",type:"hackathon",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400",tags:["Sustainability","Environment","Green Tech","Climate"],metadata:{"Prize Pool":"₹21,00,000",Teams:"80+",Duration:"48 hours",Organizer:"EcoInnovate"},matchedFields:["title","description","tags"]},{id:"4",title:"FinTech Revolution",description:"Revolutionizing financial services with innovative fintech solutions. Build the future of banking and payments.",type:"hackathon",image:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=400",tags:["FinTech","Banking","Payments","Finance"],metadata:{"Prize Pool":"₹33,60,000",Teams:"120+",Duration:"48 hours",Organizer:"FinanceHub"},matchedFields:["title","description","tags"]},{id:"5",title:"HealthTech Hack",description:"Healthcare innovation for better lives. Build solutions for medical challenges and health technology.",type:"hackathon",image:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=400",tags:["HealthTech","Medical","Healthcare","Innovation"],metadata:{"Prize Pool":"₹29,40,000",Teams:"90+",Duration:"48 hours",Organizer:"MedTech Solutions"},matchedFields:["title","description","tags"]},{id:"6",title:"Game Dev Jam",description:"Create the next gaming sensation! Build innovative games and interactive experiences.",type:"hackathon",image:"https://images.unsplash.com/photo-1511512578047-dfb367046420?w=400",tags:["Gaming","Game Development","Unity","Entertainment"],metadata:{"Prize Pool":"₹16,80,000",Teams:"70+",Duration:"72 hours",Organizer:"GameStudio"},matchedFields:["title","description","tags"]},{id:"7",title:"IoT Connect",description:"Connecting the world through IoT. Build smart devices and connected solutions for the future.",type:"hackathon",image:"https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400",tags:["IoT","Smart Devices","Connected","Technology"],metadata:{"Prize Pool":"₹23,52,000",Teams:"85+",Duration:"48 hours",Organizer:"TechCorp"},matchedFields:["title","description","tags"]},{id:"8",title:"Code Crusaders",description:"Elite team of developers specializing in full-stack web applications and mobile development. Winners of 3 hackathons.",type:"team",tags:["React","Node.js","Mobile","Full-Stack"],metadata:{Members:"4",Wins:"3",Experience:"5+ years"},matchedFields:["title","tags"]},{id:"9",title:"AI Pioneers",description:"Cutting-edge AI team focused on machine learning and artificial intelligence solutions.",type:"team",tags:["AI","Machine Learning","Python","TensorFlow"],metadata:{Members:"5",Wins:"2",Experience:"4+ years"},matchedFields:["title","tags","description"]},{id:"10",title:"Blockchain Builders",description:"Specialized blockchain development team creating decentralized applications and smart contracts.",type:"team",tags:["Blockchain","Solidity","Web3","Smart Contracts"],metadata:{Members:"3",Wins:"4",Experience:"6+ years"},matchedFields:["title","tags","description"]},{id:"11",title:"Smart City Solutions",description:"Revolutionary IoT project for smart city management, featuring real-time monitoring and AI-powered analytics.",type:"project",tags:["IoT","Smart City","Analytics","Sensors"],metadata:{Status:"In Development","Team Size":"6","Tech Stack":"IoT, Python, React"},matchedFields:["description","tags"]},{id:"12",title:"EcoTracker App",description:"Mobile application for tracking carbon footprint and promoting sustainable living practices.",type:"project",tags:["Sustainability","Mobile App","Environment","React Native"],metadata:{Status:"Completed","Team Size":"4","Tech Stack":"React Native, Node.js"},matchedFields:["title","description","tags"]},{id:"13",title:"TechCorp",description:"Leading technology company organizing multiple hackathons focused on AI, blockchain, and IoT innovations.",type:"organizer",tags:["AI","Blockchain","IoT","Innovation"],metadata:{"Events Organized":"15+","Total Prize Pool":"₹4,20,00,000+",Participants:"5000+"},matchedFields:["title","description"]},{id:"14",title:"EcoInnovate",description:"Environmental technology organization promoting green innovation and sustainable development solutions.",type:"organizer",tags:["Environment","Sustainability","Green Tech","Climate"],metadata:{"Events Organized":"8+",Focus:"Environmental Solutions",Impact:"Global"},matchedFields:["title","description"]}],vv=[{id:"1",label:"AI",count:45,color:"blue"},{id:"2",label:"Machine Learning",count:38,color:"purple"},{id:"3",label:"Web Development",count:52,color:"green"},{id:"4",label:"Mobile",count:29,color:"orange"},{id:"5",label:"Blockchain",count:21,color:"indigo"},{id:"6",label:"IoT",count:18,color:"red"},{id:"7",label:"Data Science",count:34,color:"yellow"},{id:"8",label:"Cybersecurity",count:16,color:"pink"}],yv=[{id:"type",title:"Content Type",type:"checkbox",options:[{id:"hackathon",label:"Hackathons",count:25,color:"#3b82f6"},{id:"team",label:"Teams",count:18,color:"#10b981"},{id:"project",label:"Projects",count:32,color:"#8b5cf6"},{id:"organizer",label:"Organizers",count:12,color:"#f59e0b"}]},{id:"category",title:"Categories",type:"tags",options:[{id:"ai",label:"AI/ML",count:45},{id:"web",label:"Web Dev",count:52},{id:"mobile",label:"Mobile",count:29},{id:"blockchain",label:"Blockchain",count:21},{id:"iot",label:"IoT",count:18},{id:"data",label:"Data Science",count:34}]},{id:"prizeRange",title:"Prize Range",type:"range",range:{id:"prize",label:"Prize Pool",min:0,max:5e6,value:[0,5e6],unit:"₹",step:1e5}},{id:"teamSize",title:"Team Size",type:"range",range:{id:"size",label:"Number of Members",min:1,max:10,value:[1,10],unit:"",step:1}}],wv=[{id:"relevance",label:"Relevance",icon:"🎯",description:"Best match for your search"},{id:"date",label:"Date",icon:"📅",description:"Most recent first"},{id:"popularity",label:"Popularity",icon:"⭐",description:"Most popular items"},{id:"prize",label:"Prize Pool",icon:"💰",description:"Highest prizes first"},{id:"alphabetical",label:"A-Z",icon:"🔤",description:"Alphabetical order"}],jv=({className:e=""})=>{const[t,s]=p.useState(""),[i,o]=p.useState({}),[l,c]=p.useState([]),[d,h]=p.useState("relevance"),[u,g]=p.useState(1),[x,f]=p.useState(!1),[b,v]=p.useState(!0),[y,w]=p.useState([]),[j,N]=p.useState(0),k=async e=>{if(f(!0),await new Promise(e=>setTimeout(e,800)),e.trim()){const t=bv.filter(t=>{var s;return t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||(null==(s=t.tags)?void 0:s.some(t=>t.toLowerCase().includes(e.toLowerCase())))||t.metadata&&Object.values(t.metadata).some(t=>t.toString().toLowerCase().includes(e.toLowerCase()))});w(t),N(t.length)}else w(bv),N(bv.length);f(!1),g(1)};m.useEffect(()=>{const e=new URLSearchParams(window.location.search).get("q");e?(s(e),k(e)):(w(bv),N(bv.length))},[]);const S=p.useMemo(()=>t.trim()?fv.filter(e=>e.text.toLowerCase().includes(t.toLowerCase())).slice(0,8):[],[t]);return a.jsx("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${e}`,children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[a.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 sm:mb-8",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-2 sm:mb-4",children:"Discover Amazing Innovations"}),a.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto px-4",children:"Search through hackathons, teams, projects, and organizers to find exactly what you're looking for"})]}),a.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex justify-center mb-6 sm:mb-8 px-2",children:a.jsx(rv,{value:t,onChange:s,onSearch:e=>{s(e),k(e)},suggestions:S,isLoading:x})}),a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto",children:[a.jsxs("button",{onClick:()=>v(!b),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm",children:[a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})}),a.jsx("span",{className:"hidden sm:inline",children:b?"Hide Filters":"Show Filters"}),a.jsx("span",{className:"sm:hidden",children:"Filters"})]}),j>0&&a.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[j," result",1!==j?"s":""," found"]})]}),a.jsx(uv,{options:wv,value:d,onChange:h,className:"w-full sm:w-64"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[a.jsx(r,{children:b&&a.jsxs(n.div,{initial:{opacity:0,y:-20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-20,height:0},transition:{duration:.3},className:"w-full lg:w-80 lg:flex-shrink-0 space-y-4 lg:space-y-6",children:[a.jsx(dv,{filters:yv,selectedFilters:i,onFilterChange:(e,t)=>{o(s=>({...s,[e]:t}))},onClearAll:()=>{o({}),c([]),h("relevance")}}),a.jsx(hv,{tags:vv,selectedTags:l,onTagClick:e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},maxTags:20})]})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx(xv,{results:y,query:t,isLoading:x,totalCount:j,currentPage:u,itemsPerPage:10,onResultClick:e=>{},onPageChange:g})})]})]})})},Nv=({src:e,alt:t,className:s="",placeholder:i,blurDataURL:o,width:l,height:c,priority:d=!1,onLoad:h,onError:u,sizes:m,srcSet:g})=>{const[x,f]=p.useState(!1),[b,v]=p.useState(d),[y,w]=p.useState(!1),[j,N]=p.useState(""),k=p.useRef(null),S=p.useRef(null),C=o||((e=10,t=10)=>{const s=document.createElement("canvas");s.width=e,s.height=t;const i=s.getContext("2d");if(i){const s=i.createLinearGradient(0,0,e,t);s.addColorStop(0,"#f3f4f6"),s.addColorStop(1,"#e5e7eb"),i.fillStyle=s,i.fillRect(0,0,e,t)}return s.toDataURL()})(l,c);p.useEffect(()=>{if(d||b)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(v(!0),e.disconnect())})},{rootMargin:"50px",threshold:.1});return S.current&&e.observe(S.current),()=>e.disconnect()},[d,b]),p.useEffect(()=>{if(!b||x)return;const t=new Image;return t.onload=()=>{N(e),f(!0),null==h||h()},t.onerror=()=>{w(!0),null==u||u()},g&&(t.srcset=g),m&&(t.sizes=m),t.src=e,()=>{t.onload=null,t.onerror=null}},[b,e,g,m,x,h,u]);const M=p.useCallback(()=>{f(!0),null==h||h()},[h]),I=p.useCallback(()=>{w(!0),null==u||u()},[u]);return a.jsxs("div",{ref:S,className:`relative overflow-hidden ${s}`,style:{width:l,height:c},children:[a.jsxs(r,{mode:"wait",children:[!x&&!y&&a.jsxs(n.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0",children:[i?a.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover filter blur-sm",loading:"eager"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse",style:{backgroundImage:`url(${C})`,backgroundSize:"cover",filter:"blur(10px)"}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})]},"placeholder"),x&&!y&&a.jsx(n.img,{ref:k,src:j,alt:t,className:"w-full h-full object-cover",initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},transition:{duration:.6,ease:[.25,.46,.45,.94]},onLoad:M,onError:I,loading:d?"eager":"lazy",decoding:"async",sizes:m,srcSet:g},"image"),y&&a.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),a.jsx("p",{className:"text-sm",children:"Failed to load image"})]})},"error")]}),!x&&!y&&a.jsx("div",{className:"absolute inset-0 -skew-x-12 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})]})};function kv({items:e,itemHeight:t,containerHeight:s,renderItem:i,overscan:o=5,className:l="",onScroll:c,estimatedItemHeight:d,variableHeight:h=!1,getItemHeight:u,scrollToIndex:m,onEndReached:g,endReachedThreshold:x=.8}){const[f,b]=p.useState(0),[v,y]=p.useState(!1),w=p.useRef(null),j=p.useRef(),N=p.useRef(new Map),k=p.useRef(new Map),S=p.useCallback(e=>{if(h&&u){const t=N.current.get(e);if(void 0!==t)return t;const s=u(e);return N.current.set(e,s),s}return d||t},[h,u,d,t]),C=p.useCallback(e=>{if(!h)return e*t;const s=k.current.get(e);if(void 0!==s)return s;let i=0;for(let t=0;t<e;t++)i+=S(t);return k.current.set(e,i),i},[h,t,S]),M=p.useMemo(()=>h?e.reduce((e,t,s)=>e+S(s),0):e.length*t,[e.length,h,t,S]),I=p.useMemo(()=>{if(!h){const i=Math.floor(f/t),a=Math.min(e.length-1,Math.ceil((f+s)/t));return{start:Math.max(0,i-o),end:Math.min(e.length-1,a+o)}}let i=0,a=e.length-1;for(;i<a;){const e=Math.floor((i+a)/2);C(e)<f?i=e+1:a=e}let n=i,r=C(i);for(;n<e.length&&r<f+s;)r+=S(n),n++;return{start:Math.max(0,i-o),end:Math.min(e.length-1,n+o)}},[f,s,t,e.length,o,h,C,S]),T=p.useMemo(()=>{const e=[];for(let t=I.start;t<=I.end;t++){const s=C(t),i=S(t);e.push({index:t,start:s,end:s+i,height:i})}return e},[I,C,S]),E=p.useCallback(e=>{const t=e.currentTarget.scrollTop;if(b(t),y(!0),null==c||c(t),g){const s=e.currentTarget.scrollHeight;(t+e.currentTarget.clientHeight)/s>=x&&g()}j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{y(!1)},150)},[c,g,x]);return p.useEffect(()=>{if(void 0!==m&&w.current){const e=C(m);w.current.scrollTo({top:e,behavior:"smooth"})}},[m,C]),p.useEffect(()=>()=>{j.current&&clearTimeout(j.current)},[]),a.jsx("div",{ref:w,className:`overflow-auto ${l}`,style:{height:s},onScroll:E,children:a.jsxs("div",{style:{height:M,position:"relative"},children:[a.jsx(r,{mode:"popLayout",children:T.map(t=>a.jsx(n.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:v?.1:.3,ease:"easeOut",layout:{duration:.2}},style:{position:"absolute",top:t.start,height:t.height,width:"100%"},children:i(e[t.index],t.index,!0)},t.index))}),v&&a.jsxs(n.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"fixed right-4 top-1/2 transform -translate-y-1/2 bg-black/70 text-white px-3 py-2 rounded-lg text-sm font-medium z-50",children:[Math.round(f/(M-s)*100),"%"]})]})})}const Sv=({className:e="",width:t="100%",height:s="1rem",variant:i="text",animation:n="pulse",lines:r=1})=>{const o="bg-gray-200 dark:bg-gray-700",l={text:"rounded",rectangular:"",circular:"rounded-full",rounded:"rounded-lg"},c={pulse:"animate-pulse",wave:"animate-shimmer",none:""},d={width:"number"==typeof t?`${t}px`:t,height:"number"==typeof s?`${s}px`:s};return"text"===i&&r>1?a.jsx("div",{className:`space-y-2 ${e}`,children:Array.from({length:r}).map((e,t)=>a.jsx("div",{className:`${o} ${l[i]} ${c[n]}`,style:{...d,width:t===r-1?"75%":d.width}},t))}):a.jsx("div",{className:`${o} ${l[i]} ${c[n]} ${e}`,style:d})},Cv=({className:e=""})=>a.jsxs("div",{className:`p-4 border border-gray-200 dark:border-gray-700 rounded-lg ${e}`,children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx(Sv,{variant:"circular",width:40,height:40}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Sv,{width:"60%",height:"1rem",className:"mb-2"}),a.jsx(Sv,{width:"40%",height:"0.75rem"})]})]}),a.jsx(Sv,{variant:"rectangular",height:"200px",className:"mb-4"}),a.jsx(Sv,{lines:3})]}),Mv=({isLoading:e,skeleton:t,children:s,delay:i=0,fadeInDuration:r=.3})=>a.jsx(n.div,{initial:!1,animate:e?"loading":"loaded",variants:{loading:{opacity:1},loaded:{opacity:1}},transition:{delay:i,duration:r},children:e?t:s}),Iv=({count:e,skeleton:t,className:s="",staggerDelay:i=.1})=>a.jsx("div",{className:s,children:Array.from({length:e}).map((e,s)=>a.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*i,duration:.3,ease:"easeOut"},children:a.jsx(t,{})},s))}),Tv=({enabled:e=!1,position:t="top-right",showDetails:s=!1,onMetricsUpdate:i})=>{const[o,l]=p.useState({fps:0,memoryUsage:0,loadTime:0,renderTime:0,bundleSize:0,cacheHitRate:0}),[c,d]=p.useState(!1),[h,u]=p.useState(e),m=p.useRef(0),g=p.useRef(performance.now()),x=p.useRef(0),f=p.useRef(0),b=p.useRef(0);p.useEffect(()=>{if(!e)return;let t;const s=()=>{m.current++;const e=performance.now(),i=e-g.current;if(i>=1e3){const t=Math.round(1e3*m.current/i);l(e=>({...e,fps:t})),m.current=0,g.current=e}t=requestAnimationFrame(s)};return t=requestAnimationFrame(s),()=>{t&&cancelAnimationFrame(t)}},[e]),p.useEffect(()=>{if(!e||!("memory"in performance))return;const t=()=>{const e=performance.memory;if(e){const t=Math.round(e.usedJSHeapSize/1024/1024);l(e=>({...e,memoryUsage:t}))}},s=setInterval(t,2e3);return t(),()=>clearInterval(s)},[e]),p.useEffect(()=>{if(!e)return;const t=()=>{const e=performance.getEntriesByType("navigation")[0];if(e){const t=Math.round(e.loadEventEnd-(e.fetchStart||0));l(e=>({...e,loadTime:t}))}};if("complete"!==document.readyState)return window.addEventListener("load",t),()=>window.removeEventListener("load",t);t()},[e]),p.useEffect(()=>{if(e)return x.current=performance.now(),()=>{const e=performance.now()-x.current;l(t=>({...t,renderTime:Math.round(e)}))}}),p.useEffect(()=>{if(!e)return;(()=>{const e=Array.from(document.querySelectorAll("script[src]")),t=Array.from(document.querySelectorAll('link[rel="stylesheet"]'));let s=0;e.forEach(e=>{const t=e.src;(t.includes("chunk")||t.includes("bundle"))&&(s+=100)}),t.forEach(()=>{s+=20}),l(e=>({...e,bundleSize:s}))})()},[e]),p.useEffect(()=>{if(!e)return;const t=window.fetch;return window.fetch=async(...e)=>{try{const s=await t(...e);if(s.ok){s.headers.get("cache-control")||s.headers.get("etag")?f.current++:b.current++;const e=f.current+b.current,t=e>0?Math.round(f.current/e*100):0;l(e=>({...e,cacheHitRate:t}))}return s}catch(s){throw b.current++,s}},()=>{window.fetch=t}},[e]),p.useEffect(()=>{i&&i(o)},[o,i]);const v=(()=>{const e=[];return o.fps<30&&e.push("Low FPS detected"),o.memoryUsage>100&&e.push("High memory usage"),o.loadTime>3e3&&e.push("Slow page load"),o.renderTime>16&&e.push("Slow render time"),o.cacheHitRate<50&&e.push("Poor cache performance"),e})();return h?a.jsx(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`fixed ${{"top-left":"top-4 left-4","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-right":"bottom-4 right-4"}[t]} z-50 font-mono text-xs`,children:a.jsxs(n.div,{className:"bg-black/80 backdrop-blur-sm text-green-400 rounded-lg border border-green-500/30 shadow-lg",animate:{width:c?"auto":"120px"},transition:{duration:.3},children:[a.jsxs("div",{className:"flex items-center justify-between p-2 cursor-pointer",onClick:()=>d(!c),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${o.fps>30?"bg-green-400":"bg-red-400"} animate-pulse`}),a.jsx("span",{children:"Perf"})]}),a.jsx(n.div,{animate:{rotate:c?180:0},transition:{duration:.3},children:"▼"})]}),!c&&a.jsxs("div",{className:"px-2 pb-2 space-y-1",children:[a.jsxs("div",{children:["FPS: ",o.fps]}),a.jsxs("div",{children:["MEM: ",o.memoryUsage,"MB"]})]}),a.jsx(r,{children:c&&a.jsx(n.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:a.jsxs("div",{className:"px-2 pb-2 space-y-2 min-w-[200px]",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"FPS:"}),a.jsx("span",{className:o.fps>30?"text-green-400":"text-red-400",children:o.fps})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Memory:"}),a.jsxs("span",{className:o.memoryUsage>100?"text-yellow-400":"text-green-400",children:[o.memoryUsage,"MB"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Load:"}),a.jsxs("span",{className:o.loadTime>3e3?"text-red-400":"text-green-400",children:[o.loadTime,"ms"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Render:"}),a.jsxs("span",{className:o.renderTime>16?"text-yellow-400":"text-green-400",children:[o.renderTime,"ms"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Bundle:"}),a.jsxs("span",{children:[o.bundleSize,"KB"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cache:"}),a.jsxs("span",{className:o.cacheHitRate>70?"text-green-400":"text-yellow-400",children:[o.cacheHitRate,"%"]})]})]}),v.length>0&&a.jsxs("div",{className:"border-t border-red-500/30 pt-2",children:[a.jsx("div",{className:"text-red-400 font-semibold mb-1",children:"Warnings:"}),v.map((e,t)=>a.jsxs("div",{className:"text-red-300 text-xs",children:["⚠ ",e]},t))]}),a.jsxs("div",{className:"border-t border-green-500/30 pt-2 flex gap-2",children:[a.jsx("button",{onClick:e=>{e.stopPropagation(),u(!1)},className:"text-xs px-2 py-1 bg-red-500/20 hover:bg-red-500/30 rounded transition-colors",children:"Hide"}),a.jsx("button",{onClick:e=>{e.stopPropagation()},className:"text-xs px-2 py-1 bg-blue-500/20 hover:bg-blue-500/30 rounded transition-colors",children:"Log"})]})]})})})]})}):null};function Ev(e={}){const{threshold:t=.1,root:s=null,rootMargin:i="0px",freezeOnceVisible:a=!1,initialIsIntersecting:n=!1}=e,[r,o]=p.useState(n),[l,c]=p.useState(null),d=p.useRef(null),h=p.useRef(null),u=p.useCallback(e=>{const[t]=e;c(t),o(t.isIntersecting),a&&t.isIntersecting&&h.current&&h.current.disconnect()},[a]);return p.useEffect(()=>{const e=d.current;if(e)return h.current=new IntersectionObserver(u,{threshold:t,root:s,rootMargin:i}),h.current.observe(e),()=>{h.current&&h.current.disconnect()}},[t,s,i,u]),{ref:d,isIntersecting:r,entry:l}}function _v(){const e=function(e){const{workerPath:t,maxWorkers:s=1,terminateOnUnmount:i=!0}=e,a=p.useRef([]),n=p.useRef([]),r=p.useRef(new Map),[o,l]=p.useState(!1),[c,d]=p.useState(new Map),h=p.useCallback(()=>{for(let i=0;i<s;i++)try{const e=new Worker(new URL(t,import.meta.url),{type:"module"});e.onmessage=t=>{const s=t.data;if("progress"===s.type){const e={id:s.id,progress:s.progress,message:s.message};d(t=>new Map(t.set(s.id,e)));const t=r.current.get(s.id);(null==t?void 0:t.onProgress)&&t.onProgress(e)}else{const t=s,i=r.current.get(t.id);i&&(t.error?i.reject(new Error(t.error)):i.resolve(t.result),r.current.delete(t.id),d(e=>{const s=new Map(e);return s.delete(t.id),s}));const n=a.current.find(t=>t.worker===e);n&&(n.busy=!1,n.taskId=void 0),u()}},e.onerror=t=>{const s=a.current.find(t=>t.worker===e);if(null==s?void 0:s.taskId){const e=r.current.get(s.taskId);e&&(e.reject(new Error("Worker error")),r.current.delete(s.taskId)),s.busy=!1,s.taskId=void 0}},a.current.push({worker:e,busy:!1})}catch(e){}},[t,s]),u=p.useCallback(()=>{const e=n.current.shift();if(!e)return void l(!1);const t=a.current.find(e=>!e.busy);t?(t.busy=!0,t.taskId=e.id,t.worker.postMessage(e)):n.current.unshift(e)},[]),m=p.useCallback((e,t,s,i)=>new Promise((a,o)=>{const c=`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,d={id:c,type:e,data:t,options:s};r.current.set(c,{resolve:a,reject:o,onProgress:i}),n.current.push(d),l(!0),u()}),[u]),g=p.useCallback(()=>{a.current.forEach(({worker:e})=>{e.terminate()}),a.current=[],r.current.forEach(({reject:e})=>{e(new Error("Worker terminated"))}),r.current.clear(),n.current=[],l(!1),d(new Map)},[]);return p.useEffect(()=>(h(),()=>{i&&g()}),[h,g,i]),{executeTask:m,terminateWorkers:g,isLoading:o,progress:c,activeWorkers:a.current.filter(e=>e.busy).length,totalWorkers:a.current.length,pendingTasks:n.current.length}}({workerPath:"/src/utils/webWorkers/dataProcessor.worker.ts",maxWorkers:navigator.hardwareConcurrency||4}),t=p.useCallback((t,s={},i)=>e.executeTask("sort",t,s,i),[e]),s=p.useCallback((t,s,i,a)=>e.executeTask("filter",t,{predicate:s,params:i},a),[e]),i=p.useCallback((t,s,i={},a)=>e.executeTask("search",t,{query:s,...i},a),[e]),a=p.useCallback((t,s,i,a)=>e.executeTask("calculate",t,{operation:s,field:i},a),[e]),n=p.useCallback((t,s,i,a)=>e.executeTask("transform",t,{transformer:s,params:i},a),[e]);return{...e,sortData:t,filterData:s,searchData:i,calculateData:a,transformData:n}}const Dv=()=>{const[e,t]=p.useState(!1),[s,i]=p.useState(!1),[r]=p.useState(()=>{return e=1e4,Array.from({length:e},(e,t)=>({id:t,name:`Item ${t+1}`,description:`This is a sample description for item ${t+1}. It contains some text to demonstrate the virtual scrolling capabilities.`,value:Math.floor(1e3*Math.random()),category:["Tech","Design","Business","Science"][Math.floor(4*Math.random())],image:`https://picsum.photos/300/200?random=${t}`}));var e}),[o,l]=p.useState([]),{isOnline:c}=function(){const[e,t]=p.useState(navigator.onLine);return p.useEffect(()=>{const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[]),{isOnline:e,isOffline:!e}}(),d=function(e="/sw.js",t={}){const[s,i]=p.useState({isSupported:"serviceWorker"in navigator,isRegistered:!1,isInstalling:!1,isWaiting:!1,isControlling:!1,error:null,registration:null}),a=async()=>{if(s.isSupported)try{i(e=>({...e,isInstalling:!0,error:null}));const s=await navigator.serviceWorker.register(e,t);i(e=>({...e,isRegistered:!0,isInstalling:!1,registration:s})),s.addEventListener("updatefound",()=>{const e=s.installing;e&&(i(e=>({...e,isInstalling:!0})),e.addEventListener("statechange",()=>{"installed"===e.state&&i(e=>({...e,isInstalling:!1,isWaiting:null!==navigator.serviceWorker.controller}))}))})}catch(a){i(e=>({...e,isInstalling:!1,error:a instanceof Error?a.message:"Registration failed"}))}else i(e=>({...e,error:"Service Workers not supported"}))};return p.useEffect(()=>{if(!s.isSupported)return;const e=()=>{i(e=>({...e,isControlling:null!==navigator.serviceWorker.controller}))};return e(),navigator.serviceWorker.addEventListener("controllerchange",e),()=>{navigator.serviceWorker.removeEventListener("controllerchange",e)}},[s.isSupported]),p.useEffect(()=>{s.isSupported&&!s.isRegistered&&a()},[s.isSupported,s.isRegistered]),{...s,register:a,unregister:async()=>{if(s.registration)try{await s.registration.unregister()&&i(e=>({...e,isRegistered:!1,registration:null}))}catch(e){i(t=>({...t,error:e instanceof Error?e.message:"Unregistration failed"}))}},update:async()=>{if(s.registration)try{await s.registration.update()}catch(e){i(t=>({...t,error:e instanceof Error?e.message:"Update failed"}))}},skipWaiting:()=>{var e;(null==(e=s.registration)?void 0:e.waiting)&&s.registration.waiting.postMessage({type:"SKIP_WAITING"})}}}(),h=_v(),{ref:u,animationProps:m}=function(e={}){const{threshold:t=.1,rootMargin:s="0px 0px -10% 0px",animateOnce:i=!0}=e,{ref:a,isIntersecting:n}=Ev({threshold:t,rootMargin:s,freezeOnceVisible:i});return{ref:a,isIntersecting:n,animationProps:{initial:{opacity:0,y:50},animate:n?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,ease:[.25,.46,.45,.94]}}}}(),g=p.useMemo(()=>["https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=800&h=600","https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=800&h=600","https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=800&h=600","https://images.unsplash.com/photo-1504639725590-34d0984388bd?w=800&h=600","https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=800&h=600","https://images.unsplash.com/photo-1515879218367-8466d910aaa4?w=800&h=600"],[]);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 text-white",children:[a.jsx(Tv,{enabled:!0,position:"top-right"}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"🚀 Performance Demo"}),a.jsx("p",{className:"text-xl text-gray-300 mb-6",children:"High-performance frontend components optimized for speed and user experience"}),a.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[a.jsx("div",{className:"px-3 py-1 rounded-full text-sm "+(c?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:c?"🟢 Online":"🔴 Offline"}),a.jsx("div",{className:"px-3 py-1 rounded-full text-sm "+(d.isRegistered?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"),children:d.isRegistered?"⚡ SW Active":"⚪ SW Inactive"}),a.jsx("div",{className:"px-3 py-1 rounded-full text-sm "+(h.isLoading?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"),children:h.isLoading?"⏳ Processing":"✅ Ready"})]})]}),a.jsxs("div",{className:"space-y-16",children:[a.jsxs("section",{className:"card p-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:["🖼️ Lazy Loading Images",a.jsx("span",{className:"text-sm font-normal text-gray-400",children:"Blur-to-sharp transitions"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((e,t)=>a.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:a.jsx(Nv,{src:e,alt:`Demo image ${t+1}`,className:"w-full h-full",priority:0===t})},t))}),a.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Images load progressively with blur placeholders and smooth transitions. First image has priority loading."})]}),a.jsxs("section",{className:"card p-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:["📜 Virtual Scrolling",a.jsx("span",{className:"text-sm font-normal text-gray-400",children:"10,000 items rendered efficiently"})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:a.jsx(kv,{items:r,itemHeight:80,containerHeight:400,className:"border border-gray-700 rounded",renderItem:(e,t,s)=>a.jsxs("div",{className:"flex items-center p-4 border-b border-gray-700 hover:bg-gray-700/50 transition-colors",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold mr-4",children:e.id+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:e.name}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-bold text-green-400",children:e.value}),a.jsx("div",{className:"text-xs text-gray-500",children:e.category})]})]})})}),a.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Only visible items are rendered in the DOM. Smooth scrolling with momentum and scroll indicators."})]}),a.jsxs(n.section,{ref:u,...m,className:"card p-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:["👁️ Scroll Animations",a.jsx("span",{className:"text-sm font-normal text-gray-400",children:"Intersection Observer powered"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map((e,t)=>a.jsx(Pv,{index:t},e))}),a.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Elements animate into view when scrolled into viewport. Performance optimized with Intersection Observer API."})]}),a.jsxs("section",{className:"card p-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:["⚙️ Web Workers",a.jsx("span",{className:"text-sm font-normal text-gray-400",children:"Heavy computations without blocking UI"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:async()=>{t(!0);try{const e=await h.sortData(r.slice(0,1e3),{key:"value",direction:"desc"});l(e.slice(0,10))}catch(e){}finally{t(!1)}},disabled:e,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 rounded-lg transition-colors",children:e?"Processing...":"Sort 1000 Items"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[a.jsxs("span",{children:["Workers: ",h.activeWorkers,"/",h.totalWorkers]}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:["Pending: ",h.pendingTasks]})]})]}),o.length>0&&a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Top 10 Results:"}),a.jsx("div",{className:"space-y-2",children:o.map((e,t)=>a.jsxs("div",{className:"flex justify-between items-center py-1",children:[a.jsx("span",{children:e.name}),a.jsx("span",{className:"font-bold text-green-400",children:e.value})]},e.id))})]})]}),a.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Heavy data processing runs in background threads without freezing the UI. Multiple workers for parallel processing."})]}),a.jsxs("section",{className:"card p-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:["💀 Skeleton Screens",a.jsx("span",{className:"text-sm font-normal text-gray-400",children:"Progressive loading states"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("button",{onClick:()=>{i(!0),setTimeout(()=>i(!1),3e3)},className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:"Demo Loading States"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(Mv,{isLoading:s,skeleton:a.jsx(Cv,{}),children:a.jsxs("div",{className:"p-4 border border-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-blue-500 rounded-full"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"John Doe"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Software Engineer"})]})]}),a.jsx("div",{className:"w-full h-32 bg-gradient-to-br from-blue-500 to-purple-500 rounded mb-4"}),a.jsx("p",{className:"text-gray-300",children:"This is a sample card that demonstrates the progressive loading with skeleton screens. The skeleton provides visual feedback while content loads."})]})}),a.jsx(Mv,{isLoading:s,skeleton:a.jsx(Iv,{count:3,skeleton:Cv}),children:a.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>a.jsxs("div",{className:"p-3 border border-gray-700 rounded-lg",children:[a.jsxs("h4",{className:"font-semibold",children:["Loaded Item ",e]}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Content loaded successfully"})]},e))})})]})]}),a.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Skeleton screens provide immediate visual feedback and improve perceived performance during loading states."})]}),a.jsxs("section",{className:"card p-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:["📦 Bundle Optimization",a.jsx("span",{className:"text-sm font-normal text-gray-400",children:"Code splitting & lazy loading"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-3 text-green-400",children:"✅ Optimizations Applied"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:"• Manual chunk splitting by vendor"}),a.jsx("li",{children:"• Feature-based code splitting"}),a.jsx("li",{children:"• Tree shaking enabled"}),a.jsx("li",{children:"• CSS code splitting"}),a.jsx("li",{children:"• Asset optimization"}),a.jsx("li",{children:"• Gzip compression"})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-3 text-blue-400",children:"⚡ Performance Features"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:"• Service Worker caching"}),a.jsx("li",{children:"• Image lazy loading"}),a.jsx("li",{children:"• Virtual scrolling"}),a.jsx("li",{children:"• Web Workers for heavy tasks"}),a.jsx("li",{children:"• GPU-accelerated animations"}),a.jsx("li",{children:"• Memory-efficient rendering"})]})]})]})]})]})]})]})},Pv=({index:e})=>{const{ref:t,isIntersecting:s}=Ev({threshold:.1,freezeOnceVisible:!0});return a.jsxs(n.div,{ref:t,initial:{opacity:0,y:50},animate:s?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,delay:.2*e},className:"bg-gradient-to-br from-blue-600 to-purple-600 p-6 rounded-lg",children:[a.jsx("div",{className:"text-2xl mb-2",children:"🎯"}),a.jsxs("h3",{className:"font-semibold mb-2",children:["Animated Card ",e+1]}),a.jsx("p",{className:"text-blue-100 text-sm",children:"This card animates into view when scrolled into the viewport using Intersection Observer."})]})},Av=se([{path:"/",element:a.jsx(xt,{}),children:[{index:!0,element:a.jsx(ft,{})},{path:"discover",element:a.jsx(bt,{})},{path:"login",element:a.jsx(vt,{})},{path:"signup",element:a.jsx(yt,{})},{path:"hackathons/:id",element:a.jsx(wt,{})},{path:"dashboard",element:a.jsx(wl,{children:a.jsx(fl,{})})},{path:"submission/:hackathonId/:teamId",element:a.jsx(wl,{children:a.jsx(bl,{})})},{path:"evaluate/:submissionId",element:a.jsx(wl,{children:a.jsx(vl,{})})},{path:"judge/:hackathonId",element:a.jsx(wl,{children:a.jsx(Kf,{})})},{path:"leaderboard",element:a.jsx(yl,{})},{path:"gamify",element:a.jsx(Ll,{})},{path:"quest-map",element:a.jsx(Kb,{})},{path:"quest-map-basic",element:a.jsx(bb,{})},{path:"quest-map-enhanced",element:a.jsx(Tb,{})},{path:"quest-map-simple",element:a.jsx(Lb,{})},{path:"quest-map-demo",element:a.jsx($b,{})},{path:"universe",element:a.jsx(Kb,{})},{path:"search",element:a.jsx(jv,{})},{path:"performance",element:a.jsx(Dv,{})},{path:"3d-test",element:a.jsx(Eb,{})},{path:"gallery",element:a.jsx(md,{})},{path:"teams",element:a.jsx(Rf,{})},{path:"community",element:a.jsx(Jf,{})},{path:"organizer/create",element:a.jsx(wl,{children:a.jsx(jl,{})})},{path:"comms/:id",element:a.jsx(Nl,{})}]}]);X.createRoot(document.getElementById("root")).render(a.jsx(m.StrictMode,{children:a.jsx(ut,{children:a.jsx(ie,{router:Av})})}));
//# sourceMappingURL=index-BuM1ptcR.js.map
